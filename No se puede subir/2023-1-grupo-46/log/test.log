  [1m[35m (107.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (267.0ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "compras" CASCADE[0m
  [1m[35m (25.5ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "libros" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" integer, "stock" integer, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "mensajes" CASCADE[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "resenas" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "nombre" character varying, "telefono" character varying, "descripcion" character varying, "tipo_de_usuario" character varying, "picture" character varying)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230423203622)[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230416162514),
(20230417001621),
(20230417002537),
(20230417212118),
(20230418020514),
(20230418024303),
(20230420193941),
(20230422212919),
(20230423201745);

[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (5.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-05-18 00:55:44.507548"], ["updated_at", "2023-05-18 00:55:44.507548"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "0210291b2567d84d6f3746acc1b4b6f73ed83c6a"], ["created_at", "2023-05-18 00:55:44.520081"], ["updated_at", "2023-05-18 00:55:44.520081"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.5ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 00:55:44.687921', '2023-05-18 00:55:44.687921'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 00:55:44.687921', '2023-05-18 00:55:44.687921');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 00:55:44.699693', '2023-05-18 00:55:44.699693'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 00:55:44.699693', '2023-05-18 00:55:44.699693');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 00:55:44.701832', '2023-05-18 00:55:44.701832'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 00:55:44.701832', '2023-05-18 00:55:44.701832');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 00:55:44.705939', '2023-05-18 00:55:44.705939'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 00:55:44.705939', '2023-05-18 00:55:44.705939');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 00:55:44.710119', '2023-05-18 00:55:44.710119', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 00:55:44.710119', '2023-05-18 00:55:44.710119', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (65.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (215.3ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "compras" CASCADE[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "libros" CASCADE[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" integer, "stock" integer, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "mensajes" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "resenas" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "encrypted_password" character varying NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "nombre" character varying, "telefono" character varying, "descripcion" character varying, "tipo_de_usuario" character varying, "picture" character varying)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230423203622)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230416162514),
(20230417001621),
(20230417002537),
(20230417212118),
(20230418020514),
(20230418024303),
(20230420193941),
(20230422212919),
(20230423201745);

[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-05-18 01:06:01.475895"], ["updated_at", "2023-05-18 01:06:01.475895"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "f04cef3797ef5e9bfa55089c9bfdd60719a3b736"], ["created_at", "2023-05-18 01:06:01.487395"], ["updated_at", "2023-05-18 01:06:01.487395"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:06:01.626682', '2023-05-18 01:06:01.626682'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:06:01.626682', '2023-05-18 01:06:01.626682');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:06:01.639016', '2023-05-18 01:06:01.639016'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:06:01.639016', '2023-05-18 01:06:01.639016');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:06:01.641629', '2023-05-18 01:06:01.641629'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:06:01.641629', '2023-05-18 01:06:01.641629');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:06:01.644859', '2023-05-18 01:06:01.644859'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:06:01.644859', '2023-05-18 01:06:01.644859');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:06:01.647966', '2023-05-18 01:06:01.647966', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:06:01.647966', '2023-05-18 01:06:01.647966', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:09:14.738617', '2023-05-18 01:09:14.738617'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:09:14.738617', '2023-05-18 01:09:14.738617');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:09:14.747688', '2023-05-18 01:09:14.747688'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:09:14.747688', '2023-05-18 01:09:14.747688');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:09:14.749491', '2023-05-18 01:09:14.749491'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:09:14.749491', '2023-05-18 01:09:14.749491');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:09:14.752441', '2023-05-18 01:09:14.752441'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:09:14.752441', '2023-05-18 01:09:14.752441');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:09:14.755683', '2023-05-18 01:09:14.755683', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:09:14.755683', '2023-05-18 01:09:14.755683', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:12:02.260818', '2023-05-18 01:12:02.260818'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:12:02.260818', '2023-05-18 01:12:02.260818');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:12:02.270161', '2023-05-18 01:12:02.270161'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:12:02.270161', '2023-05-18 01:12:02.270161');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:12:02.272000', '2023-05-18 01:12:02.272000'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:12:02.272000', '2023-05-18 01:12:02.272000');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:12:02.275924', '2023-05-18 01:12:02.275924'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:12:02.275924', '2023-05-18 01:12:02.275924');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:12:02.279029', '2023-05-18 01:12:02.279029', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:12:02.279029', '2023-05-18 01:12:02.279029', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:12:53.536253', '2023-05-18 01:12:53.536253'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:12:53.536253', '2023-05-18 01:12:53.536253');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:12:53.544956', '2023-05-18 01:12:53.544956'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:12:53.544956', '2023-05-18 01:12:53.544956');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:12:53.546613', '2023-05-18 01:12:53.546613'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:12:53.546613', '2023-05-18 01:12:53.546613');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:12:53.549969', '2023-05-18 01:12:53.549969'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:12:53.549969', '2023-05-18 01:12:53.549969');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:12:53.553533', '2023-05-18 01:12:53.553533', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:12:53.553533', '2023-05-18 01:12:53.553533', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:13:22.299513', '2023-05-18 01:13:22.299513'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:13:22.299513', '2023-05-18 01:13:22.299513');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:13:22.308903', '2023-05-18 01:13:22.308903'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:13:22.308903', '2023-05-18 01:13:22.308903');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:13:22.310671', '2023-05-18 01:13:22.310671'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:13:22.310671', '2023-05-18 01:13:22.310671');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:13:22.314370', '2023-05-18 01:13:22.314370'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:13:22.314370', '2023-05-18 01:13:22.314370');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:13:22.317820', '2023-05-18 01:13:22.317820', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:13:22.317820', '2023-05-18 01:13:22.317820', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:14:19.956580', '2023-05-18 01:14:19.956580'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:14:19.956580', '2023-05-18 01:14:19.956580');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:14:19.966364', '2023-05-18 01:14:19.966364'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:14:19.966364', '2023-05-18 01:14:19.966364');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:14:19.968194', '2023-05-18 01:14:19.968194'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:14:19.968194', '2023-05-18 01:14:19.968194');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:14:19.971874', '2023-05-18 01:14:19.971874'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:14:19.971874', '2023-05-18 01:14:19.971874');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:14:19.974843', '2023-05-18 01:14:19.974843', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:14:19.974843', '2023-05-18 01:14:19.974843', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (40.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (221.0ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "compras" CASCADE[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "libros" CASCADE[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" integer, "stock" integer, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "mensajes" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "resenas" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "encrypted_password" character varying, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "nombre" character varying, "telefono" character varying, "descripcion" character varying, "tipo_de_usuario" character varying, "picture" character varying)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230423203622)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230416162514),
(20230417001621),
(20230417002537),
(20230417212118),
(20230418020514),
(20230418024303),
(20230420193941),
(20230422212919),
(20230423201745);

[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-05-18 01:15:18.845932"], ["updated_at", "2023-05-18 01:15:18.845932"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "ef23dc17b6b47165cdd5c7f37aaa2f4f8098d1ba"], ["created_at", "2023-05-18 01:15:18.855462"], ["updated_at", "2023-05-18 01:15:18.855462"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:15:18.984351', '2023-05-18 01:15:18.984351'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:15:18.984351', '2023-05-18 01:15:18.984351');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:15:18.995779', '2023-05-18 01:15:18.995779'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:15:18.995779', '2023-05-18 01:15:18.995779');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:15:18.999416', '2023-05-18 01:15:18.999416'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:15:18.999416', '2023-05-18 01:15:18.999416');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:15:19.004205', '2023-05-18 01:15:19.004205'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:15:19.004205', '2023-05-18 01:15:19.004205');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:15:19.007832', '2023-05-18 01:15:19.007832', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:15:19.007832', '2023-05-18 01:15:19.007832', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (69.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:15:40.477587', '2023-05-18 01:15:40.477587'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:15:40.477587', '2023-05-18 01:15:40.477587');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:15:40.486233', '2023-05-18 01:15:40.486233'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:15:40.486233', '2023-05-18 01:15:40.486233');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:15:40.489918', '2023-05-18 01:15:40.489918'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:15:40.489918', '2023-05-18 01:15:40.489918');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:15:40.493338', '2023-05-18 01:15:40.493338'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:15:40.493338', '2023-05-18 01:15:40.493338');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:15:40.496541', '2023-05-18 01:15:40.496541', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:15:40.496541', '2023-05-18 01:15:40.496541', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.0ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:43:07.860547', '2023-05-18 01:43:07.860547'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:43:07.860547', '2023-05-18 01:43:07.860547');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:43:07.870685', '2023-05-18 01:43:07.870685'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:43:07.870685', '2023-05-18 01:43:07.870685');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:43:07.872603', '2023-05-18 01:43:07.872603'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:43:07.872603', '2023-05-18 01:43:07.872603');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:43:07.876599', '2023-05-18 01:43:07.876599'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:43:07.876599', '2023-05-18 01:43:07.876599');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:43:07.879865', '2023-05-18 01:43:07.879865', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:43:07.879865', '2023-05-18 01:43:07.879865', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:43:40.496724', '2023-05-18 01:43:40.496724'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:43:40.496724', '2023-05-18 01:43:40.496724');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:43:40.507486', '2023-05-18 01:43:40.507486'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:43:40.507486', '2023-05-18 01:43:40.507486');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:43:40.510303', '2023-05-18 01:43:40.510303'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:43:40.510303', '2023-05-18 01:43:40.510303');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:43:40.513668', '2023-05-18 01:43:40.513668'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:43:40.513668', '2023-05-18 01:43:40.513668');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:43:40.517440', '2023-05-18 01:43:40.517440', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:43:40.517440', '2023-05-18 01:43:40.517440', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.3ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 01:55:50.407404', '2023-05-18 01:55:50.407404'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 01:55:50.407404', '2023-05-18 01:55:50.407404');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:55:50.418274', '2023-05-18 01:55:50.418274'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 01:55:50.418274', '2023-05-18 01:55:50.418274');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 01:55:50.420189', '2023-05-18 01:55:50.420189'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 01:55:50.420189', '2023-05-18 01:55:50.420189');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 01:55:50.423578', '2023-05-18 01:55:50.423578'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 01:55:50.423578', '2023-05-18 01:55:50.423578');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:55:50.426654', '2023-05-18 01:55:50.426654', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 01:55:50.426654', '2023-05-18 01:55:50.426654', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:02:46.270661', '2023-05-18 02:02:46.270661'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:02:46.270661', '2023-05-18 02:02:46.270661');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:02:46.282879', '2023-05-18 02:02:46.282879'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:02:46.282879', '2023-05-18 02:02:46.282879');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:02:46.286021', '2023-05-18 02:02:46.286021'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:02:46.286021', '2023-05-18 02:02:46.286021');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:02:46.289327', '2023-05-18 02:02:46.289327'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:02:46.289327', '2023-05-18 02:02:46.289327');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:02:46.294982', '2023-05-18 02:02:46.294982', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:02:46.294982', '2023-05-18 02:02:46.294982', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:11:31.271918', '2023-05-18 02:11:31.271918'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:11:31.271918', '2023-05-18 02:11:31.271918');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-18 02:11:31.281292', '2023-05-18 02:11:31.281292'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:11:31.281292', '2023-05-18 02:11:31.281292');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:11:31.284605', '2023-05-18 02:11:31.284605'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:11:31.284605', '2023-05-18 02:11:31.284605');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:11:31.287589', '2023-05-18 02:11:31.287589'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:11:31.287589', '2023-05-18 02:11:31.287589');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:11:31.290703', '2023-05-18 02:11:31.290703', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:11:31.290703', '2023-05-18 02:11:31.290703', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLibro Count (3.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: URI::InvalidURIError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:13:04.323810', '2023-05-18 02:13:04.323810'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:13:04.323810', '2023-05-18 02:13:04.323810');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-18 02:13:04.333443', '2023-05-18 02:13:04.333443'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:13:04.333443', '2023-05-18 02:13:04.333443');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:13:04.335819', '2023-05-18 02:13:04.335819'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:13:04.335819', '2023-05-18 02:13:04.335819');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:13:04.339015', '2023-05-18 02:13:04.339015'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:13:04.339015', '2023-05-18 02:13:04.339015');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:13:04.342706', '2023-05-18 02:13:04.342706', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:13:04.342706', '2023-05-18 02:13:04.342706', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: URI::InvalidURIError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:14:00.731953', '2023-05-18 02:14:00.731953'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:14:00.731953', '2023-05-18 02:14:00.731953');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-18 02:14:00.742883', '2023-05-18 02:14:00.742883'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:14:00.742883', '2023-05-18 02:14:00.742883');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:14:00.745033', '2023-05-18 02:14:00.745033'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:14:00.745033', '2023-05-18 02:14:00.745033');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:14:00.748148', '2023-05-18 02:14:00.748148'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:14:00.748148', '2023-05-18 02:14:00.748148');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:14:00.752078', '2023-05-18 02:14:00.752078', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:14:00.752078', '2023-05-18 02:14:00.752078', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: URI::InvalidURIError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:29:38.726838', '2023-05-18 02:29:38.726838'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:29:38.726838', '2023-05-18 02:29:38.726838');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-18 02:29:38.738038', '2023-05-18 02:29:38.738038'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:29:38.738038', '2023-05-18 02:29:38.738038');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:29:38.739831', '2023-05-18 02:29:38.739831'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:29:38.739831', '2023-05-18 02:29:38.739831');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:29:38.742738', '2023-05-18 02:29:38.742738'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:29:38.742738', '2023-05-18 02:29:38.742738');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:29:38.747121', '2023-05-18 02:29:38.747121', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:29:38.747121', '2023-05-18 02:29:38.747121', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: URI::InvalidURIError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:31:14.781462', '2023-05-18 02:31:14.781462'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:31:14.781462', '2023-05-18 02:31:14.781462');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-18 02:31:14.791430', '2023-05-18 02:31:14.791430'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:31:14.791430', '2023-05-18 02:31:14.791430');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:31:14.793178', '2023-05-18 02:31:14.793178'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:31:14.793178', '2023-05-18 02:31:14.793178');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:31:14.796062', '2023-05-18 02:31:14.796062'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:31:14.796062', '2023-05-18 02:31:14.796062');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:31:14.799567', '2023-05-18 02:31:14.799567', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:31:14.799567', '2023-05-18 02:31:14.799567', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: URI::InvalidURIError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:33:59.515199', '2023-05-18 02:33:59.515199'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:33:59.515199', '2023-05-18 02:33:59.515199');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-18 02:33:59.525886', '2023-05-18 02:33:59.525886'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:33:59.525886', '2023-05-18 02:33:59.525886');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:33:59.527787', '2023-05-18 02:33:59.527787'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:33:59.527787', '2023-05-18 02:33:59.527787');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:33:59.530856', '2023-05-18 02:33:59.530856'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:33:59.530856', '2023-05-18 02:33:59.530856');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:33:59.534314', '2023-05-18 02:33:59.534314', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:33:59.534314', '2023-05-18 02:33:59.534314', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: URI::InvalidURIError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:35:37.547276', '2023-05-18 02:35:37.547276'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:35:37.547276', '2023-05-18 02:35:37.547276');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-18 02:35:37.557868', '2023-05-18 02:35:37.557868'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:35:37.557868', '2023-05-18 02:35:37.557868');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:35:37.559601', '2023-05-18 02:35:37.559601'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:35:37.559601', '2023-05-18 02:35:37.559601');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:35:37.562457', '2023-05-18 02:35:37.562457'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:35:37.562457', '2023-05-18 02:35:37.562457');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:35:37.566065', '2023-05-18 02:35:37.566065', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:35:37.566065', '2023-05-18 02:35:37.566065', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: URI::InvalidURIError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-18 02:36:00.143926', '2023-05-18 02:36:00.143926'), (298486374, 298486374, 298486374, 'MyText', '2023-05-18 02:36:00.143926', '2023-05-18 02:36:00.143926');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-18 02:36:00.152588', '2023-05-18 02:36:00.152588'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-18 02:36:00.152588', '2023-05-18 02:36:00.152588');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-18 02:36:00.154496', '2023-05-18 02:36:00.154496'), (298486374, 'MyText', 298486374, 298486374, '2023-05-18 02:36:00.154496', '2023-05-18 02:36:00.154496');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-18 02:36:00.159169', '2023-05-18 02:36:00.159169'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-18 02:36:00.159169', '2023-05-18 02:36:00.159169');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:36:00.162736', '2023-05-18 02:36:00.162736', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-18 02:36:00.162736', '2023-05-18 02:36:00.162736', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: URI::InvalidURIError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-20 17:02:25.739170', '2023-05-20 17:02:25.739170'), (298486374, 298486374, 298486374, 'MyText', '2023-05-20 17:02:25.739170', '2023-05-20 17:02:25.739170');
INSERT INTO "libros" ("id", "titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES (980190962, 'Biblia', 1000, 'Suspenso', 'Messi', 15, 9, 'Hola', '2023-05-20 17:02:25.748665', '2023-05-20 17:02:25.748665'), (298486374, 'MyText', 1, 'MyText', 'MyText', 1, 1, 'MyText', '2023-05-20 17:02:25.748665', '2023-05-20 17:02:25.748665');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-20 17:02:25.750586', '2023-05-20 17:02:25.750586'), (298486374, 'MyText', 298486374, 298486374, '2023-05-20 17:02:25.750586', '2023-05-20 17:02:25.750586');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-20 17:02:25.754441', '2023-05-20 17:02:25.754441'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-20 17:02:25.754441', '2023-05-20 17:02:25.754441');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-20 17:02:25.758369', '2023-05-20 17:02:25.758369', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-20 17:02:25.758369', '2023-05-20 17:02:25.758369', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-20 17:03:48.934895', '2023-05-20 17:03:48.934895'), (298486374, 298486374, 298486374, 'MyText', '2023-05-20 17:03:48.934895', '2023-05-20 17:03:48.934895');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-20 17:03:48.946420', '2023-05-20 17:03:48.946420'), (298486374, 'MyText', 298486374, 298486374, '2023-05-20 17:03:48.946420', '2023-05-20 17:03:48.946420');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-20 17:03:48.951717', '2023-05-20 17:03:48.951717'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-20 17:03:48.951717', '2023-05-20 17:03:48.951717');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-20 17:03:48.955203', '2023-05-20 17:03:48.955203', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-20 17:03:48.955203', '2023-05-20 17:03:48.955203', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.2ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-20 17:03:48.981927', '2023-05-20 17:03:48.981927'), (298486374, 298486374, 298486374, 'MyText', '2023-05-20 17:03:48.981927', '2023-05-20 17:03:48.981927');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-20 17:03:48.982025', '2023-05-20 17:03:48.982025'), (298486374, 'MyText', 298486374, 298486374, '2023-05-20 17:03:48.982025', '2023-05-20 17:03:48.982025');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-20 17:03:48.982065', '2023-05-20 17:03:48.982065'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-20 17:03:48.982065', '2023-05-20 17:03:48.982065');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-20 17:03:48.982102', '2023-05-20 17:03:48.982102', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-20 17:03:48.982102', '2023-05-20 17:03:48.982102', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "libros" DISABLE TRIGGER ALL;ALTER TABLE "mensajes" DISABLE TRIGGER ALL;ALTER TABLE "resenas" DISABLE TRIGGER ALL;ALTER TABLE "compras" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[31mDELETE FROM "compras";
DELETE FROM "libros";
DELETE FROM "mensajes";
DELETE FROM "resenas";
DELETE FROM "users";
INSERT INTO "compras" ("id", "user_id", "libro_id", "estado", "created_at", "updated_at") VALUES (980190962, 980190962, 980190962, 'MyText', '2023-05-20 17:04:34.386226', '2023-05-20 17:04:34.386226'), (298486374, 298486374, 298486374, 'MyText', '2023-05-20 17:04:34.386226', '2023-05-20 17:04:34.386226');
INSERT INTO "mensajes" ("id", "texto", "user_id", "libro_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, 980190962, '2023-05-20 17:04:34.396500', '2023-05-20 17:04:34.396500'), (298486374, 'MyText', 298486374, 298486374, '2023-05-20 17:04:34.396500', '2023-05-20 17:04:34.396500');
INSERT INTO "resenas" ("id", "titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 'MyText', 980190962, 980190962, '2023-05-20 17:04:34.399988', '2023-05-20 17:04:34.399988'), (298486374, 'MyText', 'MyText', 298486374, 298486374, '2023-05-20 17:04:34.399988', '2023-05-20 17:04:34.399988');
INSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES (980190962, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-20 17:04:34.403048', '2023-05-20 17:04:34.403048', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT), (298486374, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT, '2023-05-20 17:04:34.403048', '2023-05-20 17:04:34.403048', DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "libros" ENABLE TRIGGER ALL;ALTER TABLE "mensajes" ENABLE TRIGGER ALL;ALTER TABLE "resenas" ENABLE TRIGGER ALL;ALTER TABLE "compras" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-20 17:05:03.254241"], ["updated_at", "2023-05-20 17:05:03.254241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-20 17:11:42.662571"], ["updated_at", "2023-05-20 17:11:42.662571"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bbbb@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "cccc@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "cccc@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "dddd@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (2.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "dddd@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "dddd@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (6.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "eeee@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ffff@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ffff@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (8.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "ffff@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 19:19:13.711050"], ["updated_at", "2023-05-21 19:19:13.711050"], ["nombre", "eeee"], ["telefono", "123456789"], ["descripcion", "eeee"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "ffff@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "ffff@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 19:20:00.025570"], ["updated_at", "2023-05-21 19:20:00.025570"], ["nombre", "eeee"], ["telefono", "123456789"], ["descripcion", "eeee"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 19:20:40.340306"], ["updated_at", "2023-05-21 19:20:40.340306"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 19:26:20.655943"], ["updated_at", "2023-05-21 19:26:20.655943"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (8.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 19:28:19.331824"], ["updated_at", "2023-05-21 19:28:19.331824"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-21 15:37:48 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 12.0ms | Allocations: 1815)
  [1m[36mLibro Load (1.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 2.5ms | Allocations: 769)
  Rendered libros/index.html.erb within layouts/application (Duration: 791.9ms | Allocations: 115198)
  Rendered layout layouts/application.html.erb (Duration: 799.1ms | Allocations: 117516)
Completed 200 OK in 825ms (Views: 803.7ms | ActiveRecord: 1.4ms | Allocations: 123911)
  [1m[36mTRANSACTION (11.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-21 15:39:39 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 12.0ms | Allocations: 2028)
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 2.3ms | Allocations: 769)
  Rendered libros/index.html.erb within layouts/application (Duration: 280.0ms | Allocations: 34618)
  Rendered layout layouts/application.html.erb (Duration: 284.6ms | Allocations: 36956)
Completed 200 OK in 308ms (Views: 290.2ms | ActiveRecord: 0.6ms | Allocations: 43351)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-21 15:39:39 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1054)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 713)
  Rendered libros/new.html.erb within layouts/application (Duration: 36.8ms | Allocations: 9988)
  Rendered layout layouts/application.html.erb (Duration: 37.5ms | Allocations: 10464)
Completed 200 OK in 65ms (Views: 38.0ms | ActiveRecord: 10.2ms | Allocations: 17264)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-21 15:41:47 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 12.0ms | Allocations: 2024)
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 12.7ms | Allocations: 772)
  Rendered libros/index.html.erb within layouts/application (Duration: 296.6ms | Allocations: 34677)
  Rendered layout layouts/application.html.erb (Duration: 305.6ms | Allocations: 37015)
Completed 200 OK in 331ms (Views: 312.1ms | ActiveRecord: 1.3ms | Allocations: 43410)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-21 15:41:47 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1054)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 713)
  Rendered libros/new.html.erb within layouts/application (Duration: 23.2ms | Allocations: 7862)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 8338)
Completed 200 OK in 48ms (Views: 24.5ms | ActiveRecord: 6.3ms | Allocations: 15138)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (3.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 19:41:47.915922"], ["updated_at", "2023-05-21 19:41:47.915922"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190966" for 127.0.0.1 at 2023-05-21 15:41:47 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980190966"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190966], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1035)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 659)
  Rendered libros/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3852)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 4317)
Completed 200 OK in 17ms (Views: 12.0ms | ActiveRecord: 1.6ms | Allocations: 5126)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
RegistrationsControllerTest: test_should_get_index
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
RegistrationsControllerTest: test_should_get_index
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
RegistrationsControllerTest: test_should_get_index
--------------------------------------------------
Started GET "/user" for 127.0.0.1 at 2023-05-21 15:47:10 -0400
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
RegistrationsControllerTest: test_should_get_new
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
RegistrationsControllerTest: test_should_get_new
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_show_user
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 19:54:02.544540"], ["updated_at", "2023-05-21 19:54:02.544540"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980190967" for 127.0.0.1 at 2023-05-21 15:54:02 -0400
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 19:54:35.353133"], ["updated_at", "2023-05-21 19:54:35.353133"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980190968" for 127.0.0.1 at 2023-05-21 15:54:35 -0400
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 19:58:12.190582"], ["updated_at", "2023-05-21 19:58:12.190582"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980190969" for 127.0.0.1 at 2023-05-21 15:58:12 -0400
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (6.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:11:35.801774"], ["updated_at", "2023-05-21 20:11:35.801774"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980190970" for 127.0.0.1 at 2023-05-21 16:11:35 -0400
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:13:44.086188"], ["updated_at", "2023-05-21 20:13:44.086188"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980190971" for 127.0.0.1 at 2023-05-21 16:13:44 -0400
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:15:30.519384"], ["updated_at", "2023-05-21 20:15:30.519384"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:15:30 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.6ms | Allocations: 1681)
  Rendered users/show.html.erb within layouts/application (Duration: 261.8ms | Allocations: 34523)
  Rendered layout layouts/application.html.erb (Duration: 262.1ms | Allocations: 34584)
Completed 500 Internal Server Error in 301ms (ActiveRecord: 0.0ms | Allocations: 39349)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:16:36.307180"], ["updated_at", "2023-05-21 20:16:36.307180"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:16:36 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 14.3ms | Allocations: 1680)
  Rendered users/show.html.erb within layouts/application (Duration: 243.6ms | Allocations: 34590)
  Rendered layout layouts/application.html.erb (Duration: 243.9ms | Allocations: 34651)
Completed 500 Internal Server Error in 284ms (ActiveRecord: 0.0ms | Allocations: 39416)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:16:56.115050"], ["updated_at", "2023-05-21 20:16:56.115050"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:16:56 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.6ms | Allocations: 1680)
  Rendered users/show.html.erb within layouts/application (Duration: 183.9ms | Allocations: 35037)
  Rendered layout layouts/application.html.erb (Duration: 184.2ms | Allocations: 35098)
Completed 500 Internal Server Error in 220ms (ActiveRecord: 0.0ms | Allocations: 39863)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:17:58.386620"], ["updated_at", "2023-05-21 20:17:58.386620"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:17:58 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 15.3ms | Allocations: 1680)
  Rendered users/show.html.erb within layouts/application (Duration: 257.8ms | Allocations: 34878)
  Rendered layout layouts/application.html.erb (Duration: 258.1ms | Allocations: 34939)
Completed 500 Internal Server Error in 280ms (ActiveRecord: 0.0ms | Allocations: 39704)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:18:14.861919"], ["updated_at", "2023-05-21 20:18:14.861919"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:18:14 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.3ms | Allocations: 1680)
  Rendered users/show.html.erb within layouts/application (Duration: 213.4ms | Allocations: 35098)
  Rendered layout layouts/application.html.erb (Duration: 213.6ms | Allocations: 35159)
Completed 500 Internal Server Error in 239ms (ActiveRecord: 0.0ms | Allocations: 39924)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:19:03.195892"], ["updated_at", "2023-05-21 20:19:03.195892"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:19:03 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 15.7ms | Allocations: 1680)
  Rendered users/show.html.erb within layouts/application (Duration: 222.0ms | Allocations: 34645)
  Rendered layout layouts/application.html.erb (Duration: 222.3ms | Allocations: 34706)
Completed 500 Internal Server Error in 250ms (ActiveRecord: 0.0ms | Allocations: 39471)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:30:51.197409"], ["updated_at", "2023-05-21 20:30:51.197409"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:30:51 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.6ms | Allocations: 1682)
  Rendered users/show.html.erb within layouts/application (Duration: 242.0ms | Allocations: 34779)
  Rendered layout layouts/application.html.erb (Duration: 242.3ms | Allocations: 34840)
Completed 500 Internal Server Error in 268ms (ActiveRecord: 0.0ms | Allocations: 39605)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:31:32.050303"], ["updated_at", "2023-05-21 20:31:32.050303"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:31:32 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 17.1ms | Allocations: 1682)
  Rendered users/show.html.erb within layouts/application (Duration: 308.8ms | Allocations: 34840)
  Rendered layout layouts/application.html.erb (Duration: 309.0ms | Allocations: 34901)
Completed 500 Internal Server Error in 335ms (ActiveRecord: 0.0ms | Allocations: 39666)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:32:28.057948"], ["updated_at", "2023-05-21 20:32:28.057948"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980190980" for 127.0.0.1 at 2023-05-21 16:32:28 -0400
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:32:42.942009"], ["updated_at", "2023-05-21 20:32:42.942009"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:32:42 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.5ms | Allocations: 1679)
  Rendered users/show.html.erb within layouts/application (Duration: 212.5ms | Allocations: 35025)
  Rendered layout layouts/application.html.erb (Duration: 212.8ms | Allocations: 35086)
Completed 500 Internal Server Error in 252ms (ActiveRecord: 0.0ms | Allocations: 39851)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:34:49.380012"], ["updated_at", "2023-05-21 20:34:49.380012"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:35:50.205511"], ["updated_at", "2023-05-21 20:35:50.205511"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:35:50 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 18.1ms | Allocations: 1696)
  Rendered users/show.html.erb within layouts/application (Duration: 302.8ms | Allocations: 34689)
  Rendered layout layouts/application.html.erb (Duration: 303.2ms | Allocations: 34750)
Completed 500 Internal Server Error in 337ms (ActiveRecord: 0.0ms | Allocations: 39515)
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:40:44.287036"], ["updated_at", "2023-05-21 20:40:44.287036"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-21 16:40:44 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.2ms | Allocations: 1693)
  Rendered users/show.html.erb within layouts/application (Duration: 223.7ms | Allocations: 34901)
  Rendered layout layouts/application.html.erb (Duration: 233.1ms | Allocations: 34962)
Completed 500 Internal Server Error in 269ms (ActiveRecord: 0.0ms | Allocations: 39727)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (2.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:44:22.763477"], ["updated_at", "2023-05-21 20:44:22.763477"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:45:26.467516"], ["updated_at", "2023-05-21 20:45:26.467516"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190968/mensajes" for 127.0.0.1 at 2023-05-21 16:45:26 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190968"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190968], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.7ms | Allocations: 2029)
  [1m[36mMensaje Load (1.9ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190968]]
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 850)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 210.7ms | Allocations: 36349)
  Rendered layout layouts/application.html.erb (Duration: 214.6ms | Allocations: 38684)
Completed 200 OK in 250ms (Views: 217.5ms | ActiveRecord: 3.7ms | Allocations: 47956)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:49:24.047091"], ["updated_at", "2023-05-21 20:49:24.047091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190969/mensajes" for 127.0.0.1 at 2023-05-21 16:49:24 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190969"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190969], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.9ms | Allocations: 2029)
  [1m[36mMensaje Load (0.7ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190969]]
  Rendered componentes/_footer.html.erb (Duration: 2.3ms | Allocations: 850)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 203.3ms | Allocations: 36360)
  Rendered layout layouts/application.html.erb (Duration: 208.1ms | Allocations: 38695)
Completed 200 OK in 247ms (Views: 212.5ms | ActiveRecord: 2.9ms | Allocations: 47967)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:49:24.383174"], ["updated_at", "2023-05-21 20:49:24.383174"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190970/mensajes/new" for 127.0.0.1 at 2023-05-21 16:49:24 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980190970"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190970], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1050)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 713)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 19.6ms | Allocations: 5816)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 6295)
Completed 200 OK in 37ms (Views: 21.7ms | ActiveRecord: 2.3ms | Allocations: 10469)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:50:01.712881"], ["updated_at", "2023-05-21 20:50:01.712881"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190971/mensajes" for 127.0.0.1 at 2023-05-21 16:50:01 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190971"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.9ms | Allocations: 2029)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190971]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 850)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 176.2ms | Allocations: 36408)
  Rendered layout layouts/application.html.erb (Duration: 179.8ms | Allocations: 38743)
Completed 200 OK in 228ms (Views: 199.0ms | ActiveRecord: 2.4ms | Allocations: 48015)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:50:02.023197"], ["updated_at", "2023-05-21 20:50:02.023197"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190972/mensajes/new" for 127.0.0.1 at 2023-05-21 16:50:02 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980190972"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1050)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 713)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 14.7ms | Allocations: 5819)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 6298)
Completed 200 OK in 32ms (Views: 16.1ms | ActiveRecord: 2.3ms | Allocations: 10472)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-21 16:50:46 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 22.3ms | Allocations: 2025)
  Rendered componentes/_footer.html.erb (Duration: 17.5ms | Allocations: 857)
  Rendered libros/new.html.erb within layouts/application (Duration: 316.6ms | Allocations: 39339)
  Rendered layout layouts/application.html.erb (Duration: 324.1ms | Allocations: 41672)
Completed 200 OK in 371ms (Views: 330.8ms | ActiveRecord: 5.7ms | Allocations: 54493)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:50:46.786619"], ["updated_at", "2023-05-21 20:50:46.786619"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190973" for 127.0.0.1 at 2023-05-21 16:50:46 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980190973"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190973], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1045)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 659)
  Rendered libros/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3933)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 4407)
Completed 200 OK in 18ms (Views: 12.8ms | ActiveRecord: 0.8ms | Allocations: 5380)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-21 16:50:46 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 971)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 659)
  Rendered libros/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2836)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 3300)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 0.3ms | Allocations: 3597)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:58:58.165277"], ["updated_at", "2023-05-21 20:58:58.165277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:58:58.196833"], ["updated_at", "2023-05-21 20:58:58.196833"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (8.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190985], ["libro_id", 980190974], ["created_at", "2023-05-21 20:58:58.232091"], ["updated_at", "2023-05-21 20:58:58.232091"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:58:58.248812"], ["updated_at", "2023-05-21 20:58:58.248812"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (4.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:58:58.257183"], ["updated_at", "2023-05-21 20:58:58.257183"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190986], ["libro_id", 980190975], ["created_at", "2023-05-21 20:58:58.266765"], ["updated_at", "2023-05-21 20:58:58.266765"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190975/mensajes/new" for 127.0.0.1 at 2023-05-21 16:58:58 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980190975"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.1ms | Allocations: 2026)
  Rendered componentes/_footer.html.erb (Duration: 1.9ms | Allocations: 857)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 114.3ms | Allocations: 37236)
  Rendered layout layouts/application.html.erb (Duration: 119.0ms | Allocations: 39571)
Completed 200 OK in 142ms (Views: 126.1ms | ActiveRecord: 0.4ms | Allocations: 44908)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:58:58.613899"], ["updated_at", "2023-05-21 20:58:58.613899"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:58:58.621251"], ["updated_at", "2023-05-21 20:58:58.621251"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190987], ["libro_id", 980190976], ["created_at", "2023-05-21 20:58:58.625522"], ["updated_at", "2023-05-21 20:58:58.625522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190976/mensajes" for 127.0.0.1 at 2023-05-21 16:58:58 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190976"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190976], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1045)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190976]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 659)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 3995)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 4470)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 1.1ms | Allocations: 5009)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:59:31.945079"], ["updated_at", "2023-05-21 20:59:31.945079"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:59:31.977324"], ["updated_at", "2023-05-21 20:59:31.977324"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190988], ["libro_id", 980190977], ["created_at", "2023-05-21 20:59:32.013413"], ["updated_at", "2023-05-21 20:59:32.013413"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190977/mensajes/new" for 127.0.0.1 at 2023-05-21 16:59:32 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980190977"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190977], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.9ms | Allocations: 2029)
  Rendered componentes/_footer.html.erb (Duration: 1.9ms | Allocations: 857)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 116.2ms | Allocations: 37306)
  Rendered layout layouts/application.html.erb (Duration: 120.3ms | Allocations: 39641)
Completed 200 OK in 146ms (Views: 127.9ms | ActiveRecord: 0.4ms | Allocations: 44981)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:59:32.357507"], ["updated_at", "2023-05-21 20:59:32.357507"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:59:32.365521"], ["updated_at", "2023-05-21 20:59:32.365521"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190989], ["libro_id", 980190978], ["created_at", "2023-05-21 20:59:32.368361"], ["updated_at", "2023-05-21 20:59:32.368361"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 20:59:32.376386"], ["updated_at", "2023-05-21 20:59:32.376386"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 20:59:32.383623"], ["updated_at", "2023-05-21 20:59:32.383623"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190990], ["libro_id", 980190979], ["created_at", "2023-05-21 20:59:32.393938"], ["updated_at", "2023-05-21 20:59:32.393938"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190979/mensajes" for 127.0.0.1 at 2023-05-21 16:59:32 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190979"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1045)
  [1m[36mMensaje Load (0.7ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190979]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190990], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 659)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 3994)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 4469)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 1.5ms | Allocations: 5008)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:00:26.957283"], ["updated_at", "2023-05-21 21:00:26.957283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:00:26.988673"], ["updated_at", "2023-05-21 21:00:26.988673"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190991], ["libro_id", 980190980], ["created_at", "2023-05-21 21:00:27.022318"], ["updated_at", "2023-05-21 21:00:27.022318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190980/mensajes/new" for 127.0.0.1 at 2023-05-21 17:00:27 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980190980"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190980], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.1ms | Allocations: 2026)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 857)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 85.4ms | Allocations: 37284)
  Rendered layout layouts/application.html.erb (Duration: 89.2ms | Allocations: 39619)
Completed 200 OK in 142ms (Views: 95.6ms | ActiveRecord: 0.5ms | Allocations: 44961)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:00:27.315398"], ["updated_at", "2023-05-21 21:00:27.315398"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:00:27.324876"], ["updated_at", "2023-05-21 21:00:27.324876"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190992], ["libro_id", 980190981], ["created_at", "2023-05-21 21:00:27.328301"], ["updated_at", "2023-05-21 21:00:27.328301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190981/mensajes/980190970" for 127.0.0.1 at 2023-05-21 17:00:27 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980190981", "id"=>"980190970"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190981], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980190981], ["id", 980190970], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1045)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190992], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 659)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 3684)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 4158)
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 1.0ms | Allocations: 5117)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:00:27.350528"], ["updated_at", "2023-05-21 21:00:27.350528"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:00:27.359088"], ["updated_at", "2023-05-21 21:00:27.359088"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190993], ["libro_id", 980190982], ["created_at", "2023-05-21 21:00:27.363360"], ["updated_at", "2023-05-21 21:00:27.363360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190982/mensajes" for 127.0.0.1 at 2023-05-21 17:00:27 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190982"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 971)
  [1m[36mMensaje Load (1.0ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190982]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190993], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 659)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 3453)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 3917)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 2.0ms | Allocations: 4357)
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:03:10.474970"], ["updated_at", "2023-05-21 21:03:10.474970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:03:10.507220"], ["updated_at", "2023-05-21 21:03:10.507220"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190994], ["libro_id", 980190983], ["created_at", "2023-05-21 21:03:10.542473"], ["updated_at", "2023-05-21 21:03:10.542473"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190983/mensajes/new" for 127.0.0.1 at 2023-05-21 17:03:10 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980190983"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.4ms | Allocations: 2026)
  Rendered componentes/_footer.html.erb (Duration: 1.6ms | Allocations: 857)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 121.4ms | Allocations: 37264)
  Rendered layout layouts/application.html.erb (Duration: 126.0ms | Allocations: 39599)
Completed 200 OK in 186ms (Views: 133.1ms | ActiveRecord: 0.4ms | Allocations: 44941)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:03:10.883839"], ["updated_at", "2023-05-21 21:03:10.883839"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:03:10.892647"], ["updated_at", "2023-05-21 21:03:10.892647"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190995], ["libro_id", 980190984], ["created_at", "2023-05-21 21:03:10.896461"], ["updated_at", "2023-05-21 21:03:10.896461"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190984/mensajes/980190973" for 127.0.0.1 at 2023-05-21 17:03:10 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980190984", "id"=>"980190973"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980190984], ["id", 980190973], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1045)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190995], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.0ms | Allocations: 659)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3684)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 4158)
Completed 200 OK in 18ms (Views: 12.5ms | ActiveRecord: 1.3ms | Allocations: 5117)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:03:10.929009"], ["updated_at", "2023-05-21 21:03:10.929009"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:03:10.938269"], ["updated_at", "2023-05-21 21:03:10.938269"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190996], ["libro_id", 980190985], ["created_at", "2023-05-21 21:03:10.947273"], ["updated_at", "2023-05-21 21:03:10.947273"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980190985/mensajes/980190974" for 127.0.0.1 at 2023-05-21 17:03:10 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980190985", "id"=>"980190974"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1395)
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (2.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:03:11.031788"], ["updated_at", "2023-05-21 21:03:11.031788"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (9.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:03:11.042980"], ["updated_at", "2023-05-21 21:03:11.042980"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190997], ["libro_id", 980190986], ["created_at", "2023-05-21 21:03:11.063794"], ["updated_at", "2023-05-21 21:03:11.063794"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190986/mensajes" for 127.0.0.1 at 2023-05-21 17:03:11 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190986"}
  [1m[36mLibro Load (4.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190986], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.1ms | Allocations: 998)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190986]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190997], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 659)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3590)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 4065)
Completed 200 OK in 21ms (Views: 12.6ms | ActiveRecord: 4.8ms | Allocations: 4592)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:04:31.990313"], ["updated_at", "2023-05-21 21:04:31.990313"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:04:32.022658"], ["updated_at", "2023-05-21 21:04:32.022658"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190998], ["libro_id", 980190987], ["created_at", "2023-05-21 21:04:32.056384"], ["updated_at", "2023-05-21 21:04:32.056384"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190987/mensajes" for 127.0.0.1 at 2023-05-21 17:04:32 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190987"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190987], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.6ms | Allocations: 2026)
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190987]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190998], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 766)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 83.2ms | Allocations: 35602)
  Rendered layout layouts/application.html.erb (Duration: 86.9ms | Allocations: 37937)
Completed 200 OK in 106ms (Views: 91.4ms | ActiveRecord: 1.4ms | Allocations: 43080)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:04:32.355079"], ["updated_at", "2023-05-21 21:04:32.355079"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:04:32.362036"], ["updated_at", "2023-05-21 21:04:32.362036"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980190999], ["libro_id", 980190988], ["created_at", "2023-05-21 21:04:32.366163"], ["updated_at", "2023-05-21 21:04:32.366163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190988/mensajes/980190977" for 127.0.0.1 at 2023-05-21 17:04:32 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980190988", "id"=>"980190977"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190988], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980190988], ["id", 980190977], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1045)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980190999], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 659)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3403)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3877)
Completed 200 OK in 14ms (Views: 8.0ms | ActiveRecord: 1.0ms | Allocations: 4800)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:04:32.389574"], ["updated_at", "2023-05-21 21:04:32.389574"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:04:32.395103"], ["updated_at", "2023-05-21 21:04:32.395103"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191000], ["libro_id", 980190989], ["created_at", "2023-05-21 21:04:32.397942"], ["updated_at", "2023-05-21 21:04:32.397942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190989/mensajes/new" for 127.0.0.1 at 2023-05-21 17:04:32 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980190989"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190989], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 971)
  Rendered componentes/_footer.html.erb (Duration: 5.0ms | Allocations: 713)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 46.3ms | Allocations: 5571)
  Rendered layout layouts/application.html.erb (Duration: 121.4ms | Allocations: 6048)
Completed 200 OK in 125ms (Views: 122.1ms | ActiveRecord: 0.2ms | Allocations: 6665)
  [1m[36mTRANSACTION (66.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:04:32.630737"], ["updated_at", "2023-05-21 21:04:32.630737"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:04:32.637999"], ["updated_at", "2023-05-21 21:04:32.637999"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191001], ["libro_id", 980190990], ["created_at", "2023-05-21 21:04:32.641134"], ["updated_at", "2023-05-21 21:04:32.641134"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980190990/mensajes/980190979" for 127.0.0.1 at 2023-05-21 17:04:32 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980190990", "id"=>"980190979"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1395)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:05:15.652379"], ["updated_at", "2023-05-21 21:05:15.652379"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:05:15.685055"], ["updated_at", "2023-05-21 21:05:15.685055"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.1ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191002], ["libro_id", 980190991], ["created_at", "2023-05-21 21:05:15.717755"], ["updated_at", "2023-05-21 21:05:15.717755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980190991/mensajes/980190980" for 127.0.0.1 at 2023-05-21 17:05:15 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980190991", "id"=>"980190980"}
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.0ms | Allocations: 3254)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:05:15.913383"], ["updated_at", "2023-05-21 21:05:15.913383"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:05:15.923827"], ["updated_at", "2023-05-21 21:05:15.923827"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191003], ["libro_id", 980190992], ["created_at", "2023-05-21 21:05:15.927682"], ["updated_at", "2023-05-21 21:05:15.927682"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190992/mensajes" for 127.0.0.1 at 2023-05-21 17:05:15 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980190992"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190992], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.8ms | Allocations: 1828)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980190992]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191003], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 766)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 105.2ms | Allocations: 35314)
  Rendered layout layouts/application.html.erb (Duration: 109.0ms | Allocations: 37648)
Completed 200 OK in 123ms (Views: 113.7ms | ActiveRecord: 1.4ms | Allocations: 41121)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:05:16.065782"], ["updated_at", "2023-05-21 21:05:16.065782"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:05:16.074349"], ["updated_at", "2023-05-21 21:05:16.074349"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191004], ["libro_id", 980190993], ["created_at", "2023-05-21 21:05:16.077899"], ["updated_at", "2023-05-21 21:05:16.077899"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190993/mensajes/new" for 127.0.0.1 at 2023-05-21 17:05:16 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980190993"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190993], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1045)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 713)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 5789)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 6267)
Completed 200 OK in 17ms (Views: 13.8ms | ActiveRecord: 0.4ms | Allocations: 6972)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:05:16.102879"], ["updated_at", "2023-05-21 21:05:16.102879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:05:16.110656"], ["updated_at", "2023-05-21 21:05:16.110656"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191005], ["libro_id", 980190994], ["created_at", "2023-05-21 21:05:16.115835"], ["updated_at", "2023-05-21 21:05:16.115835"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980190994/mensajes/980190983" for 127.0.0.1 at 2023-05-21 17:05:16 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980190994", "id"=>"980190983"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980190994], ["LIMIT", 1]]
  [1m[36mMensaje Load (3.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980190994], ["id", 980190983], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 1035)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191005], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 659)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 11.8ms | Allocations: 3281)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 3746)
Completed 200 OK in 23ms (Views: 12.6ms | ActiveRecord: 4.7ms | Allocations: 4643)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:06:31.606633"], ["updated_at", "2023-05-21 21:06:31.606633"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:06:31.637061"], ["updated_at", "2023-05-21 21:06:31.637061"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:06:31.650245"], ["updated_at", "2023-05-21 21:06:31.650245"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:06:31.658996"], ["updated_at", "2023-05-21 21:06:31.658996"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:06:31.679270"], ["updated_at", "2023-05-21 21:06:31.679270"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (4.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:06:31.687209"], ["updated_at", "2023-05-21 21:06:31.687209"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:06:31.707886"], ["updated_at", "2023-05-21 21:06:31.707886"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:06:31.715462"], ["updated_at", "2023-05-21 21:06:31.715462"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:09:15.298687"], ["updated_at", "2023-05-21 21:09:15.298687"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:09:15.332108"], ["updated_at", "2023-05-21 21:09:15.332108"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:09:15.347652"], ["updated_at", "2023-05-21 21:09:15.347652"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:09:15.356423"], ["updated_at", "2023-05-21 21:09:15.356423"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:09:15.373948"], ["updated_at", "2023-05-21 21:09:15.373948"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:09:15.382339"], ["updated_at", "2023-05-21 21:09:15.382339"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:09:15.396968"], ["updated_at", "2023-05-21 21:09:15.396968"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:09:15.404331"], ["updated_at", "2023-05-21 21:09:15.404331"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:20:30.914043"], ["updated_at", "2023-05-21 21:20:30.914043"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:20:30.948159"], ["updated_at", "2023-05-21 21:20:30.948159"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:20:30.962107"], ["updated_at", "2023-05-21 21:20:30.962107"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:20:30.971307"], ["updated_at", "2023-05-21 21:20:30.971307"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:20:30.985876"], ["updated_at", "2023-05-21 21:20:30.985876"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:20:30.997041"], ["updated_at", "2023-05-21 21:20:30.997041"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:20:31.010721"], ["updated_at", "2023-05-21 21:20:31.010721"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (12.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:20:31.018547"], ["updated_at", "2023-05-21 21:20:31.018547"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:20:51.996761"], ["updated_at", "2023-05-21 21:20:51.996761"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:20:52.031914"], ["updated_at", "2023-05-21 21:20:52.031914"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191018], ["libro_id", 980191007], ["created_at", "2023-05-21 21:20:52.069099"], ["updated_at", "2023-05-21 21:20:52.069099"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191007/mensajes/new" for 127.0.0.1 at 2023-05-21 17:20:52 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191007"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191007], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.4ms | Allocations: 1814)
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 857)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 584.8ms | Allocations: 124260)
  Rendered layout layouts/application.html.erb (Duration: 588.6ms | Allocations: 126587)
Completed 200 OK in 610ms (Views: 595.1ms | ActiveRecord: 0.4ms | Allocations: 131929)
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:20:52.875938"], ["updated_at", "2023-05-21 21:20:52.875938"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:20:52.883437"], ["updated_at", "2023-05-21 21:20:52.883437"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191019], ["libro_id", 980191008], ["created_at", "2023-05-21 21:20:52.890158"], ["updated_at", "2023-05-21 21:20:52.890158"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191008/mensajes/980190985" for 127.0.0.1 at 2023-05-21 17:20:52 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191008", "id"=>"980190985"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191008], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191008], ["id", 980190985], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1045)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191019], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 659)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 11.0ms | Allocations: 3687)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 4161)
Completed 200 OK in 19ms (Views: 12.6ms | ActiveRecord: 1.5ms | Allocations: 5120)
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:20:52.921770"], ["updated_at", "2023-05-21 21:20:52.921770"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:20:52.929835"], ["updated_at", "2023-05-21 21:20:52.929835"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191020], ["libro_id", 980191009], ["created_at", "2023-05-21 21:20:52.933224"], ["updated_at", "2023-05-21 21:20:52.933224"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191009/mensajes/980190986" for 127.0.0.1 at 2023-05-21 17:20:52 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191009", "id"=>"980190986"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1395)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:20:52.955272"], ["updated_at", "2023-05-21 21:20:52.955272"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:20:52.961101"], ["updated_at", "2023-05-21 21:20:52.961101"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191021], ["libro_id", 980191010], ["created_at", "2023-05-21 21:20:52.965233"], ["updated_at", "2023-05-21 21:20:52.965233"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191010/mensajes" for 127.0.0.1 at 2023-05-21 17:20:52 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191010"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191010], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 998)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191010]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191021], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 659)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3590)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 4065)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.9ms | Allocations: 4592)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:23:36.831608"], ["updated_at", "2023-05-21 21:23:36.831608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:23:36.862832"], ["updated_at", "2023-05-21 21:23:36.862832"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (2.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191011], ["user_id", 980191022], ["created_at", "2023-05-21 21:23:36.900200"], ["updated_at", "2023-05-21 21:23:36.900200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:23:36.923394"], ["updated_at", "2023-05-21 21:23:36.923394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:23:36.931126"], ["updated_at", "2023-05-21 21:23:36.931126"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191012], ["user_id", 980191023], ["created_at", "2023-05-21 21:23:36.944466"], ["updated_at", "2023-05-21 21:23:36.944466"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:23:36.971706"], ["updated_at", "2023-05-21 21:23:36.971706"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:23:36.984621"], ["updated_at", "2023-05-21 21:23:36.984621"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191013], ["user_id", 980191024], ["created_at", "2023-05-21 21:23:36.993144"], ["updated_at", "2023-05-21 21:23:36.993144"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191013/resenas" for 127.0.0.1 at 2023-05-21 17:23:37 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191013"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191013], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.4ms | Allocations: 2028)
  [1m[36mResena Load (2.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191013]]
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 766)
  Rendered resenas/index.html.erb within layouts/application (Duration: 98.4ms | Allocations: 35072)
  Rendered layout layouts/application.html.erb (Duration: 102.7ms | Allocations: 37406)
Completed 200 OK in 124ms (Views: 107.3ms | ActiveRecord: 2.7ms | Allocations: 42542)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:24:31.950403"], ["updated_at", "2023-05-21 21:24:31.950403"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:24:31.982654"], ["updated_at", "2023-05-21 21:24:31.982654"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191014], ["user_id", 980191025], ["created_at", "2023-05-21 21:24:32.020088"], ["updated_at", "2023-05-21 21:24:32.020088"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191014/resenas/new" for 127.0.0.1 at 2023-05-21 17:24:32 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191014"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191014], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.4ms | Allocations: 2028)
  Rendered componentes/_footer.html.erb (Duration: 1.9ms | Allocations: 854)
  Rendered resenas/new.html.erb within layouts/application (Duration: 105.5ms | Allocations: 37825)
  Rendered layout layouts/application.html.erb (Duration: 110.0ms | Allocations: 40157)
Completed 200 OK in 132ms (Views: 116.8ms | ActiveRecord: 0.5ms | Allocations: 45500)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:24:32.346311"], ["updated_at", "2023-05-21 21:24:32.346311"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:24:32.354305"], ["updated_at", "2023-05-21 21:24:32.354305"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191015], ["user_id", 980191026], ["created_at", "2023-05-21 21:24:32.358611"], ["updated_at", "2023-05-21 21:24:32.358611"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191015/resenas/980190967" for 127.0.0.1 at 2023-05-21 17:24:32 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191015", "id"=>"980190967"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191015], ["LIMIT", 1]]
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191015], ["id", 980190967], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1045)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191026], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.6ms | Allocations: 659)
  Rendered resenas/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3701)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 4175)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 1.1ms | Allocations: 5137)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:24:32.385021"], ["updated_at", "2023-05-21 21:24:32.385021"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-21 21:24:32.396012"], ["updated_at", "2023-05-21 21:24:32.396012"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191016], ["user_id", 980191027], ["created_at", "2023-05-21 21:24:32.402016"], ["updated_at", "2023-05-21 21:24:32.402016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191016/resenas" for 127.0.0.1 at 2023-05-21 17:24:32 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191016"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191016], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 971)
  [1m[36mResena Load (3.9ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191016]]
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 659)
  Rendered resenas/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 3220)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 3684)
Completed 200 OK in 24ms (Views: 16.7ms | ActiveRecord: 4.5ms | Allocations: 4124)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-21 17:27:13 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.4ms | Allocations: 2031)
  Rendered componentes/_footer.html.erb (Duration: 2.0ms | Allocations: 857)
  Rendered libros/new.html.erb within layouts/application (Duration: 225.3ms | Allocations: 39278)
  Rendered layout layouts/application.html.erb (Duration: 229.9ms | Allocations: 41611)
Completed 200 OK in 276ms (Views: 236.8ms | ActiveRecord: 5.5ms | Allocations: 54432)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.1ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:27:13.617460"], ["updated_at", "2023-05-21 21:27:13.617460"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191017" for 127.0.0.1 at 2023-05-21 17:27:13 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191017"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191017], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 1045)
  Rendered componentes/_footer.html.erb (Duration: 2.3ms | Allocations: 659)
  Rendered libros/show.html.erb within layouts/application (Duration: 11.6ms | Allocations: 3938)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 4412)
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 0.5ms | Allocations: 5385)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-21 17:27:13 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 971)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 659)
  Rendered libros/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2836)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 3300)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.3ms | Allocations: 3597)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-21 21:27:29.852679"], ["updated_at", "2023-05-21 21:27:29.852679"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191018" for 127.0.0.1 at 2023-05-21 17:27:29 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191018"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191018], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.0ms | Allocations: 2031)
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 767)
  Rendered libros/show.html.erb within layouts/application (Duration: 187.8ms | Allocations: 35386)
  Rendered layout layouts/application.html.erb (Duration: 193.7ms | Allocations: 37721)
Completed 200 OK in 232ms (Views: 206.6ms | ActiveRecord: 0.5ms | Allocations: 42877)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-21 17:27:30 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1047)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 659)
  Rendered libros/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3063)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 3538)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.3ms | Allocations: 3917)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-21 17:27:30 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.7ms | Allocations: 971)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 713)
  Rendered libros/new.html.erb within layouts/application (Duration: 24.5ms | Allocations: 7459)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 7933)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.0ms | Allocations: 8266)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (3.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:38:18.837738"], ["updated_at", "2023-05-22 15:38:18.837738"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:38:42.941874"], ["updated_at", "2023-05-22 15:38:42.941874"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:40:50.779576"], ["updated_at", "2023-05-22 15:40:50.779576"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:40:50.815304"], ["updated_at", "2023-05-22 15:40:50.815304"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (4.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191028], ["libro_id", 980191021], ["created_at", "2023-05-22 15:40:50.856333"], ["updated_at", "2023-05-22 15:40:50.856333"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191021/mensajes/980190988" for 127.0.0.1 at 2023-05-22 11:40:50 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191021", "id"=>"980190988"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191021], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191021], ["id", 980190988], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.6ms | Allocations: 1778)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191028], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.1ms | Allocations: 534)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 359.7ms | Allocations: 60488)
  Rendered layout layouts/application.html.erb (Duration: 375.7ms | Allocations: 62699)
Completed 200 OK in 403ms (Views: 383.2ms | ActiveRecord: 1.3ms | Allocations: 68282)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:40:51.485784"], ["updated_at", "2023-05-22 15:40:51.485784"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:40:51.495912"], ["updated_at", "2023-05-22 15:40:51.495912"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191029], ["libro_id", 980191022], ["created_at", "2023-05-22 15:40:51.501488"], ["updated_at", "2023-05-22 15:40:51.501488"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191022/mensajes/980190989" for 127.0.0.1 at 2023-05-22 11:40:51 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191022", "id"=>"980190989"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191029], ["id", 980190989], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191022], ["LIMIT", 1]]
  [1m[36mMensaje Update (1.2ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 15:40:51.538215"], ["id", 980190989]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191022/mensajes
Completed 302 Found in 15ms (ActiveRecord: 2.8ms | Allocations: 1933)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980190989], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:40:51.552904"], ["updated_at", "2023-05-22 15:40:51.552904"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:40:51.561632"], ["updated_at", "2023-05-22 15:40:51.561632"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191030], ["libro_id", 980191023], ["created_at", "2023-05-22 15:40:51.568241"], ["updated_at", "2023-05-22 15:40:51.568241"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191023/mensajes/new" for 127.0.0.1 at 2023-05-22 11:40:51 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191023"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191023], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.9ms | Allocations: 1030)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 29.0ms | Allocations: 5683)
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | Allocations: 6161)
Completed 200 OK in 35ms (Views: 30.8ms | ActiveRecord: 0.4ms | Allocations: 6835)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:40:51.614852"], ["updated_at", "2023-05-22 15:40:51.614852"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:40:51.623153"], ["updated_at", "2023-05-22 15:40:51.623153"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191031], ["libro_id", 980191024], ["created_at", "2023-05-22 15:40:51.629197"], ["updated_at", "2023-05-22 15:40:51.629197"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191024/mensajes" for 127.0.0.1 at 2023-05-22 11:40:51 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191024"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191024], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 1027)
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191024]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191031], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 427)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 3140)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 3605)
Completed 200 OK in 21ms (Views: 16.1ms | ActiveRecord: 2.5ms | Allocations: 4117)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 25.3ms | Allocations: 1767)
  [1m[36mLibro Load (0.9ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 2.4ms | Allocations: 537)
  Rendered libros/index.html.erb within layouts/application (Duration: 165.4ms | Allocations: 29735)
  Rendered layout layouts/application.html.erb (Duration: 181.3ms | Allocations: 31975)
Completed 200 OK in 202ms (Views: 186.0ms | ActiveRecord: 0.9ms | Allocations: 38376)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.412453"], ["updated_at", "2023-05-22 15:42:04.412453"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191025" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191025"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191025], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 813)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered libros/show.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3070)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 3544)
Completed 200 OK in 17ms (Views: 12.4ms | ActiveRecord: 0.6ms | Allocations: 4375)
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered libros/new.html.erb within layouts/application (Duration: 32.9ms | Allocations: 6757)
  Rendered layout layouts/application.html.erb (Duration: 33.6ms | Allocations: 7231)
Completed 200 OK in 35ms (Views: 34.2ms | ActiveRecord: 0.0ms | Allocations: 7561)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.519335"], ["updated_at", "2023-05-22 15:42:04.519335"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 719)
  Rendered users/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3903)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3955)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 4888)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.571127"], ["updated_at", "2023-05-22 15:42:04.571127"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.594660"], ["updated_at", "2023-05-22 15:42:04.594660"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.629230"], ["updated_at", "2023-05-22 15:42:04.629230"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.636027"], ["updated_at", "2023-05-22 15:42:04.636027"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191034], ["libro_id", 980191027], ["created_at", "2023-05-22 15:42:04.664582"], ["updated_at", "2023-05-22 15:42:04.664582"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191027/mensajes" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191027"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191027], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.6ms | Allocations: 1402)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191027]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191034], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 4369)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 4872)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 0.9ms | Allocations: 5873)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.698501"], ["updated_at", "2023-05-22 15:42:04.698501"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.706117"], ["updated_at", "2023-05-22 15:42:04.706117"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191035], ["libro_id", 980191028], ["created_at", "2023-05-22 15:42:04.708921"], ["updated_at", "2023-05-22 15:42:04.708921"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191028/mensajes/980190993" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191028", "id"=>"980190993"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191028], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191028], ["id", 980190993], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1005)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191035], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 427)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2748)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3212)
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 0.8ms | Allocations: 4068)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.726912"], ["updated_at", "2023-05-22 15:42:04.726912"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.732715"], ["updated_at", "2023-05-22 15:42:04.732715"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191036], ["libro_id", 980191029], ["created_at", "2023-05-22 15:42:04.736791"], ["updated_at", "2023-05-22 15:42:04.736791"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191029/mensajes/980190994" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191029", "id"=>"980190994"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191036], ["id", 980190994], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191029], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 15:42:04.751973"], ["id", 980190994]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191029/mensajes
Completed 302 Found in 7ms (ActiveRecord: 1.1ms | Allocations: 1932)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980190994], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.758296"], ["updated_at", "2023-05-22 15:42:04.758296"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.765444"], ["updated_at", "2023-05-22 15:42:04.765444"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191037], ["libro_id", 980191030], ["created_at", "2023-05-22 15:42:04.769283"], ["updated_at", "2023-05-22 15:42:04.769283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191030/mensajes/new" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191030"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191030], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1030)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3400)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3875)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 4547)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.808267"], ["updated_at", "2023-05-22 15:42:04.808267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.813805"], ["updated_at", "2023-05-22 15:42:04.813805"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (2.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191031], ["user_id", 980191038], ["created_at", "2023-05-22 15:42:04.818801"], ["updated_at", "2023-05-22 15:42:04.818801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191031/resenas" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191031"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191031], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 873)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191031]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 428)
  Rendered resenas/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3208)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3714)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.8ms | Allocations: 4712)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.842711"], ["updated_at", "2023-05-22 15:42:04.842711"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.850198"], ["updated_at", "2023-05-22 15:42:04.850198"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191032], ["user_id", 980191039], ["created_at", "2023-05-22 15:42:04.853284"], ["updated_at", "2023-05-22 15:42:04.853284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191032/resenas/980190970" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191032", "id"=>"980190970"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191032], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191032], ["id", 980190970], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 739)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191039], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered resenas/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2661)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3125)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.7ms | Allocations: 3959)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:42:04.870635"], ["updated_at", "2023-05-22 15:42:04.870635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:42:04.875334"], ["updated_at", "2023-05-22 15:42:04.875334"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191033], ["user_id", 980191040], ["created_at", "2023-05-22 15:42:04.878715"], ["updated_at", "2023-05-22 15:42:04.878715"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191033/resenas/new" for 127.0.0.1 at 2023-05-22 11:42:04 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191033"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191033], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 427)
  Rendered resenas/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2776)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3240)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.2ms | Allocations: 3827)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:07.396627"], ["updated_at", "2023-05-22 15:43:07.396627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:07.456292"], ["updated_at", "2023-05-22 15:43:07.456292"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:07.461996"], ["updated_at", "2023-05-22 15:43:07.461996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:07.467091"], ["updated_at", "2023-05-22 15:43:07.467091"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191035], ["user_id", 980191042], ["created_at", "2023-05-22 15:43:07.505266"], ["updated_at", "2023-05-22 15:43:07.505266"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191035/resenas" for 127.0.0.1 at 2023-05-22 11:43:07 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191035"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191035], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 18.5ms | Allocations: 2126)
  [1m[36mResena Load (5.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191035]]
  Rendered componentes/_footer.html.erb (Duration: 6.9ms | Allocations: 534)
  Rendered resenas/index.html.erb within layouts/application (Duration: 146.1ms | Allocations: 30629)
  Rendered layout layouts/application.html.erb (Duration: 152.7ms | Allocations: 32862)
Completed 200 OK in 175ms (Views: 153.4ms | ActiveRecord: 5.9ms | Allocations: 37991)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:07.785332"], ["updated_at", "2023-05-22 15:43:07.785332"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:07.794676"], ["updated_at", "2023-05-22 15:43:07.794676"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191036], ["user_id", 980191043], ["created_at", "2023-05-22 15:43:07.800373"], ["updated_at", "2023-05-22 15:43:07.800373"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191036/resenas/980190973" for 127.0.0.1 at 2023-05-22 11:43:07 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191036", "id"=>"980190973"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191036], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191036], ["id", 980190973], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1044)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191043], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered resenas/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3233)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3707)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 0.8ms | Allocations: 4629)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:07.843101"], ["updated_at", "2023-05-22 15:43:07.843101"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:07.850534"], ["updated_at", "2023-05-22 15:43:07.850534"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191037], ["user_id", 980191044], ["created_at", "2023-05-22 15:43:07.853431"], ["updated_at", "2023-05-22 15:43:07.853431"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191037/resenas/new" for 127.0.0.1 at 2023-05-22 11:43:07 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191037"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191037], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 481)
  Rendered resenas/new.html.erb within layouts/application (Duration: 19.5ms | Allocations: 5640)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 6114)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.2ms | Allocations: 6728)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:07.886678"], ["updated_at", "2023-05-22 15:43:07.886678"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:07.892815"], ["updated_at", "2023-05-22 15:43:07.892815"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191045], ["libro_id", 980191038], ["created_at", "2023-05-22 15:43:07.910820"], ["updated_at", "2023-05-22 15:43:07.910820"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191038/mensajes/980190996" for 127.0.0.1 at 2023-05-22 11:43:07 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191038", "id"=>"980190996"}
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191045], ["id", 980190996], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191038], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.6ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 15:43:07.930665"], ["id", 980190996]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191038/mensajes
Completed 302 Found in 8ms (ActiveRecord: 1.5ms | Allocations: 2065)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980190996], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:07.937860"], ["updated_at", "2023-05-22 15:43:07.937860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:07.944070"], ["updated_at", "2023-05-22 15:43:07.944070"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191046], ["libro_id", 980191039], ["created_at", "2023-05-22 15:43:07.947749"], ["updated_at", "2023-05-22 15:43:07.947749"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191039/mensajes/980190997" for 127.0.0.1 at 2023-05-22 11:43:07 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191039", "id"=>"980190997"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191039], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191039], ["id", 980190997], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1101)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191046], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 428)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3564)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 4066)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.7ms | Allocations: 5233)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:07.969664"], ["updated_at", "2023-05-22 15:43:07.969664"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:07.976371"], ["updated_at", "2023-05-22 15:43:07.976371"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191047], ["libro_id", 980191040], ["created_at", "2023-05-22 15:43:07.979722"], ["updated_at", "2023-05-22 15:43:07.979722"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191040/mensajes" for 127.0.0.1 at 2023-05-22 11:43:07 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191040"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191040], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1005)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191040]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191047], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 427)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3042)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3506)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.7ms | Allocations: 3987)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:07.996914"], ["updated_at", "2023-05-22 15:43:07.996914"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:08.003076"], ["updated_at", "2023-05-22 15:43:08.003076"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191048], ["libro_id", 980191041], ["created_at", "2023-05-22 15:43:08.006047"], ["updated_at", "2023-05-22 15:43:08.006047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191041/mensajes/new" for 127.0.0.1 at 2023-05-22 11:43:08 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191041"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191041], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2774)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3238)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.1ms | Allocations: 3824)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:08.045189"], ["updated_at", "2023-05-22 15:43:08.045189"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 11:43:08 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 719)
  Rendered users/show.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3877)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3929)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 4943)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-22 11:43:08 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.7ms | Allocations: 869)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 428)
  Rendered libros/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 2723)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3229)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.5ms | Allocations: 4006)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:08.094614"], ["updated_at", "2023-05-22 15:43:08.094614"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191042" for 127.0.0.1 at 2023-05-22 11:43:08 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191042"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191042], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 427)
  Rendered libros/show.html.erb within layouts/application (Duration: 12.3ms | Allocations: 2803)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 3267)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 0.4ms | Allocations: 3724)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-22 11:43:08 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 430)
  Rendered libros/new.html.erb within layouts/application (Duration: 12.1ms | Allocations: 4509)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 4973)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms | Allocations: 5272)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:24.926593"], ["updated_at", "2023-05-22 15:43:24.926593"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:24.956991"], ["updated_at", "2023-05-22 15:43:24.956991"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191050], ["libro_id", 980191043], ["created_at", "2023-05-22 15:43:24.999143"], ["updated_at", "2023-05-22 15:43:24.999143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191043/mensajes" for 127.0.0.1 at 2023-05-22 11:43:25 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191043"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191043], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.8ms | Allocations: 2126)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191043]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191050], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 534)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 92.0ms | Allocations: 31280)
  Rendered layout layouts/application.html.erb (Duration: 95.9ms | Allocations: 33513)
Completed 200 OK in 118ms (Views: 102.5ms | ActiveRecord: 1.4ms | Allocations: 38647)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:25.319364"], ["updated_at", "2023-05-22 15:43:25.319364"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:25.328119"], ["updated_at", "2023-05-22 15:43:25.328119"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191051], ["libro_id", 980191044], ["created_at", "2023-05-22 15:43:25.332455"], ["updated_at", "2023-05-22 15:43:25.332455"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191044/mensajes/new" for 127.0.0.1 at 2023-05-22 11:43:25 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191044"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191044], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1039)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 19.1ms | Allocations: 5265)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 5743)
Completed 200 OK in 23ms (Views: 20.3ms | ActiveRecord: 0.3ms | Allocations: 6444)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:25.364394"], ["updated_at", "2023-05-22 15:43:25.364394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:25.370239"], ["updated_at", "2023-05-22 15:43:25.370239"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191052], ["libro_id", 980191045], ["created_at", "2023-05-22 15:43:25.373473"], ["updated_at", "2023-05-22 15:43:25.373473"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191045/mensajes/980191002" for 127.0.0.1 at 2023-05-22 11:43:25 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191045", "id"=>"980191002"}
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191052], ["id", 980191002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191045], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.9ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 15:43:25.392425"], ["id", 980191002]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191045/mensajes
Completed 302 Found in 11ms (ActiveRecord: 2.2ms | Allocations: 2015)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980191002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:25.403137"], ["updated_at", "2023-05-22 15:43:25.403137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:25.409466"], ["updated_at", "2023-05-22 15:43:25.409466"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191053], ["libro_id", 980191046], ["created_at", "2023-05-22 15:43:25.413306"], ["updated_at", "2023-05-22 15:43:25.413306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191046/mensajes/980191003" for 127.0.0.1 at 2023-05-22 11:43:25 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191046", "id"=>"980191003"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191046], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191046], ["id", 980191003], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1030)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191053], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 427)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2866)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3339)
Completed 200 OK in 13ms (Views: 8.5ms | ActiveRecord: 1.0ms | Allocations: 4140)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:41.948208"], ["updated_at", "2023-05-22 15:43:41.948208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:41.976358"], ["updated_at", "2023-05-22 15:43:41.976358"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191047], ["user_id", 980191054], ["created_at", "2023-05-22 15:43:42.011649"], ["updated_at", "2023-05-22 15:43:42.011649"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191047/resenas/980190975" for 127.0.0.1 at 2023-05-22 11:43:42 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191047", "id"=>"980190975"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191047], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191047], ["id", 980190975], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.3ms | Allocations: 2133)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191054], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 534)
  Rendered resenas/show.html.erb within layouts/application (Duration: 93.0ms | Allocations: 30884)
  Rendered layout layouts/application.html.erb (Duration: 96.0ms | Allocations: 33116)
Completed 200 OK in 117ms (Views: 100.7ms | ActiveRecord: 1.1ms | Allocations: 38702)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:42.316989"], ["updated_at", "2023-05-22 15:43:42.316989"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:42.323709"], ["updated_at", "2023-05-22 15:43:42.323709"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191048], ["user_id", 980191055], ["created_at", "2023-05-22 15:43:42.327684"], ["updated_at", "2023-05-22 15:43:42.327684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191048/resenas" for 127.0.0.1 at 2023-05-22 11:43:42 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191048"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191048], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1039)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191048]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered resenas/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2984)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3459)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.6ms | Allocations: 3993)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:43:42.345184"], ["updated_at", "2023-05-22 15:43:42.345184"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:43:42.352966"], ["updated_at", "2023-05-22 15:43:42.352966"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191049], ["user_id", 980191056], ["created_at", "2023-05-22 15:43:42.356061"], ["updated_at", "2023-05-22 15:43:42.356061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191049/resenas/new" for 127.0.0.1 at 2023-05-22 11:43:42 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191049"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191049], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered resenas/new.html.erb within layouts/application (Duration: 12.8ms | Allocations: 5639)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 6113)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.3ms | Allocations: 6728)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:44:17.474012"], ["updated_at", "2023-05-22 15:44:17.474012"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:44:17.502750"], ["updated_at", "2023-05-22 15:44:17.502750"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191057], ["libro_id", 980191050], ["created_at", "2023-05-22 15:44:17.534464"], ["updated_at", "2023-05-22 15:44:17.534464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191050/mensajes/new" for 127.0.0.1 at 2023-05-22 11:44:17 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191050"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191050], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.0ms | Allocations: 2126)
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 625)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 96.6ms | Allocations: 32785)
  Rendered layout layouts/application.html.erb (Duration: 99.8ms | Allocations: 35020)
Completed 200 OK in 119ms (Views: 105.0ms | ActiveRecord: 0.6ms | Allocations: 40353)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:44:17.848788"], ["updated_at", "2023-05-22 15:44:17.848788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:44:17.853925"], ["updated_at", "2023-05-22 15:44:17.853925"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191058], ["libro_id", 980191051], ["created_at", "2023-05-22 15:44:17.856693"], ["updated_at", "2023-05-22 15:44:17.856693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191051/mensajes" for 127.0.0.1 at 2023-05-22 11:44:17 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191051"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191051], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1039)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191051]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191058], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 3574)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 4049)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 1.0ms | Allocations: 4583)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:44:17.877026"], ["updated_at", "2023-05-22 15:44:17.877026"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:44:17.883747"], ["updated_at", "2023-05-22 15:44:17.883747"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191059], ["libro_id", 980191052], ["created_at", "2023-05-22 15:44:17.887737"], ["updated_at", "2023-05-22 15:44:17.887737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191052/mensajes/980191006" for 127.0.0.1 at 2023-05-22 11:44:17 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191052", "id"=>"980191006"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191059], ["id", 980191006], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191052], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.5ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 15:44:17.902238"], ["id", 980191006]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191052/mensajes
Completed 302 Found in 8ms (ActiveRecord: 1.2ms | Allocations: 2013)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980191006], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:44:17.909824"], ["updated_at", "2023-05-22 15:44:17.909824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:44:17.915226"], ["updated_at", "2023-05-22 15:44:17.915226"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191060], ["libro_id", 980191053], ["created_at", "2023-05-22 15:44:17.919527"], ["updated_at", "2023-05-22 15:44:17.919527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191053/mensajes/980191007" for 127.0.0.1 at 2023-05-22 11:44:17 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191053", "id"=>"980191007"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191053], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191053], ["id", 980191007], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1030)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191060], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2866)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3339)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.8ms | Allocations: 4140)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:46:53.960059"], ["updated_at", "2023-05-22 15:46:53.960059"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:46:53.988530"], ["updated_at", "2023-05-22 15:46:53.988530"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191054], ["user_id", 980191061], ["created_at", "2023-05-22 15:46:54.025834"], ["updated_at", "2023-05-22 15:46:54.025834"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191054/resenas/980190978" for 127.0.0.1 at 2023-05-22 11:46:54 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191054", "id"=>"980190978"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191054], ["LIMIT", 1]]
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191054], ["id", 980190978], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.8ms | Allocations: 2133)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191061], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 12.0ms | Allocations: 534)
  Rendered resenas/show.html.erb within layouts/application (Duration: 110.0ms | Allocations: 30901)
  Rendered layout layouts/application.html.erb (Duration: 122.7ms | Allocations: 33133)
Completed 200 OK in 142ms (Views: 127.3ms | ActiveRecord: 1.4ms | Allocations: 38719)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:46:54.356143"], ["updated_at", "2023-05-22 15:46:54.356143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:46:54.362481"], ["updated_at", "2023-05-22 15:46:54.362481"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191055], ["user_id", 980191062], ["created_at", "2023-05-22 15:46:54.366526"], ["updated_at", "2023-05-22 15:46:54.366526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191055/resenas" for 127.0.0.1 at 2023-05-22 11:46:54 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191055"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191055], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1039)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191055]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered resenas/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2984)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3459)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.6ms | Allocations: 3993)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:46:54.384083"], ["updated_at", "2023-05-22 15:46:54.384083"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:46:54.389230"], ["updated_at", "2023-05-22 15:46:54.389230"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191056], ["user_id", 980191063], ["created_at", "2023-05-22 15:46:54.392100"], ["updated_at", "2023-05-22 15:46:54.392100"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:46:54.404163"], ["updated_at", "2023-05-22 15:46:54.404163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:46:54.409668"], ["updated_at", "2023-05-22 15:46:54.409668"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191057], ["user_id", 980191064], ["created_at", "2023-05-22 15:46:54.412415"], ["updated_at", "2023-05-22 15:46:54.412415"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191057/resenas/new" for 127.0.0.1 at 2023-05-22 11:46:54 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191057"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191057], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered resenas/new.html.erb within layouts/application (Duration: 15.4ms | Allocations: 5639)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 6113)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 0.3ms | Allocations: 6727)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:47:16.483024"], ["updated_at", "2023-05-22 15:47:16.483024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:47:16.512496"], ["updated_at", "2023-05-22 15:47:16.512496"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191058], ["user_id", 980191065], ["created_at", "2023-05-22 15:47:16.546124"], ["updated_at", "2023-05-22 15:47:16.546124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191058/resenas/980190982" for 127.0.0.1 at 2023-05-22 11:47:16 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"980191058", "id"=>"980190982"}
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 980191065], ["id", 980190982], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191058], ["LIMIT", 1]]
  [1m[36mResena Update (0.5ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-22 15:47:16.735681"], ["id", 980190982]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191058/resenas
Completed 302 Found in 15ms (ActiveRecord: 1.5ms | Allocations: 4182)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 980190982], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:47:16.746518"], ["updated_at", "2023-05-22 15:47:16.746518"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:47:16.751908"], ["updated_at", "2023-05-22 15:47:16.751908"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191059], ["user_id", 980191066], ["created_at", "2023-05-22 15:47:16.754814"], ["updated_at", "2023-05-22 15:47:16.754814"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191059/resenas/new" for 127.0.0.1 at 2023-05-22 11:47:16 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191059"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191059], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.7ms | Allocations: 2069)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 622)
  Rendered resenas/new.html.erb within layouts/application (Duration: 91.4ms | Allocations: 33116)
  Rendered layout layouts/application.html.erb (Duration: 94.3ms | Allocations: 35342)
Completed 200 OK in 107ms (Views: 99.5ms | ActiveRecord: 0.3ms | Allocations: 38736)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:47:16.873289"], ["updated_at", "2023-05-22 15:47:16.873289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:47:16.878958"], ["updated_at", "2023-05-22 15:47:16.878958"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191060], ["user_id", 980191067], ["created_at", "2023-05-22 15:47:16.882751"], ["updated_at", "2023-05-22 15:47:16.882751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191060/resenas" for 127.0.0.1 at 2023-05-22 11:47:16 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191060"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191060], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1027)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191060]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered resenas/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2877)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3342)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.4ms | Allocations: 3835)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:47:16.898399"], ["updated_at", "2023-05-22 15:47:16.898399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:47:16.904618"], ["updated_at", "2023-05-22 15:47:16.904618"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191061], ["user_id", 980191068], ["created_at", "2023-05-22 15:47:16.908204"], ["updated_at", "2023-05-22 15:47:16.908204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191061/resenas/980190985" for 127.0.0.1 at 2023-05-22 11:47:16 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191061", "id"=>"980190985"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191061], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191061], ["id", 980190985], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1005)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191068], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered resenas/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3024)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3488)
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 1.0ms | Allocations: 4230)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:52:03.836765"], ["updated_at", "2023-05-22 15:52:03.836765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:52:03.867203"], ["updated_at", "2023-05-22 15:52:03.867203"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (2.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191069], ["libro_id", 980191062], ["estado", "E"], ["created_at", "2023-05-22 15:52:03.909067"], ["updated_at", "2023-05-22 15:52:03.909067"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:52:59.479153"], ["updated_at", "2023-05-22 15:52:59.479153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:52:59.509385"], ["updated_at", "2023-05-22 15:52:59.509385"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191070], ["libro_id", 980191063], ["estado", "E"], ["created_at", "2023-05-22 15:52:59.545886"], ["updated_at", "2023-05-22 15:52:59.545886"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191070/compras" for 127.0.0.1 at 2023-05-22 11:52:59 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191070"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.4ms | Allocations: 2106)
  [1m[36mCompra Load (18.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191070]]
  Rendered componentes/_footer.html.erb (Duration: 5.0ms | Allocations: 534)
  Rendered compras/index.html.erb within layouts/application (Duration: 110.1ms | Allocations: 30825)
  Rendered layout layouts/application.html.erb (Duration: 116.1ms | Allocations: 33060)
Completed 200 OK in 134ms (Views: 105.0ms | ActiveRecord: 18.6ms | Allocations: 37500)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:53:30.830720"], ["updated_at", "2023-05-22 15:53:30.830720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:53:30.862741"], ["updated_at", "2023-05-22 15:53:30.862741"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191071], ["libro_id", 980191064], ["estado", "E"], ["created_at", "2023-05-22 15:53:30.898632"], ["updated_at", "2023-05-22 15:53:30.898632"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191071/compras/980190965" for 127.0.0.1 at 2023-05-22 11:53:30 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"980191071", "id"=>"980190965"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191071], ["id", 980190965], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.4ms | Allocations: 2113)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191064], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 535)
  Rendered compras/show.html.erb within layouts/application (Duration: 99.6ms | Allocations: 31008)
  Rendered layout layouts/application.html.erb (Duration: 103.3ms | Allocations: 33240)
Completed 200 OK in 125ms (Views: 109.1ms | ActiveRecord: 0.9ms | Allocations: 38349)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:53:31.231494"], ["updated_at", "2023-05-22 15:53:31.231494"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:53:31.239384"], ["updated_at", "2023-05-22 15:53:31.239384"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191072], ["libro_id", 980191065], ["estado", "E"], ["created_at", "2023-05-22 15:53:31.242678"], ["updated_at", "2023-05-22 15:53:31.242678"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191072/compras" for 127.0.0.1 at 2023-05-22 11:53:31 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191072"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1028)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191072]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered compras/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3016)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3491)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.2ms | Allocations: 3864)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-22 11:54:01 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.6ms | Allocations: 1766)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 625)
  Rendered libros/new.html.erb within layouts/application (Duration: 113.5ms | Allocations: 34395)
  Rendered layout layouts/application.html.erb (Duration: 117.0ms | Allocations: 36630)
Completed 200 OK in 156ms (Views: 122.7ms | ActiveRecord: 5.2ms | Allocations: 49443)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-22 11:54:01 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 815)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 427)
  Rendered libros/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2474)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2949)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms | Allocations: 3380)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:01.827274"], ["updated_at", "2023-05-22 15:54:01.827274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191066" for 127.0.0.1 at 2023-05-22 11:54:01 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191066"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191066], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 427)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2860)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3324)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.4ms | Allocations: 4048)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:01.847537"], ["updated_at", "2023-05-22 15:54:01.847537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:01.878316"], ["updated_at", "2023-05-22 15:54:01.878316"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (3.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191073], ["libro_id", 980191067], ["created_at", "2023-05-22 15:54:01.928151"], ["updated_at", "2023-05-22 15:54:01.928151"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191067/mensajes" for 127.0.0.1 at 2023-05-22 11:54:01 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191067"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191067], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.7ms | Allocations: 1402)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191067]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191073], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 428)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 4374)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 4877)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.9ms | Allocations: 5878)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:01.962626"], ["updated_at", "2023-05-22 15:54:01.962626"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:01.968742"], ["updated_at", "2023-05-22 15:54:01.968742"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191074], ["libro_id", 980191068], ["created_at", "2023-05-22 15:54:01.972217"], ["updated_at", "2023-05-22 15:54:01.972217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191068/mensajes/new" for 127.0.0.1 at 2023-05-22 11:54:01 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191068"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191068], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3281)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3755)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 4413)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:01.989381"], ["updated_at", "2023-05-22 15:54:01.989381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:01.994396"], ["updated_at", "2023-05-22 15:54:01.994396"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191075], ["libro_id", 980191069], ["created_at", "2023-05-22 15:54:01.998337"], ["updated_at", "2023-05-22 15:54:01.998337"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191069/mensajes/980191010" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191069", "id"=>"980191010"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191075], ["id", 980191010], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191069], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.7ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 15:54:02.015310"], ["id", 980191010]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191069/mensajes
Completed 302 Found in 10ms (ActiveRecord: 1.5ms | Allocations: 2008)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980191010], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:02.024291"], ["updated_at", "2023-05-22 15:54:02.024291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.032221"], ["updated_at", "2023-05-22 15:54:02.032221"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191076], ["libro_id", 980191070], ["created_at", "2023-05-22 15:54:02.036721"], ["updated_at", "2023-05-22 15:54:02.036721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191070/mensajes/980191011" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191070", "id"=>"980191011"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191070], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191070], ["id", 980191011], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1030)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191076], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 427)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2862)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 3335)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.7ms | Allocations: 4135)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:02.055855"], ["updated_at", "2023-05-22 15:54:02.055855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.060414"], ["updated_at", "2023-05-22 15:54:02.060414"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191077], ["libro_id", 980191071], ["estado", "E"], ["created_at", "2023-05-22 15:54:02.080031"], ["updated_at", "2023-05-22 15:54:02.080031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191077/compras/980190967" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"980191077", "id"=>"980190967"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191077], ["id", 980190967], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1094)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191071], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3630)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 4132)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.7ms | Allocations: 5394)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:02.104432"], ["updated_at", "2023-05-22 15:54:02.104432"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.110892"], ["updated_at", "2023-05-22 15:54:02.110892"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191078], ["libro_id", 980191072], ["estado", "E"], ["created_at", "2023-05-22 15:54:02.113993"], ["updated_at", "2023-05-22 15:54:02.113993"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191078/compras" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191078"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 996)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191078]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2846)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3310)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.2ms | Allocations: 3642)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.132721"], ["updated_at", "2023-05-22 15:54:02.132721"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:02.139403"], ["updated_at", "2023-05-22 15:54:02.139403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.144577"], ["updated_at", "2023-05-22 15:54:02.144577"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191073], ["user_id", 980191080], ["created_at", "2023-05-22 15:54:02.163893"], ["updated_at", "2023-05-22 15:54:02.163893"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191073/resenas" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191073"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191073], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 1110)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191073]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered resenas/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3497)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 4000)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.7ms | Allocations: 5000)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:02.190219"], ["updated_at", "2023-05-22 15:54:02.190219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.195374"], ["updated_at", "2023-05-22 15:54:02.195374"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191074], ["user_id", 980191081], ["created_at", "2023-05-22 15:54:02.199395"], ["updated_at", "2023-05-22 15:54:02.199395"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191074/resenas/new" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191074"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191074], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 427)
  Rendered resenas/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3049)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3513)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.3ms | Allocations: 4145)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:02.218300"], ["updated_at", "2023-05-22 15:54:02.218300"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.224388"], ["updated_at", "2023-05-22 15:54:02.224388"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191075], ["user_id", 980191082], ["created_at", "2023-05-22 15:54:02.227366"], ["updated_at", "2023-05-22 15:54:02.227366"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191075/resenas/980190988" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"980191075", "id"=>"980190988"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 980191082], ["id", 980190988], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191075], ["LIMIT", 1]]
  [1m[36mResena Update (0.5ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-22 15:54:02.239237"], ["id", 980190988]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191075/resenas
Completed 302 Found in 9ms (ActiveRecord: 1.5ms | Allocations: 1497)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 980190988], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:02.246522"], ["updated_at", "2023-05-22 15:54:02.246522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.253428"], ["updated_at", "2023-05-22 15:54:02.253428"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191076], ["user_id", 980191083], ["created_at", "2023-05-22 15:54:02.257487"], ["updated_at", "2023-05-22 15:54:02.257487"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191076/resenas/980190989" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191076", "id"=>"980190989"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191076], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191076], ["id", 980190989], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 1005)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191083], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered resenas/show.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2911)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 3375)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 0.9ms | Allocations: 4113)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:54:02.283632"], ["updated_at", "2023-05-22 15:54:02.283632"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:54:02.297871"], ["updated_at", "2023-05-22 15:54:02.297871"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 11:54:02 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 719)
  Rendered users/show.html.erb within layouts/application (Duration: 15.6ms | Allocations: 3904)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 3956)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms | Allocations: 4890)
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:55:35.413028"], ["updated_at", "2023-05-22 15:55:35.413028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:55:35.443876"], ["updated_at", "2023-05-22 15:55:35.443876"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191085], ["libro_id", 980191078], ["estado", "E"], ["created_at", "2023-05-22 15:55:35.482024"], ["updated_at", "2023-05-22 15:55:35.482024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191085/compras" for 127.0.0.1 at 2023-05-22 11:55:35 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191085"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 18.4ms | Allocations: 2106)
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191085]]
  Rendered componentes/_footer.html.erb (Duration: 5.1ms | Allocations: 534)
  Rendered compras/index.html.erb within layouts/application (Duration: 139.7ms | Allocations: 30731)
  Rendered layout layouts/application.html.erb (Duration: 146.1ms | Allocations: 32966)
Completed 200 OK in 165ms (Views: 151.5ms | ActiveRecord: 0.8ms | Allocations: 37406)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:55:35.874733"], ["updated_at", "2023-05-22 15:55:35.874733"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:55:35.884536"], ["updated_at", "2023-05-22 15:55:35.884536"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191086], ["libro_id", 980191079], ["estado", "E"], ["created_at", "2023-05-22 15:55:35.889843"], ["updated_at", "2023-05-22 15:55:35.889843"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191086/compras/980190970" for 127.0.0.1 at 2023-05-22 11:55:35 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"980191086", "id"=>"980190970"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191086], ["id", 980190970], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1028)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191079], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 427)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3337)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3811)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 0.6ms | Allocations: 4541)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:55:35.912758"], ["updated_at", "2023-05-22 15:55:35.912758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:55:35.917793"], ["updated_at", "2023-05-22 15:55:35.917793"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191087], ["libro_id", 980191080], ["estado", "E"], ["created_at", "2023-05-22 15:55:35.920655"], ["updated_at", "2023-05-22 15:55:35.920655"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/980191087/compras/980190971" for 127.0.0.1 at 2023-05-22 11:55:35 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"980191087", "id"=>"980190971"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191087], ["id", 980190971], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191080], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-22 15:55:35.934941"], ["id", 980190971]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/980191087/compras
Completed 302 Found in 8ms (ActiveRecord: 1.5ms | Allocations: 1534)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 980190971], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:04.848332"], ["updated_at", "2023-05-22 15:56:04.848332"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 11:56:04 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.1ms | Allocations: 1434)
  Rendered users/show.html.erb within layouts/application (Duration: 88.1ms | Allocations: 30513)
  Rendered layout layouts/application.html.erb (Duration: 88.3ms | Allocations: 30574)
Completed 500 Internal Server Error in 110ms (ActiveRecord: 0.0ms | Allocations: 35332)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.083378"], ["updated_at", "2023-05-22 15:56:05.083378"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.090639"], ["updated_at", "2023-05-22 15:56:05.090639"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191089], ["libro_id", 980191081], ["estado", "E"], ["created_at", "2023-05-22 15:56:05.106015"], ["updated_at", "2023-05-22 15:56:05.106015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/980191089/compras/980190972" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"980191089", "id"=>"980190972"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191089], ["id", 980190972], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191081], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-22 15:56:05.126033"], ["id", 980190972]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/980191089/compras
Completed 302 Found in 8ms (ActiveRecord: 1.5ms | Allocations: 2266)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 980190972], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.136289"], ["updated_at", "2023-05-22 15:56:05.136289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.143050"], ["updated_at", "2023-05-22 15:56:05.143050"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191090], ["libro_id", 980191082], ["estado", "E"], ["created_at", "2023-05-22 15:56:05.146485"], ["updated_at", "2023-05-22 15:56:05.146485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191090/compras/980190973" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"980191090", "id"=>"980190973"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191090], ["id", 980190973], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.8ms | Allocations: 1398)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191082], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 537)
  Rendered compras/show.html.erb within layouts/application (Duration: 28.1ms | Allocations: 3919)
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 6135)
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 0.5ms | Allocations: 7143)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.191130"], ["updated_at", "2023-05-22 15:56:05.191130"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.196189"], ["updated_at", "2023-05-22 15:56:05.196189"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191091], ["libro_id", 980191083], ["estado", "E"], ["created_at", "2023-05-22 15:56:05.200430"], ["updated_at", "2023-05-22 15:56:05.200430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191091/compras" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191091"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 996)
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191091]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 427)
  Rendered compras/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 2872)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 3336)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.6ms | Allocations: 3654)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.220995"], ["updated_at", "2023-05-22 15:56:05.220995"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.225964"], ["updated_at", "2023-05-22 15:56:05.225964"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191084], ["user_id", 980191092], ["created_at", "2023-05-22 15:56:05.229465"], ["updated_at", "2023-05-22 15:56:05.229465"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191084/resenas/980190990" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191084", "id"=>"980190990"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191084], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191084], ["id", 980190990], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1107)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191092], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 428)
  Rendered resenas/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3706)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 4208)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 1.1ms | Allocations: 5821)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.257294"], ["updated_at", "2023-05-22 15:56:05.257294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.262987"], ["updated_at", "2023-05-22 15:56:05.262987"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191085], ["user_id", 980191093], ["created_at", "2023-05-22 15:56:05.266800"], ["updated_at", "2023-05-22 15:56:05.266800"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191085/resenas/980190991" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"980191085", "id"=>"980190991"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 980191093], ["id", 980190991], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191085], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-22 15:56:05.278038"], ["id", 980190991]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191085/resenas
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 1450)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 980190991], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.285408"], ["updated_at", "2023-05-22 15:56:05.285408"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.290276"], ["updated_at", "2023-05-22 15:56:05.290276"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191086], ["user_id", 980191094], ["created_at", "2023-05-22 15:56:05.293429"], ["updated_at", "2023-05-22 15:56:05.293429"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191086/resenas/new" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191086"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191086], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered resenas/new.html.erb within layouts/application (Duration: 19.5ms | Allocations: 5638)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 6112)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 0.3ms | Allocations: 6761)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.324501"], ["updated_at", "2023-05-22 15:56:05.324501"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.329372"], ["updated_at", "2023-05-22 15:56:05.329372"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191087], ["user_id", 980191095], ["created_at", "2023-05-22 15:56:05.333118"], ["updated_at", "2023-05-22 15:56:05.333118"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191087/resenas" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191087"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191087], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1027)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191087]]
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 427)
  Rendered resenas/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2891)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 3356)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.5ms | Allocations: 3868)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.358612"], ["updated_at", "2023-05-22 15:56:05.358612"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.364910"], ["updated_at", "2023-05-22 15:56:05.364910"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.382228"], ["updated_at", "2023-05-22 15:56:05.382228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191089" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191089"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191089], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 870)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 428)
  Rendered libros/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3327)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3832)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.2ms | Allocations: 4805)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 430)
  Rendered libros/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 4511)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 4975)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 5315)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 739)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 427)
  Rendered libros/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2168)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 2632)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.3ms | Allocations: 2927)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.440222"], ["updated_at", "2023-05-22 15:56:05.440222"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.444909"], ["updated_at", "2023-05-22 15:56:05.444909"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.1ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191097], ["libro_id", 980191090], ["created_at", "2023-05-22 15:56:05.448982"], ["updated_at", "2023-05-22 15:56:05.448982"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191090/mensajes/980191012" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191090", "id"=>"980191012"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191090], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191090], ["id", 980191012], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1107)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191097], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 10.0ms | Allocations: 3581)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 4083)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 0.9ms | Allocations: 5545)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.476584"], ["updated_at", "2023-05-22 15:56:05.476584"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.482073"], ["updated_at", "2023-05-22 15:56:05.482073"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191098], ["libro_id", 980191091], ["created_at", "2023-05-22 15:56:05.486002"], ["updated_at", "2023-05-22 15:56:05.486002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191091/mensajes/980191013" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191091", "id"=>"980191013"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191098], ["id", 980191013], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191091], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 15:56:05.494201"], ["id", 980191013]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191091/mensajes
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1422)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980191013], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.501511"], ["updated_at", "2023-05-22 15:56:05.501511"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.506365"], ["updated_at", "2023-05-22 15:56:05.506365"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191099], ["libro_id", 980191092], ["created_at", "2023-05-22 15:56:05.509634"], ["updated_at", "2023-05-22 15:56:05.509634"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191092/mensajes/new" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191092"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191092], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2773)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3237)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.2ms | Allocations: 3858)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:56:05.526376"], ["updated_at", "2023-05-22 15:56:05.526376"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:05.531773"], ["updated_at", "2023-05-22 15:56:05.531773"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191100], ["libro_id", 980191093], ["created_at", "2023-05-22 15:56:05.536170"], ["updated_at", "2023-05-22 15:56:05.536170"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191093/mensajes" for 127.0.0.1 at 2023-05-22 11:56:05 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191093"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191093], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1005)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191093]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191100], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3038)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3502)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.7ms | Allocations: 3939)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:56:52.945990"], ["updated_at", "2023-05-22 15:56:52.945990"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 11:56:52 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 15.7ms | Allocations: 1438)
  Rendered users/show.html.erb within layouts/application (Duration: 219.7ms | Allocations: 30050)
  Rendered layout layouts/application.html.erb (Duration: 219.9ms | Allocations: 30111)
Completed 500 Internal Server Error in 274ms (ActiveRecord: 0.0ms | Allocations: 34869)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:42.195545"], ["updated_at", "2023-05-22 15:57:42.195545"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 11:57:42 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.5ms | Allocations: 2119)
  Rendered componentes/_footer.html.erb (Duration: 11.8ms | Allocations: 534)
  Rendered users/show.html.erb within layouts/application (Duration: 124.4ms | Allocations: 30019)
  Rendered layout layouts/application.html.erb (Duration: 139.9ms | Allocations: 32256)
Completed 200 OK in 154ms (Views: 144.7ms | ActiveRecord: 0.0ms | Allocations: 36703)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.067011"], ["updated_at", "2023-05-22 15:57:54.067011"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.096763"], ["updated_at", "2023-05-22 15:57:54.096763"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191094], ["user_id", 980191103], ["created_at", "2023-05-22 15:57:54.140482"], ["updated_at", "2023-05-22 15:57:54.140482"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191094/resenas/980190994" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191094", "id"=>"980190994"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191094], ["LIMIT", 1]]
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191094], ["id", 980190994], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.4ms | Allocations: 2133)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191103], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 534)
  Rendered resenas/show.html.erb within layouts/application (Duration: 77.9ms | Allocations: 30883)
  Rendered layout layouts/application.html.erb (Duration: 81.4ms | Allocations: 33115)
Completed 200 OK in 100ms (Views: 85.9ms | ActiveRecord: 1.1ms | Allocations: 38700)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.318305"], ["updated_at", "2023-05-22 15:57:54.318305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.326247"], ["updated_at", "2023-05-22 15:57:54.326247"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191095], ["user_id", 980191104], ["created_at", "2023-05-22 15:57:54.330783"], ["updated_at", "2023-05-22 15:57:54.330783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191095/resenas/980190995" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"980191095", "id"=>"980190995"}
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 980191104], ["id", 980190995], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191095], ["LIMIT", 1]]
  [1m[36mResena Update (0.5ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-22 15:57:54.348514"], ["id", 980190995]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191095/resenas
Completed 302 Found in 9ms (ActiveRecord: 1.5ms | Allocations: 1961)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 980190995], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.356575"], ["updated_at", "2023-05-22 15:57:54.356575"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.363590"], ["updated_at", "2023-05-22 15:57:54.363590"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191096], ["user_id", 980191105], ["created_at", "2023-05-22 15:57:54.382220"], ["updated_at", "2023-05-22 15:57:54.382220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191096/resenas/new" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191096"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191096], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1035)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered resenas/new.html.erb within layouts/application (Duration: 22.2ms | Allocations: 5775)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 6250)
Completed 200 OK in 26ms (Views: 23.8ms | ActiveRecord: 0.2ms | Allocations: 6926)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.415176"], ["updated_at", "2023-05-22 15:57:54.415176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.422262"], ["updated_at", "2023-05-22 15:57:54.422262"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191097], ["user_id", 980191106], ["created_at", "2023-05-22 15:57:54.425607"], ["updated_at", "2023-05-22 15:57:54.425607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191097/resenas" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191097"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191097], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1027)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191097]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 427)
  Rendered resenas/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2908)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3373)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.5ms | Allocations: 3885)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.443226"], ["updated_at", "2023-05-22 15:57:54.443226"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.482157"], ["updated_at", "2023-05-22 15:57:54.482157"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191099" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191099"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191099], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 949)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 428)
  Rendered libros/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3409)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 3914)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.3ms | Allocations: 4888)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered libros/new.html.erb within layouts/application (Duration: 9.5ms | Allocations: 4509)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 4973)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 5313)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 739)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 427)
  Rendered libros/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2168)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 2632)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.3ms | Allocations: 2927)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.534997"], ["updated_at", "2023-05-22 15:57:54.534997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.541139"], ["updated_at", "2023-05-22 15:57:54.541139"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191107], ["libro_id", 980191100], ["estado", "E"], ["created_at", "2023-05-22 15:57:54.544963"], ["updated_at", "2023-05-22 15:57:54.544963"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/980191107/compras/980190975" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"980191107", "id"=>"980190975"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191107], ["id", 980190975], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191100], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-22 15:57:54.557528"], ["id", 980190975]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/980191107/compras
Completed 302 Found in 8ms (ActiveRecord: 1.3ms | Allocations: 1668)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 980190975], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.565356"], ["updated_at", "2023-05-22 15:57:54.565356"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.570481"], ["updated_at", "2023-05-22 15:57:54.570481"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191108], ["libro_id", 980191101], ["estado", "E"], ["created_at", "2023-05-22 15:57:54.573329"], ["updated_at", "2023-05-22 15:57:54.573329"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191108/compras/980190976" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"980191108", "id"=>"980190976"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191108], ["id", 980190976], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.1ms | Allocations: 1090)
  [1m[36mLibro Load (28.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191101], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 428)
  Rendered compras/show.html.erb within layouts/application (Duration: 49.5ms | Allocations: 3419)
  Rendered layout layouts/application.html.erb (Duration: 50.4ms | Allocations: 3921)
Completed 200 OK in 54ms (Views: 23.6ms | ActiveRecord: 28.9ms | Allocations: 4892)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.651990"], ["updated_at", "2023-05-22 15:57:54.651990"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.657894"], ["updated_at", "2023-05-22 15:57:54.657894"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191109], ["libro_id", 980191102], ["estado", "E"], ["created_at", "2023-05-22 15:57:54.661977"], ["updated_at", "2023-05-22 15:57:54.661977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191109/compras" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191109"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 996)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191109]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 427)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2855)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3319)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.2ms | Allocations: 3651)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.698797"], ["updated_at", "2023-05-22 15:57:54.698797"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.706766"], ["updated_at", "2023-05-22 15:57:54.706766"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.712092"], ["updated_at", "2023-05-22 15:57:54.712092"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191111], ["libro_id", 980191103], ["created_at", "2023-05-22 15:57:54.716013"], ["updated_at", "2023-05-22 15:57:54.716013"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191103/mensajes/980191016" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191103", "id"=>"980191016"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191103], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191103], ["id", 980191016], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1112)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191111], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 428)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3586)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 4088)
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 1.0ms | Allocations: 5550)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.743164"], ["updated_at", "2023-05-22 15:57:54.743164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.749119"], ["updated_at", "2023-05-22 15:57:54.749119"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191112], ["libro_id", 980191104], ["created_at", "2023-05-22 15:57:54.753515"], ["updated_at", "2023-05-22 15:57:54.753515"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191104/mensajes/980191017" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191104", "id"=>"980191017"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191112], ["id", 980191017], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191104], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.6ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 15:57:54.762716"], ["id", 980191017]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191104/mensajes
Completed 302 Found in 8ms (ActiveRecord: 1.2ms | Allocations: 1421)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980191017], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.769957"], ["updated_at", "2023-05-22 15:57:54.769957"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.775519"], ["updated_at", "2023-05-22 15:57:54.775519"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191113], ["libro_id", 980191105], ["created_at", "2023-05-22 15:57:54.778662"], ["updated_at", "2023-05-22 15:57:54.778662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191105/mensajes/new" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191105"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191105], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 427)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2774)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3238)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.3ms | Allocations: 3859)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 15:57:54.796661"], ["updated_at", "2023-05-22 15:57:54.796661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.802012"], ["updated_at", "2023-05-22 15:57:54.802012"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191114], ["libro_id", 980191106], ["created_at", "2023-05-22 15:57:54.804995"], ["updated_at", "2023-05-22 15:57:54.804995"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191106/mensajes" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191106"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191106], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1005)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191106]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191114], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 427)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3038)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3502)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.8ms | Allocations: 3939)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 15:57:54.827346"], ["updated_at", "2023-05-22 15:57:54.827346"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 11:57:54 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1094)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 428)
  Rendered users/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3226)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3729)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.0ms | Allocations: 4514)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:46.465381"], ["updated_at", "2023-05-22 16:01:46.465381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:46.495911"], ["updated_at", "2023-05-22 16:01:46.495911"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191116], ["libro_id", 980191107], ["estado", "E"], ["created_at", "2023-05-22 16:01:46.532711"], ["updated_at", "2023-05-22 16:01:46.532711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191116/compras/980190978" for 127.0.0.1 at 2023-05-22 12:01:46 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"980191116", "id"=>"980190978"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191116], ["id", 980190978], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.7ms | Allocations: 2113)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191107], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.6ms | Allocations: 535)
  Rendered compras/show.html.erb within layouts/application (Duration: 89.6ms | Allocations: 30971)
  Rendered layout layouts/application.html.erb (Duration: 94.6ms | Allocations: 33203)
Completed 200 OK in 120ms (Views: 102.7ms | ActiveRecord: 1.0ms | Allocations: 38312)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:46.740759"], ["updated_at", "2023-05-22 16:01:46.740759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:46.747167"], ["updated_at", "2023-05-22 16:01:46.747167"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191117], ["libro_id", 980191108], ["estado", "E"], ["created_at", "2023-05-22 16:01:46.750943"], ["updated_at", "2023-05-22 16:01:46.750943"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/980191117/compras/980190979" for 127.0.0.1 at 2023-05-22 12:01:46 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"980191117", "id"=>"980190979"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191117], ["id", 980190979], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191108], ["LIMIT", 1]]
  [1m[36mCompra Update (0.7ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-22 16:01:46.769394"], ["id", 980190979]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/980191117/compras
Completed 302 Found in 8ms (ActiveRecord: 1.5ms | Allocations: 1536)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 980190979], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:46.778932"], ["updated_at", "2023-05-22 16:01:46.778932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:46.785013"], ["updated_at", "2023-05-22 16:01:46.785013"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191118], ["libro_id", 980191109], ["estado", "E"], ["created_at", "2023-05-22 16:01:46.790414"], ["updated_at", "2023-05-22 16:01:46.790414"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191118/compras" for 127.0.0.1 at 2023-05-22 12:01:46 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191118"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.7ms | Allocations: 1021)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191118]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered compras/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2997)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3471)
Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 3828)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:46.849633"], ["updated_at", "2023-05-22 16:01:46.849633"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:46.856011"], ["updated_at", "2023-05-22 16:01:46.856011"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.1ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191110], ["user_id", 980191119], ["created_at", "2023-05-22 16:01:46.879112"], ["updated_at", "2023-05-22 16:01:46.879112"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191110/resenas/980190998" for 127.0.0.1 at 2023-05-22 12:01:46 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"980191110", "id"=>"980190998"}
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 980191119], ["id", 980190998], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191110], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-22 16:01:46.894126"], ["id", 980190998]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191110/resenas
Completed 302 Found in 9ms (ActiveRecord: 1.5ms | Allocations: 1848)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 980190998], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:46.901575"], ["updated_at", "2023-05-22 16:01:46.901575"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:46.908649"], ["updated_at", "2023-05-22 16:01:46.908649"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191111], ["user_id", 980191120], ["created_at", "2023-05-22 16:01:46.912111"], ["updated_at", "2023-05-22 16:01:46.912111"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191111/resenas/new" for 127.0.0.1 at 2023-05-22 12:01:46 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191111"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191111], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1101)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 482)
  Rendered resenas/new.html.erb within layouts/application (Duration: 19.5ms | Allocations: 6123)
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 6625)
Completed 200 OK in 26ms (Views: 22.5ms | ActiveRecord: 0.3ms | Allocations: 7797)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:46.945619"], ["updated_at", "2023-05-22 16:01:46.945619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:46.953318"], ["updated_at", "2023-05-22 16:01:46.953318"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191112], ["user_id", 980191121], ["created_at", "2023-05-22 16:01:46.956592"], ["updated_at", "2023-05-22 16:01:46.956592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191112/resenas/980191000" for 127.0.0.1 at 2023-05-22 12:01:46 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191112", "id"=>"980191000"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191112], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191112], ["id", 980191000], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1027)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191121], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered resenas/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3091)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3556)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.8ms | Allocations: 4376)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:46.974847"], ["updated_at", "2023-05-22 16:01:46.974847"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:46.980186"], ["updated_at", "2023-05-22 16:01:46.980186"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191113], ["user_id", 980191122], ["created_at", "2023-05-22 16:01:46.983843"], ["updated_at", "2023-05-22 16:01:46.983843"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191113/resenas" for 127.0.0.1 at 2023-05-22 12:01:46 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191113"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191113], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1005)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191113]]
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 427)
  Rendered resenas/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2815)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3279)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.5ms | Allocations: 3716)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:47.005145"], ["updated_at", "2023-05-22 16:01:47.005145"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:47.011599"], ["updated_at", "2023-05-22 16:01:47.011599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:47.017084"], ["updated_at", "2023-05-22 16:01:47.017084"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191124], ["libro_id", 980191114], ["created_at", "2023-05-22 16:01:47.021538"], ["updated_at", "2023-05-22 16:01:47.021538"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191114/mensajes/980191020" for 127.0.0.1 at 2023-05-22 12:01:47 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191114", "id"=>"980191020"}
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191124], ["id", 980191020], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191114], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 16:01:47.034349"], ["id", 980191020]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191114/mensajes
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 1815)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980191020], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:47.040397"], ["updated_at", "2023-05-22 16:01:47.040397"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:47.045960"], ["updated_at", "2023-05-22 16:01:47.045960"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191125], ["libro_id", 980191115], ["created_at", "2023-05-22 16:01:47.049139"], ["updated_at", "2023-05-22 16:01:47.049139"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191115/mensajes/new" for 127.0.0.1 at 2023-05-22 12:01:47 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191115"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191115], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1101)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 428)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3276)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3778)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 4807)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:47.069629"], ["updated_at", "2023-05-22 16:01:47.069629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:47.076178"], ["updated_at", "2023-05-22 16:01:47.076178"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191126], ["libro_id", 980191116], ["created_at", "2023-05-22 16:01:47.079536"], ["updated_at", "2023-05-22 16:01:47.079536"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191116/mensajes/980191022" for 127.0.0.1 at 2023-05-22 12:01:47 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191116", "id"=>"980191022"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191116], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191116], ["id", 980191022], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1005)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191126], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2903)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3367)
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 0.9ms | Allocations: 4162)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:47.099862"], ["updated_at", "2023-05-22 16:01:47.099862"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:47.104524"], ["updated_at", "2023-05-22 16:01:47.104524"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191127], ["libro_id", 980191117], ["created_at", "2023-05-22 16:01:47.107700"], ["updated_at", "2023-05-22 16:01:47.107700"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191117/mensajes" for 127.0.0.1 at 2023-05-22 12:01:47 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191117"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191117], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1010)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191117]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191127], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3044)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3508)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.6ms | Allocations: 3945)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-22 12:01:47 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.4ms | Allocations: 949)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 428)
  Rendered libros/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 5125)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 5628)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 6424)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:47.150745"], ["updated_at", "2023-05-22 16:01:47.150745"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191118" for 127.0.0.1 at 2023-05-22 12:01:47 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191118"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191118], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered libros/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 2794)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3258)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 3721)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-22 12:01:47 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 739)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 427)
  Rendered libros/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2147)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 2611)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.3ms | Allocations: 2906)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:01:47.180160"], ["updated_at", "2023-05-22 16:01:47.180160"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:01:47.195484"], ["updated_at", "2023-05-22 16:01:47.195484"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 12:01:47 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1094)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered users/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3226)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3729)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 4514)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/home/index" for 127.0.0.1 at 2023-05-22 12:04:30 -0400
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (5.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-05-22 12:15:01 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 18.3ms | Allocations: 1790)
  Rendered componentes/_footer.html.erb (Duration: 1.9ms | Allocations: 541)
  Rendered home/index.html.erb within layouts/application (Duration: 258.5ms | Allocations: 29419)
  Rendered layout layouts/application.html.erb (Duration: 263.4ms | Allocations: 31660)
Completed 200 OK in 281ms (Views: 269.1ms | ActiveRecord: 0.0ms | Allocations: 36091)
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-22 12:15:12 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.6ms | Allocations: 1769)
  [1m[36mLibro Load (4.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 537)
  Rendered libros/index.html.erb within layouts/application (Duration: 89.6ms | Allocations: 29870)
  Rendered layout layouts/application.html.erb (Duration: 93.1ms | Allocations: 32110)
Completed 200 OK in 117ms (Views: 95.5ms | ActiveRecord: 4.1ms | Allocations: 38511)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-22 12:15:12 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 822)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered libros/new.html.erb within layouts/application (Duration: 20.2ms | Allocations: 7037)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 7513)
Completed 200 OK in 49ms (Views: 21.5ms | ActiveRecord: 11.5ms | Allocations: 14310)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (11.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.015902"], ["updated_at", "2023-05-22 16:15:13.015902"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191120" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191120"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191120], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 803)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 427)
  Rendered libros/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2960)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3425)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.4ms | Allocations: 4231)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.084609"], ["updated_at", "2023-05-22 16:15:13.084609"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.093704"], ["updated_at", "2023-05-22 16:15:13.093704"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.101237"], ["updated_at", "2023-05-22 16:15:13.101237"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (17.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191130], ["libro_id", 980191121], ["created_at", "2023-05-22 16:15:13.152196"], ["updated_at", "2023-05-22 16:15:13.152196"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191121/mensajes/980191024" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191121", "id"=>"980191024"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191130], ["id", 980191024], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191121], ["LIMIT", 1]]
  [1m[36mMensaje Update (1.8ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 16:15:13.190313"], ["id", 980191024]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191121/mensajes
Completed 302 Found in 10ms (ActiveRecord: 2.6ms | Allocations: 2135)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980191024], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.199342"], ["updated_at", "2023-05-22 16:15:13.199342"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.205213"], ["updated_at", "2023-05-22 16:15:13.205213"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191131], ["libro_id", 980191122], ["created_at", "2023-05-22 16:15:13.208935"], ["updated_at", "2023-05-22 16:15:13.208935"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191122/mensajes" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191122"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191122], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.9ms | Allocations: 1398)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191122]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191131], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 428)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 4282)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 4785)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.8ms | Allocations: 5656)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.233494"], ["updated_at", "2023-05-22 16:15:13.233494"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.240681"], ["updated_at", "2023-05-22 16:15:13.240681"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191132], ["libro_id", 980191123], ["created_at", "2023-05-22 16:15:13.243908"], ["updated_at", "2023-05-22 16:15:13.243908"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191123/mensajes/new" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191123"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191123], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3279)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3753)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.3ms | Allocations: 4410)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.263716"], ["updated_at", "2023-05-22 16:15:13.263716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.270521"], ["updated_at", "2023-05-22 16:15:13.270521"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191133], ["libro_id", 980191124], ["created_at", "2023-05-22 16:15:13.273801"], ["updated_at", "2023-05-22 16:15:13.273801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191124/mensajes/980191027" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191124", "id"=>"980191027"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191124], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191124], ["id", 980191027], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1026)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191133], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 427)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2784)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3249)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 0.9ms | Allocations: 4065)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.297020"], ["updated_at", "2023-05-22 16:15:13.297020"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1094)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered users/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3230)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3733)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 4519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.319979"], ["updated_at", "2023-05-22 16:15:13.319979"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.325526"], ["updated_at", "2023-05-22 16:15:13.325526"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (3.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191125], ["user_id", 980191135], ["created_at", "2023-05-22 16:15:13.345697"], ["updated_at", "2023-05-22 16:15:13.345697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191125/resenas/980191002" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"980191125", "id"=>"980191002"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 980191135], ["id", 980191002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191125], ["LIMIT", 1]]
  [1m[36mResena Update (0.5ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-22 16:15:13.360519"], ["id", 980191002]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191125/resenas
Completed 302 Found in 8ms (ActiveRecord: 1.2ms | Allocations: 1849)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 980191002], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.367569"], ["updated_at", "2023-05-22 16:15:13.367569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.374244"], ["updated_at", "2023-05-22 16:15:13.374244"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191126], ["user_id", 980191136], ["created_at", "2023-05-22 16:15:13.377182"], ["updated_at", "2023-05-22 16:15:13.377182"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191126/resenas" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191126"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191126], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1104)
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191126]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 428)
  Rendered resenas/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3457)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 3960)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.7ms | Allocations: 4830)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.399697"], ["updated_at", "2023-05-22 16:15:13.399697"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.406873"], ["updated_at", "2023-05-22 16:15:13.406873"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191127], ["user_id", 980191137], ["created_at", "2023-05-22 16:15:13.409634"], ["updated_at", "2023-05-22 16:15:13.409634"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191127/resenas/new" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191127"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191127], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered resenas/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3047)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3511)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.2ms | Allocations: 4142)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.426427"], ["updated_at", "2023-05-22 16:15:13.426427"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.432692"], ["updated_at", "2023-05-22 16:15:13.432692"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191128], ["user_id", 980191138], ["created_at", "2023-05-22 16:15:13.436230"], ["updated_at", "2023-05-22 16:15:13.436230"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191128/resenas/980191005" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191128", "id"=>"980191005"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191128], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191128], ["id", 980191005], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1005)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191138], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered resenas/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2912)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3376)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.7ms | Allocations: 4117)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 870)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 428)
  Rendered home/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 2560)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 3066)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms | Allocations: 3834)
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (3.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.509978"], ["updated_at", "2023-05-22 16:15:13.509978"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.609367"], ["updated_at", "2023-05-22 16:15:13.609367"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.617069"], ["updated_at", "2023-05-22 16:15:13.617069"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (5.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191139], ["libro_id", 980191130], ["estado", "E"], ["created_at", "2023-05-22 16:15:13.622689"], ["updated_at", "2023-05-22 16:15:13.622689"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191139/compras" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191139"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1094)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191139]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 428)
  Rendered compras/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3547)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4050)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.3ms | Allocations: 4829)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.651620"], ["updated_at", "2023-05-22 16:15:13.651620"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.660340"], ["updated_at", "2023-05-22 16:15:13.660340"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191140], ["libro_id", 980191131], ["estado", "E"], ["created_at", "2023-05-22 16:15:13.666398"], ["updated_at", "2023-05-22 16:15:13.666398"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191140/compras/980190982" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"980191140", "id"=>"980190982"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191140], ["id", 980190982], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 996)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191131], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 427)
  Rendered compras/show.html.erb within layouts/application (Duration: 11.5ms | Allocations: 2955)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 3419)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.6ms | Allocations: 4059)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:15:13.694893"], ["updated_at", "2023-05-22 16:15:13.694893"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:15:13.702625"], ["updated_at", "2023-05-22 16:15:13.702625"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191141], ["libro_id", 980191132], ["estado", "E"], ["created_at", "2023-05-22 16:15:13.707106"], ["updated_at", "2023-05-22 16:15:13.707106"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/980191141/compras/980190983" for 127.0.0.1 at 2023-05-22 12:15:13 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"980191141", "id"=>"980190983"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191141], ["id", 980190983], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191132], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-22 16:15:13.715435"], ["id", 980190983]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/980191141/compras
Completed 302 Found in 7ms (ActiveRecord: 1.2ms | Allocations: 1091)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 980190983], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.191598"], ["updated_at", "2023-05-22 16:33:30.191598"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.0ms | Allocations: 2126)
  Rendered componentes/_footer.html.erb (Duration: 2.0ms | Allocations: 534)
  Rendered users/show.html.erb within layouts/application (Duration: 124.6ms | Allocations: 30374)
  Rendered layout layouts/application.html.erb (Duration: 128.9ms | Allocations: 32611)
Completed 200 OK in 205ms (Views: 163.5ms | ActiveRecord: 0.0ms | Allocations: 37057)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.574770"], ["updated_at", "2023-05-22 16:33:30.574770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.607004"], ["updated_at", "2023-05-22 16:33:30.607004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.612067"], ["updated_at", "2023-05-22 16:33:30.612067"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191143], ["libro_id", 980191134], ["created_at", "2023-05-22 16:33:30.640663"], ["updated_at", "2023-05-22 16:33:30.640663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191134/mensajes/980191028" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"980191134", "id"=>"980191028"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191134], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 980191134], ["id", 980191028], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1107)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191143], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 428)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3783)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 4285)
Completed 200 OK in 18ms (Views: 12.5ms | ActiveRecord: 1.1ms | Allocations: 6160)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.669559"], ["updated_at", "2023-05-22 16:33:30.669559"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.675816"], ["updated_at", "2023-05-22 16:33:30.675816"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191144], ["libro_id", 980191135], ["created_at", "2023-05-22 16:33:30.678625"], ["updated_at", "2023-05-22 16:33:30.678625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191135/mensajes/980191029" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"980191135", "id"=>"980191029"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 980191144], ["id", 980191029], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191135], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-22 16:33:30.694254"], ["id", 980191029]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191135/mensajes
Completed 302 Found in 8ms (ActiveRecord: 1.1ms | Allocations: 1931)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 980191029], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.701107"], ["updated_at", "2023-05-22 16:33:30.701107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.706520"], ["updated_at", "2023-05-22 16:33:30.706520"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191145], ["libro_id", 980191136], ["created_at", "2023-05-22 16:33:30.709483"], ["updated_at", "2023-05-22 16:33:30.709483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191136/mensajes/new" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"980191136"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191136], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1030)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 481)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 17.4ms | Allocations: 5251)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 5729)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.2ms | Allocations: 6401)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.738567"], ["updated_at", "2023-05-22 16:33:30.738567"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.743693"], ["updated_at", "2023-05-22 16:33:30.743693"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 980191146], ["libro_id", 980191137], ["created_at", "2023-05-22 16:33:30.746402"], ["updated_at", "2023-05-22 16:33:30.746402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191137/mensajes" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"980191137"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191137], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1027)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 980191137]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191146], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3139)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3604)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.6ms | Allocations: 4116)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.1ms | Allocations: 949)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered home/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 2633)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3139)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 3907)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.781409"], ["updated_at", "2023-05-22 16:33:30.781409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191138" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"980191138"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191138], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 869)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 428)
  Rendered libros/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3330)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 3835)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.3ms | Allocations: 4808)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 739)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 481)
  Rendered libros/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 4817)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 5291)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 5658)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 805)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered libros/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2272)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 2737)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.3ms | Allocations: 3091)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.837364"], ["updated_at", "2023-05-22 16:33:30.837364"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.843546"], ["updated_at", "2023-05-22 16:33:30.843546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.848651"], ["updated_at", "2023-05-22 16:33:30.848651"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191148], ["libro_id", 980191139], ["estado", "E"], ["created_at", "2023-05-22 16:33:30.865499"], ["updated_at", "2023-05-22 16:33:30.865499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/980191148/compras/980190984" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"980191148", "id"=>"980190984"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191148], ["id", 980190984], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191139], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-22 16:33:30.877508"], ["id", 980190984]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/980191148/compras
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 1668)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 980190984], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.884930"], ["updated_at", "2023-05-22 16:33:30.884930"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.891067"], ["updated_at", "2023-05-22 16:33:30.891067"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191149], ["libro_id", 980191140], ["estado", "E"], ["created_at", "2023-05-22 16:33:30.895303"], ["updated_at", "2023-05-22 16:33:30.895303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191149/compras/980190985" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"980191149", "id"=>"980190985"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 980191149], ["id", 980190985], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1090)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191140], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3418)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3920)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.5ms | Allocations: 4890)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.916065"], ["updated_at", "2023-05-22 16:33:30.916065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.921060"], ["updated_at", "2023-05-22 16:33:30.921060"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 980191150], ["libro_id", 980191141], ["estado", "E"], ["created_at", "2023-05-22 16:33:30.923885"], ["updated_at", "2023-05-22 16:33:30.923885"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/980191150/compras" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"980191150"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 996)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 980191150]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2856)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3320)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 3652)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.945760"], ["updated_at", "2023-05-22 16:33:30.945760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.950968"], ["updated_at", "2023-05-22 16:33:30.950968"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191142], ["user_id", 980191151], ["created_at", "2023-05-22 16:33:30.954305"], ["updated_at", "2023-05-22 16:33:30.954305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191142/resenas/980191006" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"980191142", "id"=>"980191006"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191142], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 980191142], ["id", 980191006], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1107)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 980191151], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 428)
  Rendered resenas/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 3599)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 4101)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 1.0ms | Allocations: 5567)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:30.981002"], ["updated_at", "2023-05-22 16:33:30.981002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:30.986378"], ["updated_at", "2023-05-22 16:33:30.986378"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191143], ["user_id", 980191152], ["created_at", "2023-05-22 16:33:30.989143"], ["updated_at", "2023-05-22 16:33:30.989143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/980191143/resenas/980191007" for 127.0.0.1 at 2023-05-22 12:33:30 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"980191143", "id"=>"980191007"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 980191152], ["id", 980191007], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191143], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-22 16:33:30.997939"], ["id", 980191007]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/980191143/resenas
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 1451)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 980191007], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:31.004183"], ["updated_at", "2023-05-22 16:33:31.004183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:31.009238"], ["updated_at", "2023-05-22 16:33:31.009238"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191144], ["user_id", 980191153], ["created_at", "2023-05-22 16:33:31.012027"], ["updated_at", "2023-05-22 16:33:31.012027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191144/resenas/new" for 127.0.0.1 at 2023-05-22 12:33:31 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"980191144"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191144], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1005)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 427)
  Rendered resenas/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3045)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3509)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 4131)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", 1000], ["stock", 1], ["descripcion", "B"], ["created_at", "2023-05-22 16:33:31.031621"], ["updated_at", "2023-05-22 16:33:31.031621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-22 16:33:31.036840"], ["updated_at", "2023-05-22 16:33:31.036840"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 980191145], ["user_id", 980191154], ["created_at", "2023-05-22 16:33:31.040038"], ["updated_at", "2023-05-22 16:33:31.040038"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/980191145/resenas" for 127.0.0.1 at 2023-05-22 12:33:31 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"980191145"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 980191145], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1005)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 980191145]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 427)
  Rendered resenas/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2804)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3268)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.4ms | Allocations: 3705)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (46.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (124.0ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "compras" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "libros" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" character varying, "stock" character varying, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "mensajes" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "resenas" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "nombre" character varying, "telefono" character varying, "descripcion" character varying, "tipo_de_usuario" character varying, "picture" character varying)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230527233243)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230416162514),
(20230417001621),
(20230417002537),
(20230417212118),
(20230418020514),
(20230418024303),
(20230420193941),
(20230422212919),
(20230423201745),
(20230423203622),
(20230527232058);

[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-05-27 23:37:20.954040"], ["updated_at", "2023-05-27 23:37:20.954040"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "80aebc3597074a8308f5981e4bf2502042a0f868"], ["created_at", "2023-05-27 23:37:20.959189"], ["updated_at", "2023-05-27 23:37:20.959189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.176082"], ["updated_at", "2023-05-27 23:37:21.176082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.206885"], ["updated_at", "2023-05-27 23:37:21.206885"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (2.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-05-27 23:37:21.231308"], ["updated_at", "2023-05-27 23:37:21.231308"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/1/compras" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 2251)
  [1m[36mCompra Load (0.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 1]]
  Rendered componentes/_footer.html.erb (Duration: 3.3ms | Allocations: 768)
  Rendered compras/index.html.erb within layouts/application (Duration: 249.0ms | Allocations: 120888)
  Rendered layout layouts/application.html.erb (Duration: 262.5ms | Allocations: 123087)
Completed 200 OK in 274ms (Views: 265.4ms | ActiveRecord: 1.1ms | Allocations: 127553)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.577099"], ["updated_at", "2023-05-27 23:37:21.577099"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.591344"], ["updated_at", "2023-05-27 23:37:21.591344"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 2], ["estado", "E"], ["created_at", "2023-05-27 23:37:21.599145"], ["updated_at", "2023-05-27 23:37:21.599145"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/2/compras/2" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"2", "id"=>"2"}
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCompra Update (0.8ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-27 23:37:21.618480"], ["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/2/compras
Completed 302 Found in 8ms (ActiveRecord: 1.9ms | Allocations: 2468)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.623948"], ["updated_at", "2023-05-27 23:37:21.623948"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.627335"], ["updated_at", "2023-05-27 23:37:21.627335"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["libro_id", 3], ["estado", "E"], ["created_at", "2023-05-27 23:37:21.628715"], ["updated_at", "2023-05-27 23:37:21.628715"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/3/compras/3" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"3", "id"=>"3"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.7ms | Allocations: 1448)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered compras/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 3855)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 4238)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.4ms | Allocations: 4709)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.640872"], ["updated_at", "2023-05-27 23:37:21.640872"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.8ms | Allocations: 1522)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 662)
  Rendered users/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 4163)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 4574)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 5364)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 987)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 662)
  Rendered libros/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3139)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 3553)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 0.5ms | Allocations: 4598)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.662043"], ["updated_at", "2023-05-27 23:37:21.662043"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/4" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.8ms | Allocations: 1042)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered libros/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3599)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 3972)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.3ms | Allocations: 4587)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1006)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 715)
  Rendered libros/new.html.erb within layouts/application (Duration: 9.9ms | Allocations: 7543)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 7926)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 8256)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.685473"], ["updated_at", "2023-05-27 23:37:21.685473"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.689837"], ["updated_at", "2023-05-27 23:37:21.689837"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (2.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 5], ["user_id", 5], ["created_at", "2023-05-27 23:37:21.704752"], ["updated_at", "2023-05-27 23:37:21.704752"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/5/resenas/1" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"5", "id"=>"1"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 5], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1522)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 662)
  Rendered resenas/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 4249)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 4660)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 1.3ms | Allocations: 6166)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.722268"], ["updated_at", "2023-05-27 23:37:21.722268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.727118"], ["updated_at", "2023-05-27 23:37:21.727118"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 6], ["user_id", 6], ["created_at", "2023-05-27 23:37:21.729255"], ["updated_at", "2023-05-27 23:37:21.729255"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/6/resenas/2" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"6", "id"=>"2"}
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 6], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mResena Update (0.8ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-27 23:37:21.735612"], ["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/6/resenas
Completed 302 Found in 5ms (ActiveRecord: 1.9ms | Allocations: 1457)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.740773"], ["updated_at", "2023-05-27 23:37:21.740773"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.744845"], ["updated_at", "2023-05-27 23:37:21.744845"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 7], ["user_id", 7], ["created_at", "2023-05-27 23:37:21.746747"], ["updated_at", "2023-05-27 23:37:21.746747"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/7/resenas" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"7"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1432)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 7]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 661)
  Rendered resenas/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3702)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 4075)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.6ms | Allocations: 4552)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.758025"], ["updated_at", "2023-05-27 23:37:21.758025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.762422"], ["updated_at", "2023-05-27 23:37:21.762422"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 8], ["user_id", 8], ["created_at", "2023-05-27 23:37:21.764347"], ["updated_at", "2023-05-27 23:37:21.764347"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/8/resenas/new" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"8"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1432)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 715)
  Rendered resenas/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4441)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 4824)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.2ms | Allocations: 5443)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.776900"], ["updated_at", "2023-05-27 23:37:21.776900"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.780863"], ["updated_at", "2023-05-27 23:37:21.780863"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (2.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 9], ["libro_id", 9], ["created_at", "2023-05-27 23:37:21.794563"], ["updated_at", "2023-05-27 23:37:21.794563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/9/mensajes/1" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"9", "id"=>"1"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 9], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1527)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 662)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4228)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 4639)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.3ms | Allocations: 6124)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.811882"], ["updated_at", "2023-05-27 23:37:21.811882"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.816084"], ["updated_at", "2023-05-27 23:37:21.816084"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 10], ["libro_id", 10], ["created_at", "2023-05-27 23:37:21.818013"], ["updated_at", "2023-05-27 23:37:21.818013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/10/mensajes/2" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"10", "id"=>"2"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 10], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.9ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-27 23:37:21.824263"], ["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/10/mensajes
Completed 302 Found in 6ms (ActiveRecord: 1.7ms | Allocations: 1427)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.828779"], ["updated_at", "2023-05-27 23:37:21.828779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.832815"], ["updated_at", "2023-05-27 23:37:21.832815"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 11], ["libro_id", 11], ["created_at", "2023-05-27 23:37:21.834667"], ["updated_at", "2023-05-27 23:37:21.834667"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/11/mensajes" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"11"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1432)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 11]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3930)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 4303)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.9ms | Allocations: 4780)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.846095"], ["updated_at", "2023-05-27 23:37:21.846095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.849779"], ["updated_at", "2023-05-27 23:37:21.849779"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 12], ["libro_id", 12], ["created_at", "2023-05-27 23:37:21.851484"], ["updated_at", "2023-05-27 23:37:21.851484"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/12/mensajes/new" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"12"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1432)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3669)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 4042)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.3ms | Allocations: 4633)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:37:21.862540"], ["updated_at", "2023-05-27 23:37:21.862540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-05-27 19:37:21 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.8ms | Allocations: 1138)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 662)
  Rendered home/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3390)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 3804)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 4575)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:37:21.880060"], ["updated_at", "2023-05-27 23:37:21.880060"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (4.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.222901"], ["updated_at", "2023-05-27 23:52:23.222901"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 2671)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 768)
  Rendered users/show.html.erb within layouts/application (Duration: 36.1ms | Allocations: 36135)
  Rendered layout layouts/application.html.erb (Duration: 38.1ms | Allocations: 38356)
Completed 200 OK in 46ms (Views: 40.8ms | ActiveRecord: 0.0ms | Allocations: 42810)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.450942"], ["updated_at", "2023-05-27 23:52:23.450942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.456150"], ["updated_at", "2023-05-27 23:52:23.456150"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (2.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 15], ["libro_id", 14], ["created_at", "2023-05-27 23:52:23.464116"], ["updated_at", "2023-05-27 23:52:23.464116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/14/mensajes/5" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"14", "id"=>"5"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 14], ["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1522)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 666)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 15.5ms | Allocations: 4702)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 5113)
Completed 200 OK in 21ms (Views: 16.7ms | ActiveRecord: 1.3ms | Allocations: 7009)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.493568"], ["updated_at", "2023-05-27 23:52:23.493568"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.497957"], ["updated_at", "2023-05-27 23:52:23.497957"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 16], ["libro_id", 15], ["created_at", "2023-05-27 23:52:23.499997"], ["updated_at", "2023-05-27 23:52:23.499997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/15/mensajes/new" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"15"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1436)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 715)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 6030)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 6416)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.4ms | Allocations: 7079)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.515408"], ["updated_at", "2023-05-27 23:52:23.515408"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.519410"], ["updated_at", "2023-05-27 23:52:23.519410"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 17], ["libro_id", 16], ["created_at", "2023-05-27 23:52:23.520955"], ["updated_at", "2023-05-27 23:52:23.520955"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/16/mensajes/7" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"16", "id"=>"7"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 17], ["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.9ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-27 23:52:23.529904"], ["id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/16/mensajes
Completed 302 Found in 5ms (ActiveRecord: 1.5ms | Allocations: 1939)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.534361"], ["updated_at", "2023-05-27 23:52:23.534361"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.537931"], ["updated_at", "2023-05-27 23:52:23.537931"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 18], ["libro_id", 17], ["created_at", "2023-05-27 23:52:23.539760"], ["updated_at", "2023-05-27 23:52:23.539760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/17/mensajes" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"17"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1457)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 17]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4078)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 4461)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 1.0ms | Allocations: 4968)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.551526"], ["updated_at", "2023-05-27 23:52:23.551526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.555153"], ["updated_at", "2023-05-27 23:52:23.555153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.558931"], ["updated_at", "2023-05-27 23:52:23.558931"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 19], ["user_id", 19], ["created_at", "2023-05-27 23:52:23.573808"], ["updated_at", "2023-05-27 23:52:23.573808"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/19/resenas/5" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"19", "id"=>"5"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mResena Load (0.7ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 19], ["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1522)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 662)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4503)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 4914)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.3ms | Allocations: 6403)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.590375"], ["updated_at", "2023-05-27 23:52:23.590375"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.594565"], ["updated_at", "2023-05-27 23:52:23.594565"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 20], ["user_id", 20], ["created_at", "2023-05-27 23:52:23.596453"], ["updated_at", "2023-05-27 23:52:23.596453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/20/resenas/new" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"20"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1434)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 715)
  Rendered resenas/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 4215)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 4598)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.2ms | Allocations: 5261)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.606088"], ["updated_at", "2023-05-27 23:52:23.606088"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.610669"], ["updated_at", "2023-05-27 23:52:23.610669"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 21], ["user_id", 21], ["created_at", "2023-05-27 23:52:23.612733"], ["updated_at", "2023-05-27 23:52:23.612733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/21/resenas/7" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"21", "id"=>"7"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 21], ["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mResena Update (0.6ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-27 23:52:23.617774"], ["id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/21/resenas
Completed 302 Found in 4ms (ActiveRecord: 1.2ms | Allocations: 1485)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.621680"], ["updated_at", "2023-05-27 23:52:23.621680"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.625424"], ["updated_at", "2023-05-27 23:52:23.625424"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 22], ["user_id", 22], ["created_at", "2023-05-27 23:52:23.627680"], ["updated_at", "2023-05-27 23:52:23.627680"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/22/resenas" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"22"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.8ms | Allocations: 1457)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 22]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered resenas/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 3759)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 4133)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms | Allocations: 4627)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1217)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 662)
  Rendered home/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3974)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 4388)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 5160)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1137)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 662)
  Rendered libros/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 6746)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 7157)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 7956)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.660630"], ["updated_at", "2023-05-27 23:52:23.660630"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/23" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.8ms | Allocations: 1006)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered libros/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3749)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 4122)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms | Allocations: 4590)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.5ms | Allocations: 897)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered libros/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2812)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 3185)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.4ms | Allocations: 3615)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.675233"], ["updated_at", "2023-05-27 23:52:23.675233"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.679396"], ["updated_at", "2023-05-27 23:52:23.679396"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 23], ["libro_id", 24], ["estado", "E"], ["created_at", "2023-05-27 23:52:23.681226"], ["updated_at", "2023-05-27 23:52:23.681226"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/23/compras/4" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"23", "id"=>"4"}
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1522)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 662)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4737)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 5148)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 1.3ms | Allocations: 6343)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.696839"], ["updated_at", "2023-05-27 23:52:23.696839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.700443"], ["updated_at", "2023-05-27 23:52:23.700443"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 24], ["libro_id", 25], ["estado", "E"], ["created_at", "2023-05-27 23:52:23.702010"], ["updated_at", "2023-05-27 23:52:23.702010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/24/compras/5" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"24", "id"=>"5"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mCompra Update (0.8ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-27 23:52:23.706946"], ["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/24/compras
Completed 302 Found in 4ms (ActiveRecord: 1.8ms | Allocations: 1221)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-27 23:52:23.711706"], ["updated_at", "2023-05-27 23:52:23.711706"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.715319"], ["updated_at", "2023-05-27 23:52:23.715319"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 25], ["libro_id", 26], ["estado", "E"], ["created_at", "2023-05-27 23:52:23.716961"], ["updated_at", "2023-05-27 23:52:23.716961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/25/compras" for 127.0.0.1 at 2023-05-27 19:52:23 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"25"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.8ms | Allocations: 1422)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 25]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 661)
  Rendered compras/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 4058)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 4431)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms | Allocations: 4773)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-27 23:52:23.729782"], ["updated_at", "2023-05-27 23:52:23.729782"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.376599"], ["updated_at", "2023-05-28 00:05:52.376599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.464871"], ["updated_at", "2023-05-28 00:05:52.464871"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.490562"], ["updated_at", "2023-05-28 00:05:52.490562"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (2.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 27], ["libro_id", 28], ["estado", "E"], ["created_at", "2023-05-28 00:05:52.513241"], ["updated_at", "2023-05-28 00:05:52.513241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/27/compras/7" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"27", "id"=>"7"}
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mCompra Update (0.8ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-05-28 00:05:52.560697"], ["id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/27/compras
Completed 302 Found in 10ms (ActiveRecord: 2.4ms | Allocations: 4428)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.566740"], ["updated_at", "2023-05-28 00:05:52.566740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.570161"], ["updated_at", "2023-05-28 00:05:52.570161"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 28], ["libro_id", 29], ["estado", "E"], ["created_at", "2023-05-28 00:05:52.572495"], ["updated_at", "2023-05-28 00:05:52.572495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/28/compras/8" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"28", "id"=>"8"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 2602)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 771)
  Rendered compras/show.html.erb within layouts/application (Duration: 42.6ms | Allocations: 35850)
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 38061)
Completed 200 OK in 50ms (Views: 46.3ms | ActiveRecord: 1.2ms | Allocations: 41037)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.629673"], ["updated_at", "2023-05-28 00:05:52.629673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (6.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.635255"], ["updated_at", "2023-05-28 00:05:52.635255"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (9.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (4.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 29], ["libro_id", 30], ["estado", "E"], ["created_at", "2023-05-28 00:05:52.653106"], ["updated_at", "2023-05-28 00:05:52.653106"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/29/compras" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"29"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1427)
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 29]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 661)
  Rendered compras/index.html.erb within layouts/application (Duration: 76.3ms | Allocations: 4098)
  Rendered layout layouts/application.html.erb (Duration: 76.7ms | Allocations: 4472)
Completed 200 OK in 78ms (Views: 76.3ms | ActiveRecord: 0.8ms | Allocations: 4820)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.741076"], ["updated_at", "2023-05-28 00:05:52.741076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/31" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.0ms | Allocations: 1217)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 662)
  Rendered libros/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 4387)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4801)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.3ms | Allocations: 5977)
  [1m[36mTRANSACTION (27.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1006)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 715)
  Rendered libros/new.html.erb within layouts/application (Duration: 13.0ms | Allocations: 8283)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 8666)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms | Allocations: 9036)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.7ms | Allocations: 917)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 661)
  Rendered libros/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2892)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 3266)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms | Allocations: 3802)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.816459"], ["updated_at", "2023-05-28 00:05:52.816459"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1522)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 662)
  Rendered users/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 4413)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 4824)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 5613)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.853596"], ["updated_at", "2023-05-28 00:05:52.853596"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.8ms | Allocations: 1138)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 662)
  Rendered home/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 3895)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 4309)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms | Allocations: 5080)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.867255"], ["updated_at", "2023-05-28 00:05:52.867255"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.871614"], ["updated_at", "2023-05-28 00:05:52.871614"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 32], ["libro_id", 32], ["created_at", "2023-05-28 00:05:52.874565"], ["updated_at", "2023-05-28 00:05:52.874565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/32/mensajes/9" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"32", "id"=>"9"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 32], ["id", 9], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1522)
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 662)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4504)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 4915)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 1.7ms | Allocations: 6415)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.890547"], ["updated_at", "2023-05-28 00:05:52.890547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.894150"], ["updated_at", "2023-05-28 00:05:52.894150"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 33], ["libro_id", 33], ["created_at", "2023-05-28 00:05:52.895852"], ["updated_at", "2023-05-28 00:05:52.895852"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/33/mensajes/10" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"33", "id"=>"10"}
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 33], ["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.5ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-05-28 00:05:52.901465"], ["id", 10]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/33/mensajes
Completed 302 Found in 4ms (ActiveRecord: 1.3ms | Allocations: 1427)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.906026"], ["updated_at", "2023-05-28 00:05:52.906026"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.910008"], ["updated_at", "2023-05-28 00:05:52.910008"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 34], ["libro_id", 34], ["created_at", "2023-05-28 00:05:52.911673"], ["updated_at", "2023-05-28 00:05:52.911673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/34/mensajes/new" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"34"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1432)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 715)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 4169)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 4552)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms | Allocations: 5205)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.922725"], ["updated_at", "2023-05-28 00:05:52.922725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.926932"], ["updated_at", "2023-05-28 00:05:52.926932"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 35], ["libro_id", 35], ["created_at", "2023-05-28 00:05:52.928707"], ["updated_at", "2023-05-28 00:05:52.928707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/35/mensajes" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"35"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1457)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 35]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 662)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 4377)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 1.1ms | Allocations: 4894)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.940020"], ["updated_at", "2023-05-28 00:05:52.940020"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.944100"], ["updated_at", "2023-05-28 00:05:52.944100"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 36], ["user_id", 36], ["created_at", "2023-05-28 00:05:52.956487"], ["updated_at", "2023-05-28 00:05:52.956487"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/36/resenas/9" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"36", "id"=>"9"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mResena Load (0.7ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 36], ["id", 9], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1522)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 662)
  Rendered resenas/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4501)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 4912)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 1.1ms | Allocations: 6401)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.972026"], ["updated_at", "2023-05-28 00:05:52.972026"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.975879"], ["updated_at", "2023-05-28 00:05:52.975879"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 37], ["user_id", 37], ["created_at", "2023-05-28 00:05:52.977636"], ["updated_at", "2023-05-28 00:05:52.977636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/37/resenas/10" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"37", "id"=>"10"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 37], ["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mResena Update (0.8ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-05-28 00:05:52.982584"], ["id", 10]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/37/resenas
Completed 302 Found in 4ms (ActiveRecord: 1.5ms | Allocations: 1457)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:52.986988"], ["updated_at", "2023-05-28 00:05:52.986988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:52.991255"], ["updated_at", "2023-05-28 00:05:52.991255"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 38], ["user_id", 38], ["created_at", "2023-05-28 00:05:52.993153"], ["updated_at", "2023-05-28 00:05:52.993153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/38/resenas/new" for 127.0.0.1 at 2023-05-27 20:05:52 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"38"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1432)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered resenas/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 3938)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 4311)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms | Allocations: 4938)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-05-28 00:05:53.002180"], ["updated_at", "2023-05-28 00:05:53.002180"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-28 00:05:53.006844"], ["updated_at", "2023-05-28 00:05:53.006844"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 39], ["user_id", 39], ["created_at", "2023-05-28 00:05:53.008821"], ["updated_at", "2023-05-28 00:05:53.008821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/39/resenas" for 127.0.0.1 at 2023-05-27 20:05:53 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"39"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.8ms | Allocations: 1432)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 39]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 661)
  Rendered resenas/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 3697)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 4070)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms | Allocations: 4512)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (85.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (297.5ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "compras" CASCADE[0m
  [1m[35m (27.7ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "libros" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" character varying, "stock" character varying, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "picture" character varying)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "mensajes" CASCADE[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "resenas" CASCADE[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "nombre" character varying, "telefono" character varying, "descripcion" character varying, "tipo_de_usuario" character varying, "picture" character varying)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (7.2ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230528030927)[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230416162514),
(20230417001621),
(20230417002537),
(20230417212118),
(20230418020514),
(20230418024303),
(20230420193941),
(20230422212919),
(20230423201745),
(20230423203622),
(20230527232058),
(20230527233243);

[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (5.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-06-13 14:24:53.833740"], ["updated_at", "2023-06-13 14:24:53.833740"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "e1e86c7887e4cee3b2fa22664c9853241cfea799"], ["created_at", "2023-06-13 14:24:53.850674"], ["updated_at", "2023-06-13 14:24:53.850674"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.1ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:54.419054"], ["updated_at", "2023-06-13 14:24:54.419054"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:54.468268"], ["updated_at", "2023-06-13 14:24:54.468268"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (2.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 1], ["libro_id", 1], ["created_at", "2023-06-13 14:24:54.515869"], ["updated_at", "2023-06-13 14:24:54.515869"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/1/mensajes/1" for 127.0.0.1 at 2023-06-13 10:24:54 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"1", "id"=>"1"}
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.6ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 14:24:54.663233"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/1/mensajes
Completed 302 Found in 23ms (ActiveRecord: 2.1ms | Allocations: 4173)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:54.680385"], ["updated_at", "2023-06-13 14:24:54.680385"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:54.688506"], ["updated_at", "2023-06-13 14:24:54.688506"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 2], ["libro_id", 2], ["created_at", "2023-06-13 14:24:54.692754"], ["updated_at", "2023-06-13 14:24:54.692754"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/2/mensajes" for 127.0.0.1 at 2023-06-13 10:24:54 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"2"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.8ms | Allocations: 1906)
  [1m[36mMensaje Load (1.0ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.9ms | Allocations: 560)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 988.9ms | Allocations: 126339)
  Rendered layout layouts/application.html.erb (Duration: 994.5ms | Allocations: 128431)
Completed 200 OK in 1053ms (Views: 1013.1ms | ActiveRecord: 1.8ms | Allocations: 131644)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:55.778231"], ["updated_at", "2023-06-13 14:24:55.778231"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:55.785886"], ["updated_at", "2023-06-13 14:24:55.785886"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 3], ["libro_id", 3], ["created_at", "2023-06-13 14:24:55.790401"], ["updated_at", "2023-06-13 14:24:55.790401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/3/mensajes/3" for 127.0.0.1 at 2023-06-13 10:24:55 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"3", "id"=>"3"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 3], ["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1091)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2889)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 3263)
Completed 200 OK in 16ms (Views: 10.8ms | ActiveRecord: 1.0ms | Allocations: 4064)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:55.816856"], ["updated_at", "2023-06-13 14:24:55.816856"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:55.832096"], ["updated_at", "2023-06-13 14:24:55.832096"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 4], ["libro_id", 4], ["created_at", "2023-06-13 14:24:55.836468"], ["updated_at", "2023-06-13 14:24:55.836468"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/4/mensajes/new" for 127.0.0.1 at 2023-06-13 10:24:55 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"4"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1105)
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 507)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 52.9ms | Allocations: 7426)
  Rendered layout layouts/application.html.erb (Duration: 54.1ms | Allocations: 7812)
Completed 200 OK in 58ms (Views: 54.9ms | ActiveRecord: 0.3ms | Allocations: 8434)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (60.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (12.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (4.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.020157"], ["updated_at", "2023-06-13 14:24:56.020157"], ["picture", nil]]
  [1m[36mTRANSACTION (10.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.042982"], ["updated_at", "2023-06-13 14:24:56.042982"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.052664"], ["updated_at", "2023-06-13 14:24:56.052664"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 5], ["libro_id", 6], ["estado", "E"], ["created_at", "2023-06-13 14:24:56.074750"], ["updated_at", "2023-06-13 14:24:56.074750"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/5/compras/1" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"5", "id"=>"1"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 14:24:56.092754"], ["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/5/compras
Completed 302 Found in 10ms (ActiveRecord: 1.6ms | Allocations: 2018)
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.103593"], ["updated_at", "2023-06-13 14:24:56.103593"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.110726"], ["updated_at", "2023-06-13 14:24:56.110726"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 6], ["libro_id", 7], ["estado", "E"], ["created_at", "2023-06-13 14:24:56.115648"], ["updated_at", "2023-06-13 14:24:56.115648"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/6/compras" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"6"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1181)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 6]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 455)
  Rendered compras/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 3748)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 4159)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.3ms | Allocations: 4899)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.139697"], ["updated_at", "2023-06-13 14:24:56.139697"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.146327"], ["updated_at", "2023-06-13 14:24:56.146327"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 7], ["libro_id", 8], ["estado", "E"], ["created_at", "2023-06-13 14:24:56.150542"], ["updated_at", "2023-06-13 14:24:56.150542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/7/compras/3" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"7", "id"=>"3"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1091)
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.3ms | Allocations: 453)
  Rendered compras/show.html.erb within layouts/application (Duration: 12.8ms | Allocations: 2968)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 3341)
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 1.5ms | Allocations: 3798)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.3ms | Allocations: 1034)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 454)
  Rendered home/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 2738)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 3152)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 0.0ms | Allocations: 3924)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.207388"], ["updated_at", "2023-06-13 14:24:56.207388"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/9" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.3ms | Allocations: 954)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 454)
  Rendered libros/show.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3153)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 3567)
Completed 200 OK in 19ms (Views: 15.9ms | ActiveRecord: 0.3ms | Allocations: 4547)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2877)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 2926)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 3409)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 896)
  Rendered componentes/_footer.html.erb (Duration: 2.5ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 35.8ms | Allocations: 13791)
  Rendered layout layouts/application.html.erb (Duration: 37.4ms | Allocations: 14178)
Completed 200 OK in 40ms (Views: 38.2ms | ActiveRecord: 0.0ms | Allocations: 14577)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.316580"], ["updated_at", "2023-06-13 14:24:56.316580"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.326715"], ["updated_at", "2023-06-13 14:24:56.326715"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 1.6ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3268)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 3679)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 4466)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.359034"], ["updated_at", "2023-06-13 14:24:56.359034"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.366789"], ["updated_at", "2023-06-13 14:24:56.366789"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 10], ["user_id", 10], ["created_at", "2023-06-13 14:24:56.372303"], ["updated_at", "2023-06-13 14:24:56.372303"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/10/resenas/1" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"10", "id"=>"1"}
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 10], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mResena Update (0.7ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 14:24:56.390578"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/10/resenas
Completed 302 Found in 11ms (ActiveRecord: 1.7ms | Allocations: 1851)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.401586"], ["updated_at", "2023-06-13 14:24:56.401586"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.408979"], ["updated_at", "2023-06-13 14:24:56.408979"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 11], ["user_id", 11], ["created_at", "2023-06-13 14:24:56.413241"], ["updated_at", "2023-06-13 14:24:56.413241"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/11/resenas" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"11"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 1202)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 11]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 454)
  Rendered resenas/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 3395)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 3806)
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 0.7ms | Allocations: 4683)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.441553"], ["updated_at", "2023-06-13 14:24:56.441553"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.449783"], ["updated_at", "2023-06-13 14:24:56.449783"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 12], ["user_id", 12], ["created_at", "2023-06-13 14:24:56.453728"], ["updated_at", "2023-06-13 14:24:56.453728"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/12/resenas/3" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"12", "id"=>"3"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 12], ["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.1ms | Allocations: 1091)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered resenas/show.html.erb within layouts/application (Duration: 26.9ms | Allocations: 3044)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 3417)
Completed 200 OK in 45ms (Views: 32.8ms | ActiveRecord: 1.1ms | Allocations: 4222)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:24:56.526657"], ["updated_at", "2023-06-13 14:24:56.526657"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:24:56.537583"], ["updated_at", "2023-06-13 14:24:56.537583"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 13], ["user_id", 13], ["created_at", "2023-06-13 14:24:56.547525"], ["updated_at", "2023-06-13 14:24:56.547525"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/13/resenas/new" for 127.0.0.1 at 2023-06-13 10:24:56 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"13"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 16.5ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 5.4ms | Allocations: 453)
  Rendered resenas/new.html.erb within layouts/application (Duration: 43.9ms | Allocations: 3191)
  Rendered layout layouts/application.html.erb (Duration: 49.5ms | Allocations: 3564)
Completed 200 OK in 58ms (Views: 50.2ms | ActiveRecord: 0.4ms | Allocations: 4158)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:05.351492"], ["updated_at", "2023-06-13 14:33:05.351492"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/14" for 127.0.0.1 at 2023-06-13 10:33:05 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 11.6ms | Allocations: 1941)
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 560)
  Rendered libros/show.html.erb within layouts/application (Duration: 170.6ms | Allocations: 34450)
  Rendered layout layouts/application.html.erb (Duration: 175.5ms | Allocations: 36574)
Completed 200 OK in 262ms (Views: 205.3ms | ActiveRecord: 0.8ms | Allocations: 41731)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 10:33:05 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 896)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 51.5ms | Allocations: 15747)
  Rendered layout layouts/application.html.erb (Duration: 52.4ms | Allocations: 16134)
Completed 200 OK in 55ms (Views: 53.1ms | ActiveRecord: 0.0ms | Allocations: 16540)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-06-13 10:33:05 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 2914)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 2964)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 3515)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:05.849092"], ["updated_at", "2023-06-13 14:33:05.849092"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:05.887423"], ["updated_at", "2023-06-13 14:33:05.887423"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:05.927942"], ["updated_at", "2023-06-13 14:33:05.927942"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.1ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 14], ["libro_id", 16], ["estado", "E"], ["created_at", "2023-06-13 14:33:05.960060"], ["updated_at", "2023-06-13 14:33:05.960060"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/14/compras/4" for 127.0.0.1 at 2023-06-13 10:33:05 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"14", "id"=>"4"}
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mCompra Update (0.6ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 14:33:05.987373"], ["id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/14/compras
Completed 302 Found in 13ms (ActiveRecord: 2.3ms | Allocations: 2401)
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:05.999734"], ["updated_at", "2023-06-13 14:33:05.999734"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.007269"], ["updated_at", "2023-06-13 14:33:06.007269"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 15], ["libro_id", 17], ["estado", "E"], ["created_at", "2023-06-13 14:33:06.011663"], ["updated_at", "2023-06-13 14:33:06.011663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/15/compras/5" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"15", "id"=>"5"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.8ms | Allocations: 1384)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 454)
  Rendered compras/show.html.erb within layouts/application (Duration: 15.7ms | Allocations: 3868)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 4279)
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 1.0ms | Allocations: 5117)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.042150"], ["updated_at", "2023-06-13 14:33:06.042150"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.049872"], ["updated_at", "2023-06-13 14:33:06.049872"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 16], ["libro_id", 18], ["estado", "E"], ["created_at", "2023-06-13 14:33:06.054250"], ["updated_at", "2023-06-13 14:33:06.054250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/16/compras" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"16"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1090)
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 16]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3345)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3718)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.4ms | Allocations: 4069)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.079321"], ["updated_at", "2023-06-13 14:33:06.079321"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3567)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3978)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.0ms | Allocations: 4766)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.106116"], ["updated_at", "2023-06-13 14:33:06.106116"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.113430"], ["updated_at", "2023-06-13 14:33:06.113430"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 19], ["user_id", 18], ["created_at", "2023-06-13 14:33:06.119709"], ["updated_at", "2023-06-13 14:33:06.119709"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/19/resenas/5" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"19", "id"=>"5"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 19], ["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1190)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered resenas/show.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3808)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 4219)
Completed 200 OK in 23ms (Views: 16.7ms | ActiveRecord: 1.4ms | Allocations: 5725)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.159119"], ["updated_at", "2023-06-13 14:33:06.159119"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.166584"], ["updated_at", "2023-06-13 14:33:06.166584"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 20], ["user_id", 19], ["created_at", "2023-06-13 14:33:06.171070"], ["updated_at", "2023-06-13 14:33:06.171070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/20/resenas/new" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"20"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 507)
  Rendered resenas/new.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3694)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 4077)
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 0.4ms | Allocations: 4742)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.198143"], ["updated_at", "2023-06-13 14:33:06.198143"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.205390"], ["updated_at", "2023-06-13 14:33:06.205390"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 21], ["user_id", 20], ["created_at", "2023-06-13 14:33:06.209254"], ["updated_at", "2023-06-13 14:33:06.209254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/21/resenas" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"21"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1121)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 21]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 453)
  Rendered resenas/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3032)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3406)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.6ms | Allocations: 3925)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.231655"], ["updated_at", "2023-06-13 14:33:06.231655"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.239063"], ["updated_at", "2023-06-13 14:33:06.239063"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.1ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 22], ["user_id", 21], ["created_at", "2023-06-13 14:33:06.243030"], ["updated_at", "2023-06-13 14:33:06.243030"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/22/resenas/8" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"22", "id"=>"8"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 21], ["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mResena Update (0.7ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 14:33:06.259201"], ["id", 8]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/22/resenas
Completed 302 Found in 11ms (ActiveRecord: 1.8ms | Allocations: 1448)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 955)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 454)
  Rendered home/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3124)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 3538)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 4308)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.319606"], ["updated_at", "2023-06-13 14:33:06.319606"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.327491"], ["updated_at", "2023-06-13 14:33:06.327491"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 22], ["libro_id", 23], ["created_at", "2023-06-13 14:33:06.332447"], ["updated_at", "2023-06-13 14:33:06.332447"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/23/mensajes/5" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"23", "id"=>"5"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.7ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 23], ["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 1190)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 13.1ms | Allocations: 3789)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 4200)
Completed 200 OK in 22ms (Views: 16.2ms | ActiveRecord: 1.4ms | Allocations: 5684)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.369612"], ["updated_at", "2023-06-13 14:33:06.369612"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.379812"], ["updated_at", "2023-06-13 14:33:06.379812"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 23], ["libro_id", 24], ["created_at", "2023-06-13 14:33:06.384894"], ["updated_at", "2023-06-13 14:33:06.384894"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/24/mensajes/new" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"24"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 453)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3296)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.3ms | Allocations: 3934)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.408766"], ["updated_at", "2023-06-13 14:33:06.408766"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.416919"], ["updated_at", "2023-06-13 14:33:06.416919"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 24], ["libro_id", 25], ["created_at", "2023-06-13 14:33:06.422336"], ["updated_at", "2023-06-13 14:33:06.422336"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/25/mensajes" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"25"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1100)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 25]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 453)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3198)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 3571)
Completed 200 OK in 16ms (Views: 12.7ms | ActiveRecord: 1.1ms | Allocations: 4015)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:33:06.448492"], ["updated_at", "2023-06-13 14:33:06.448492"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.456983"], ["updated_at", "2023-06-13 14:33:06.456983"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 25], ["libro_id", 26], ["created_at", "2023-06-13 14:33:06.460909"], ["updated_at", "2023-06-13 14:33:06.460909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/26/mensajes/8" for 127.0.0.1 at 2023-06-13 10:33:06 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"26", "id"=>"8"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 25], ["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.6ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 14:33:06.472597"], ["id", 8]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/26/mensajes
Completed 302 Found in 9ms (ActiveRecord: 1.4ms | Allocations: 1418)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:33:06.490233"], ["updated_at", "2023-06-13 14:33:06.490233"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.046464"], ["updated_at", "2023-06-13 14:36:27.046464"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:27.088183"], ["updated_at", "2023-06-13 14:36:27.088183"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 27], ["libro_id", 27], ["estado", "E"], ["created_at", "2023-06-13 14:36:27.134532"], ["updated_at", "2023-06-13 14:36:27.134532"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/27/compras/7" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"27", "id"=>"7"}
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.6ms | Allocations: 2298)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 132.6ms | Allocations: 35163)
  Rendered layout layouts/application.html.erb (Duration: 137.4ms | Allocations: 37281)
Completed 200 OK in 168ms (Views: 147.6ms | ActiveRecord: 1.7ms | Allocations: 42336)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.569710"], ["updated_at", "2023-06-13 14:36:27.569710"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:27.577695"], ["updated_at", "2023-06-13 14:36:27.577695"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 28], ["libro_id", 28], ["estado", "E"], ["created_at", "2023-06-13 14:36:27.581666"], ["updated_at", "2023-06-13 14:36:27.581666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/28/compras/8" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"28", "id"=>"8"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 14:36:27.600688"], ["id", 8]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/28/compras
Completed 302 Found in 9ms (ActiveRecord: 1.7ms | Allocations: 1676)
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.610553"], ["updated_at", "2023-06-13 14:36:27.610553"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:27.618021"], ["updated_at", "2023-06-13 14:36:27.618021"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 29], ["libro_id", 29], ["estado", "E"], ["created_at", "2023-06-13 14:36:27.621779"], ["updated_at", "2023-06-13 14:36:27.621779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/29/compras" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"29"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1110)
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 29]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3460)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 3843)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.4ms | Allocations: 4218)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.5ms | Allocations: 1034)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered home/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3204)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 3618)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.0ms | Allocations: 4390)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 954)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 508)
  Rendered libros/new.html.erb within layouts/application (Duration: 44.9ms | Allocations: 16107)
  Rendered layout layouts/application.html.erb (Duration: 45.9ms | Allocations: 16521)
Completed 200 OK in 49ms (Views: 48.1ms | ActiveRecord: 0.0ms | Allocations: 17324)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.732226"], ["updated_at", "2023-06-13 14:36:27.732226"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/30" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 886)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 453)
  Rendered libros/show.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3165)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 3539)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.3ms | Allocations: 4219)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2874)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2923)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 3367)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.798162"], ["updated_at", "2023-06-13 14:36:27.798162"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:27.805447"], ["updated_at", "2023-06-13 14:36:27.805447"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 30], ["libro_id", 31], ["created_at", "2023-06-13 14:36:27.810086"], ["updated_at", "2023-06-13 14:36:27.810086"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/31/mensajes/new" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"31"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 508)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 11.8ms | Allocations: 3993)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 4403)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 0.3ms | Allocations: 5627)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.842078"], ["updated_at", "2023-06-13 14:36:27.842078"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:27.849047"], ["updated_at", "2023-06-13 14:36:27.849047"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 31], ["libro_id", 32], ["created_at", "2023-06-13 14:36:27.852628"], ["updated_at", "2023-06-13 14:36:27.852628"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/32/mensajes/10" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"32", "id"=>"10"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 32], ["id", 10], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1110)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 453)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3107)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3481)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 1.1ms | Allocations: 4418)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.875880"], ["updated_at", "2023-06-13 14:36:27.875880"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:27.882932"], ["updated_at", "2023-06-13 14:36:27.882932"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 32], ["libro_id", 33], ["created_at", "2023-06-13 14:36:27.886959"], ["updated_at", "2023-06-13 14:36:27.886959"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/33/mensajes/11" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"33", "id"=>"11"}
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 32], ["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.6ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 14:36:27.902690"], ["id", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/33/mensajes
Completed 302 Found in 13ms (ActiveRecord: 2.0ms | Allocations: 1415)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.911847"], ["updated_at", "2023-06-13 14:36:27.911847"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:27.918453"], ["updated_at", "2023-06-13 14:36:27.918453"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 33], ["libro_id", 34], ["created_at", "2023-06-13 14:36:27.921970"], ["updated_at", "2023-06-13 14:36:27.921970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/34/mensajes" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"34"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 1100)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 34]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 453)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 3205)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 3578)
Completed 200 OK in 15ms (Views: 12.6ms | ActiveRecord: 0.8ms | Allocations: 4022)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.968005"], ["updated_at", "2023-06-13 14:36:27.968005"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:27.976166"], ["updated_at", "2023-06-13 14:36:27.976166"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:27.983542"], ["updated_at", "2023-06-13 14:36:27.983542"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 36], ["user_id", 34], ["created_at", "2023-06-13 14:36:27.987974"], ["updated_at", "2023-06-13 14:36:27.987974"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/36/resenas/new" for 127.0.0.1 at 2023-06-13 10:36:27 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"36"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered resenas/new.html.erb within layouts/application (Duration: 10.0ms | Allocations: 3777)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 4187)
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 0.4ms | Allocations: 5409)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:28.019799"], ["updated_at", "2023-06-13 14:36:28.019799"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:28.030997"], ["updated_at", "2023-06-13 14:36:28.030997"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 37], ["user_id", 35], ["created_at", "2023-06-13 14:36:28.036949"], ["updated_at", "2023-06-13 14:36:28.036949"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/37/resenas/10" for 127.0.0.1 at 2023-06-13 10:36:28 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"37", "id"=>"10"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 37], ["id", 10], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1091)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered resenas/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3060)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 3433)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 1.1ms | Allocations: 4332)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:28.061217"], ["updated_at", "2023-06-13 14:36:28.061217"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:28.068254"], ["updated_at", "2023-06-13 14:36:28.068254"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 38], ["user_id", 36], ["created_at", "2023-06-13 14:36:28.072319"], ["updated_at", "2023-06-13 14:36:28.072319"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/38/resenas/11" for 127.0.0.1 at 2023-06-13 10:36:28 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"38", "id"=>"11"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 36], ["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mResena Update (0.5ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 14:36:28.083195"], ["id", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/38/resenas
Completed 302 Found in 9ms (ActiveRecord: 1.3ms | Allocations: 1445)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:36:28.091653"], ["updated_at", "2023-06-13 14:36:28.091653"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:28.098813"], ["updated_at", "2023-06-13 14:36:28.098813"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 39], ["user_id", 37], ["created_at", "2023-06-13 14:36:28.102595"], ["updated_at", "2023-06-13 14:36:28.102595"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/39/resenas" for 127.0.0.1 at 2023-06-13 10:36:28 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"39"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1100)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 39]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered resenas/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2965)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 3338)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.6ms | Allocations: 3782)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:28.128308"], ["updated_at", "2023-06-13 14:36:28.128308"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:36:28.139323"], ["updated_at", "2023-06-13 14:36:28.139323"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 10:36:28 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3567)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3978)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 4765)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:04.282197"], ["updated_at", "2023-06-13 14:37:04.282197"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:04.319545"], ["updated_at", "2023-06-13 14:37:04.319545"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 40], ["libro_id", 40], ["created_at", "2023-06-13 14:37:04.361151"], ["updated_at", "2023-06-13 14:37:04.361151"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/40/mensajes/13" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"40", "id"=>"13"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 40], ["id", 13], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.7ms | Allocations: 2295)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 560)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 99.5ms | Allocations: 34829)
  Rendered layout layouts/application.html.erb (Duration: 103.1ms | Allocations: 36947)
Completed 200 OK in 129ms (Views: 110.9ms | ActiveRecord: 1.4ms | Allocations: 42562)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:04.730695"], ["updated_at", "2023-06-13 14:37:04.730695"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:04.737933"], ["updated_at", "2023-06-13 14:37:04.737933"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 41], ["libro_id", 41], ["created_at", "2023-06-13 14:37:04.741446"], ["updated_at", "2023-06-13 14:37:04.741446"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/41/mensajes/14" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"41", "id"=>"14"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 41], ["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.5ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 14:37:04.758430"], ["id", 14]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/41/mensajes
Completed 302 Found in 9ms (ActiveRecord: 1.4ms | Allocations: 1940)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:04.767598"], ["updated_at", "2023-06-13 14:37:04.767598"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:04.774830"], ["updated_at", "2023-06-13 14:37:04.774830"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 42], ["libro_id", 42], ["created_at", "2023-06-13 14:37:04.782450"], ["updated_at", "2023-06-13 14:37:04.782450"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/42/mensajes" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"42"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1125)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 42]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3349)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 3732)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 1.0ms | Allocations: 4242)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:04.806473"], ["updated_at", "2023-06-13 14:37:04.806473"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:04.813224"], ["updated_at", "2023-06-13 14:37:04.813224"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 43], ["libro_id", 43], ["created_at", "2023-06-13 14:37:04.817578"], ["updated_at", "2023-06-13 14:37:04.817578"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/43/mensajes/new" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"43"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 507)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 5278)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 5664)
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 0.3ms | Allocations: 6285)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:04.851996"], ["updated_at", "2023-06-13 14:37:04.851996"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3569)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3980)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms | Allocations: 4767)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:04.879432"], ["updated_at", "2023-06-13 14:37:04.879432"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:04.886674"], ["updated_at", "2023-06-13 14:37:04.886674"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/45" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"45"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.0ms | Allocations: 1034)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered libros/show.html.erb within layouts/application (Duration: 10.8ms | Allocations: 3701)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 4115)
Completed 200 OK in 17ms (Views: 14.2ms | ActiveRecord: 0.3ms | Allocations: 5095)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2876)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2925)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3409)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 896)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 29.1ms | Allocations: 13792)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 14179)
Completed 200 OK in 33ms (Views: 31.0ms | ActiveRecord: 0.0ms | Allocations: 14578)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 10:37:04 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 955)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 454)
  Rendered home/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3124)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3538)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 4308)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:05.015028"], ["updated_at", "2023-06-13 14:37:05.015028"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:05.020989"], ["updated_at", "2023-06-13 14:37:05.020989"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:05.027879"], ["updated_at", "2023-06-13 14:37:05.027879"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 46], ["user_id", 46], ["created_at", "2023-06-13 14:37:05.049884"], ["updated_at", "2023-06-13 14:37:05.049884"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/46/resenas/13" for 127.0.0.1 at 2023-06-13 10:37:05 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"46", "id"=>"13"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 46], ["id", 13], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1190)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered resenas/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 3802)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 4213)
Completed 200 OK in 18ms (Views: 13.0ms | ActiveRecord: 1.2ms | Allocations: 5703)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:05.081833"], ["updated_at", "2023-06-13 14:37:05.081833"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:05.088619"], ["updated_at", "2023-06-13 14:37:05.088619"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 47], ["user_id", 47], ["created_at", "2023-06-13 14:37:05.092434"], ["updated_at", "2023-06-13 14:37:05.092434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/47/resenas/14" for 127.0.0.1 at 2023-06-13 10:37:05 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"47", "id"=>"14"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 47], ["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mResena Update (0.5ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 14:37:05.103295"], ["id", 14]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/47/resenas
Completed 302 Found in 8ms (ActiveRecord: 1.3ms | Allocations: 1459)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:05.111438"], ["updated_at", "2023-06-13 14:37:05.111438"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:05.118810"], ["updated_at", "2023-06-13 14:37:05.118810"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 48], ["user_id", 48], ["created_at", "2023-06-13 14:37:05.123025"], ["updated_at", "2023-06-13 14:37:05.123025"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/48/resenas" for 127.0.0.1 at 2023-06-13 10:37:05 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"48"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1100)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 48]]
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 453)
  Rendered resenas/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2966)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3339)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.7ms | Allocations: 3818)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:05.145015"], ["updated_at", "2023-06-13 14:37:05.145015"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:05.151785"], ["updated_at", "2023-06-13 14:37:05.151785"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 49], ["user_id", 49], ["created_at", "2023-06-13 14:37:05.155711"], ["updated_at", "2023-06-13 14:37:05.155711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/49/resenas/new" for 127.0.0.1 at 2023-06-13 10:37:05 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"49"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 453)
  Rendered resenas/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3192)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3565)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.2ms | Allocations: 4159)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:05.175853"], ["updated_at", "2023-06-13 14:37:05.175853"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:05.183111"], ["updated_at", "2023-06-13 14:37:05.183111"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 50], ["libro_id", 50], ["estado", "E"], ["created_at", "2023-06-13 14:37:05.187572"], ["updated_at", "2023-06-13 14:37:05.187572"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/50/compras/10" for 127.0.0.1 at 2023-06-13 10:37:05 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"50", "id"=>"10"}
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 14:37:05.203551"], ["id", 10]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/50/compras
Completed 302 Found in 10ms (ActiveRecord: 1.8ms | Allocations: 2012)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:05.212186"], ["updated_at", "2023-06-13 14:37:05.212186"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:05.218905"], ["updated_at", "2023-06-13 14:37:05.218905"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 51], ["libro_id", 51], ["estado", "E"], ["created_at", "2023-06-13 14:37:05.222650"], ["updated_at", "2023-06-13 14:37:05.222650"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/51/compras" for 127.0.0.1 at 2023-06-13 10:37:05 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"51"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1181)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 51]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered compras/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 4046)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 4457)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.3ms | Allocations: 5197)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:05.246307"], ["updated_at", "2023-06-13 14:37:05.246307"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:05.254080"], ["updated_at", "2023-06-13 14:37:05.254080"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 52], ["libro_id", 52], ["estado", "E"], ["created_at", "2023-06-13 14:37:05.258099"], ["updated_at", "2023-06-13 14:37:05.258099"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/52/compras/12" for 127.0.0.1 at 2023-06-13 10:37:05 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"52", "id"=>"12"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1091)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 2968)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3341)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.9ms | Allocations: 3798)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 10:37:22 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 12.6ms | Allocations: 1963)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 561)
  Rendered home/index.html.erb within layouts/application (Duration: 241.3ms | Allocations: 33900)
  Rendered layout layouts/application.html.erb (Duration: 246.0ms | Allocations: 36026)
Completed 200 OK in 270ms (Views: 253.1ms | ActiveRecord: 0.0ms | Allocations: 40460)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.127636"], ["updated_at", "2023-06-13 14:37:23.127636"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.167979"], ["updated_at", "2023-06-13 14:37:23.167979"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 53], ["libro_id", 53], ["created_at", "2023-06-13 14:37:23.209646"], ["updated_at", "2023-06-13 14:37:23.209646"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/53/mensajes" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"53"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.3ms | Allocations: 1505)
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 53]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 454)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 4668)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 5079)
Completed 200 OK in 22ms (Views: 16.0ms | ActiveRecord: 1.5ms | Allocations: 6512)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.246552"], ["updated_at", "2023-06-13 14:37:23.246552"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.253331"], ["updated_at", "2023-06-13 14:37:23.253331"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 54], ["libro_id", 54], ["created_at", "2023-06-13 14:37:23.256827"], ["updated_at", "2023-06-13 14:37:23.256827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/54/mensajes/18" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"54", "id"=>"18"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 54], ["id", 18], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.5ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 14:37:23.273846"], ["id", 18]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/54/mensajes
Completed 302 Found in 10ms (ActiveRecord: 1.4ms | Allocations: 2021)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.284157"], ["updated_at", "2023-06-13 14:37:23.284157"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.291393"], ["updated_at", "2023-06-13 14:37:23.291393"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 55], ["libro_id", 55], ["created_at", "2023-06-13 14:37:23.295058"], ["updated_at", "2023-06-13 14:37:23.295058"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/55/mensajes/19" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"55", "id"=>"19"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 55], ["id", 19], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1116)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 453)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3014)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3397)
Completed 200 OK in 15ms (Views: 9.1ms | ActiveRecord: 1.0ms | Allocations: 4219)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.320921"], ["updated_at", "2023-06-13 14:37:23.320921"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.327781"], ["updated_at", "2023-06-13 14:37:23.327781"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 56], ["libro_id", 56], ["created_at", "2023-06-13 14:37:23.331526"], ["updated_at", "2023-06-13 14:37:23.331526"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/56/mensajes/new" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"56"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 508)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 16.5ms | Allocations: 5278)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 5664)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.4ms | Allocations: 6284)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.390885"], ["updated_at", "2023-06-13 14:37:23.390885"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.399912"], ["updated_at", "2023-06-13 14:37:23.399912"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.1ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 57], ["user_id", 57], ["created_at", "2023-06-13 14:37:23.408369"], ["updated_at", "2023-06-13 14:37:23.408369"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/57/resenas" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"57"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 1203)
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 57]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 454)
  Rendered resenas/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 3734)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 4145)
Completed 200 OK in 16ms (Views: 12.7ms | ActiveRecord: 0.9ms | Allocations: 5150)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.439968"], ["updated_at", "2023-06-13 14:37:23.439968"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.447558"], ["updated_at", "2023-06-13 14:37:23.447558"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 58], ["user_id", 58], ["created_at", "2023-06-13 14:37:23.452036"], ["updated_at", "2023-06-13 14:37:23.452036"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/58/resenas/18" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"58", "id"=>"18"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 58], ["id", 18], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mResena Update (1.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 14:37:23.465269"], ["id", 18]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/58/resenas
Completed 302 Found in 13ms (ActiveRecord: 2.4ms | Allocations: 1513)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.479149"], ["updated_at", "2023-06-13 14:37:23.479149"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.488187"], ["updated_at", "2023-06-13 14:37:23.488187"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 59], ["user_id", 59], ["created_at", "2023-06-13 14:37:23.492980"], ["updated_at", "2023-06-13 14:37:23.492980"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/59/resenas/19" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"59", "id"=>"19"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 59], ["id", 19], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1091)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 453)
  Rendered resenas/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 3045)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 3418)
Completed 200 OK in 16ms (Views: 10.6ms | ActiveRecord: 1.0ms | Allocations: 4211)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.520304"], ["updated_at", "2023-06-13 14:37:23.520304"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.531022"], ["updated_at", "2023-06-13 14:37:23.531022"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 60], ["user_id", 60], ["created_at", "2023-06-13 14:37:23.535329"], ["updated_at", "2023-06-13 14:37:23.535329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/60/resenas/new" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"60"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 507)
  Rendered resenas/new.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3466)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3849)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.3ms | Allocations: 4470)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.578033"], ["updated_at", "2023-06-13 14:37:23.578033"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/61" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"61"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 955)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered libros/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3621)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 4035)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 0.3ms | Allocations: 5016)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2877)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 2926)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3409)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 896)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 46.0ms | Allocations: 13554)
  Rendered layout layouts/application.html.erb (Duration: 47.7ms | Allocations: 13941)
Completed 200 OK in 50ms (Views: 48.4ms | ActiveRecord: 0.0ms | Allocations: 14341)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.689944"], ["updated_at", "2023-06-13 14:37:23.689944"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.698299"], ["updated_at", "2023-06-13 14:37:23.698299"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.708283"], ["updated_at", "2023-06-13 14:37:23.708283"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 62], ["libro_id", 62], ["estado", "E"], ["created_at", "2023-06-13 14:37:23.716921"], ["updated_at", "2023-06-13 14:37:23.716921"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/62/compras/13" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"62", "id"=>"13"}
  [1m[36mCompra Load (0.8ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 14:37:23.739106"], ["id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/62/compras
Completed 302 Found in 13ms (ActiveRecord: 2.4ms | Allocations: 2012)
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.748788"], ["updated_at", "2023-06-13 14:37:23.748788"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.755572"], ["updated_at", "2023-06-13 14:37:23.755572"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 63], ["libro_id", 63], ["estado", "E"], ["created_at", "2023-06-13 14:37:23.759284"], ["updated_at", "2023-06-13 14:37:23.759284"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/63/compras" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"63"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1181)
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 63]]
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 454)
  Rendered compras/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 4046)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 4457)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.4ms | Allocations: 5197)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.786045"], ["updated_at", "2023-06-13 14:37:23.786045"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.794054"], ["updated_at", "2023-06-13 14:37:23.794054"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 64], ["libro_id", 64], ["estado", "E"], ["created_at", "2023-06-13 14:37:23.798982"], ["updated_at", "2023-06-13 14:37:23.798982"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/64/compras/15" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"64", "id"=>"15"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1091)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 2968)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 3341)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.9ms | Allocations: 3798)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:37:23.824470"], ["updated_at", "2023-06-13 14:37:23.824470"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 14:37:23.833453"], ["updated_at", "2023-06-13 14:37:23.833453"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 10:37:23 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3567)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3978)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms | Allocations: 4765)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:48:51.302988"], ["updated_at", "2023-06-13 14:48:51.302988"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/66" for 127.0.0.1 at 2023-06-13 10:48:51 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"66"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.8ms | Allocations: 1941)
  Rendered componentes/_footer.html.erb (Duration: 2.8ms | Allocations: 560)
  Rendered libros/show.html.erb within layouts/application (Duration: 195.6ms | Allocations: 34570)
  Rendered layout layouts/application.html.erb (Duration: 208.5ms | Allocations: 36693)
Completed 200 OK in 265ms (Views: 230.2ms | ActiveRecord: 0.5ms | Allocations: 41851)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Count (8.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
LibrosControllerTest - test_should_create_libro: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-06-13 10:48:51 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2918)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 2968)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3530)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 10:48:51 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 896)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 27.1ms | Allocations: 15746)
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | Allocations: 16133)
Completed 200 OK in 29ms (Views: 28.1ms | ActiveRecord: 0.0ms | Allocations: 16533)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:49:47.331784"], ["updated_at", "2023-06-13 14:49:47.331784"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/67" for 127.0.0.1 at 2023-06-13 10:49:47 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"67"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 23.2ms | Allocations: 1941)
  Rendered componentes/_footer.html.erb (Duration: 5.9ms | Allocations: 560)
  Rendered libros/show.html.erb within layouts/application (Duration: 200.2ms | Allocations: 34415)
  Rendered layout layouts/application.html.erb (Duration: 204.7ms | Allocations: 36538)
Completed 200 OK in 257ms (Views: 221.0ms | ActiveRecord: 0.5ms | Allocations: 41696)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mLibro Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 10:49:47 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"B", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:49:47.715247"], ["updated_at", "2023-06-13 14:49:47.715247"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/68
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1148)
  [1m[36mLibro Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
Started GET "/libros" for 127.0.0.1 at 2023-06-13 10:49:47 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2968)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3018)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3561)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 10:49:47 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 896)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 29.5ms | Allocations: 15730)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 16117)
Completed 200 OK in 31ms (Views: 30.3ms | ActiveRecord: 0.0ms | Allocations: 16517)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:58:49.127219"], ["updated_at", "2023-06-13 14:58:49.127219"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 10:58:49 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.5ms | Allocations: 1941)
  Rendered componentes/_footer.html.erb (Duration: 4.9ms | Allocations: 650)
  Rendered libros/new.html.erb within layouts/application (Duration: 226.2ms | Allocations: 46967)
  Rendered layout layouts/application.html.erb (Duration: 240.3ms | Allocations: 49089)
Completed 200 OK in 282ms (Views: 251.3ms | ActiveRecord: 0.0ms | Allocations: 53548)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:58:49.506117"], ["updated_at", "2023-06-13 14:58:49.506117"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 10:58:49 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:58:49.518602"], ["updated_at", "2023-06-13 14:58:49.518602"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/71
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1139)
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:58:49.526416"], ["updated_at", "2023-06-13 14:58:49.526416"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/72" for 127.0.0.1 at 2023-06-13 10:58:49 -0400
Processing by LibrosController#update as HTML
  Parameters: {"id"=>"72"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.2ms | Allocations: 594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:58:49.534099"], ["updated_at", "2023-06-13 14:58:49.534099"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:58:49.536742"], ["updated_at", "2023-06-13 14:58:49.536742"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/74" for 127.0.0.1 at 2023-06-13 10:58:49 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"74"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 885)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered libros/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3323)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3706)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 4179)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 14:58:49.552197"], ["updated_at", "2023-06-13 14:58:49.552197"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 10:58:49 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2860)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 2909)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3339)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.1ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:00:47.654803"], ["updated_at", "2023-06-13 15:00:47.654803"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/76" for 127.0.0.1 at 2023-06-13 11:00:47 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"76"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.4ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:00:47.730710"], ["id", 76]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/76
Completed 302 Found in 17ms (ActiveRecord: 1.1ms | Allocations: 3727)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:00:47.758299"], ["updated_at", "2023-06-13 15:00:47.758299"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:00:47 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.6ms | Allocations: 1892)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 649)
  Rendered libros/new.html.erb within layouts/application (Duration: 138.8ms | Allocations: 46861)
  Rendered layout layouts/application.html.erb (Duration: 141.4ms | Allocations: 48980)
Completed 200 OK in 180ms (Views: 156.7ms | ActiveRecord: 0.0ms | Allocations: 51780)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:00:47.982008"], ["updated_at", "2023-06-13 15:00:47.982008"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:00:47 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2884)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 2934)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3461)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:00:47.993459"], ["updated_at", "2023-06-13 15:00:47.993459"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:00:47 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:00:47.999023"], ["updated_at", "2023-06-13 15:00:47.999023"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/80
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 991)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:00:48.005849"], ["updated_at", "2023-06-13 15:00:48.005849"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:00:48.007702"], ["updated_at", "2023-06-13 15:00:48.007702"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/82" for 127.0.0.1 at 2023-06-13 11:00:48 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"82"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 885)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered libros/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3316)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3699)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.2ms | Allocations: 4182)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:22.552067"], ["updated_at", "2023-06-13 15:02:22.552067"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:02:22 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:22.627885"], ["updated_at", "2023-06-13 15:02:22.627885"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/84
Completed 302 Found in 8ms (ActiveRecord: 0.5ms | Allocations: 2906)
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:22.658362"], ["updated_at", "2023-06-13 15:02:22.658362"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:02:22 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 132.0ms | Allocations: 32794)
  Rendered layout layouts/application.html.erb (Duration: 132.2ms | Allocations: 32856)
Completed 500 Internal Server Error in 167ms (ActiveRecord: 0.0ms | Allocations: 35991)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:22.882762"], ["updated_at", "2023-06-13 15:02:22.882762"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:02:22 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.4ms | Allocations: 1714)
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 648)
  Rendered libros/new.html.erb within layouts/application (Duration: 32.4ms | Allocations: 16854)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 18961)
Completed 200 OK in 37ms (Views: 36.2ms | ActiveRecord: 0.0ms | Allocations: 19376)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:22.926610"], ["updated_at", "2023-06-13 15:02:22.926610"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/87" for 127.0.0.1 at 2023-06-13 11:02:22 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"87"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:02:22.932430"], ["id", 87]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/87
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 1406)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:22.937417"], ["updated_at", "2023-06-13 15:02:22.937417"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:22.939071"], ["updated_at", "2023-06-13 15:02:22.939071"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/89" for 127.0.0.1 at 2023-06-13 11:02:22 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"89"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 879)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 453)
  Rendered libros/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3221)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3595)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.2ms | Allocations: 4036)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.190798"], ["updated_at", "2023-06-13 15:02:52.190798"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.317308"], ["updated_at", "2023-06-13 15:02:52.317308"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.322746"], ["updated_at", "2023-06-13 15:02:52.322746"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 67], ["libro_id", 90], ["estado", "E"], ["created_at", "2023-06-13 15:02:52.350301"], ["updated_at", "2023-06-13 15:02:52.350301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/67/compras/16" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"67", "id"=>"16"}
  [1m[36mCompra Load (1.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:02:52.534931"], ["id", 16]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/67/compras
Completed 302 Found in 15ms (ActiveRecord: 2.4ms | Allocations: 4432)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.544697"], ["updated_at", "2023-06-13 15:02:52.544697"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.549130"], ["updated_at", "2023-06-13 15:02:52.549130"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 68], ["libro_id", 91], ["estado", "E"], ["created_at", "2023-06-13 15:02:52.551693"], ["updated_at", "2023-06-13 15:02:52.551693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/68/compras" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"68"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.5ms | Allocations: 2232)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 68]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 560)
  Rendered compras/index.html.erb within layouts/application (Duration: 82.0ms | Allocations: 34827)
  Rendered layout layouts/application.html.erb (Duration: 84.6ms | Allocations: 36939)
Completed 200 OK in 95ms (Views: 89.3ms | ActiveRecord: 0.2ms | Allocations: 39737)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.656127"], ["updated_at", "2023-06-13 15:02:52.656127"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.661609"], ["updated_at", "2023-06-13 15:02:52.661609"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 69], ["libro_id", 92], ["estado", "E"], ["created_at", "2023-06-13 15:02:52.664235"], ["updated_at", "2023-06-13 15:02:52.664235"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/69/compras/18" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"69", "id"=>"18"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1091)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered compras/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 2978)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 3352)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 1.2ms | Allocations: 3806)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.4ms | Allocations: 1034)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 454)
  Rendered home/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 3204)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 3618)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.0ms | Allocations: 4390)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.720568"], ["updated_at", "2023-06-13 15:02:52.720568"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.725462"], ["updated_at", "2023-06-13 15:02:52.725462"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 93], ["user_id", 70], ["created_at", "2023-06-13 15:02:52.740731"], ["updated_at", "2023-06-13 15:02:52.740731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/93/resenas/21" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"93", "id"=>"21"}
  [1m[36mResena Load (1.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 70], ["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:02:52.752423"], ["id", 21]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/93/resenas
Completed 302 Found in 7ms (ActiveRecord: 2.1ms | Allocations: 1871)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.759003"], ["updated_at", "2023-06-13 15:02:52.759003"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.762773"], ["updated_at", "2023-06-13 15:02:52.762773"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 94], ["user_id", 71], ["created_at", "2023-06-13 15:02:52.765426"], ["updated_at", "2023-06-13 15:02:52.765426"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/94/resenas" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"94"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1197)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 94]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered resenas/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3697)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 4108)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.5ms | Allocations: 5119)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.782220"], ["updated_at", "2023-06-13 15:02:52.782220"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.787350"], ["updated_at", "2023-06-13 15:02:52.787350"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 95], ["user_id", 72], ["created_at", "2023-06-13 15:02:52.790176"], ["updated_at", "2023-06-13 15:02:52.790176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/95/resenas/23" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"95", "id"=>"23"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 95], ["id", 23], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1091)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3054)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3427)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.7ms | Allocations: 4233)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.806466"], ["updated_at", "2023-06-13 15:02:52.806466"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.811166"], ["updated_at", "2023-06-13 15:02:52.811166"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 96], ["user_id", 73], ["created_at", "2023-06-13 15:02:52.813670"], ["updated_at", "2023-06-13 15:02:52.813670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/96/resenas/new" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"96"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 507)
  Rendered resenas/new.html.erb within layouts/application (Duration: 15.7ms | Allocations: 5788)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 6171)
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.3ms | Allocations: 6792)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.842619"], ["updated_at", "2023-06-13 15:02:52.842619"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3567)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3978)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 4766)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.865025"], ["updated_at", "2023-06-13 15:02:52.865025"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.870129"], ["updated_at", "2023-06-13 15:02:52.870129"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 75], ["libro_id", 97], ["created_at", "2023-06-13 15:02:52.883727"], ["updated_at", "2023-06-13 15:02:52.883727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/97/mensajes/21" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"97", "id"=>"21"}
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 75], ["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:02:52.894284"], ["id", 21]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/97/mensajes
Completed 302 Found in 7ms (ActiveRecord: 1.2ms | Allocations: 1826)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.900868"], ["updated_at", "2023-06-13 15:02:52.900868"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.905101"], ["updated_at", "2023-06-13 15:02:52.905101"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 76], ["libro_id", 98], ["created_at", "2023-06-13 15:02:52.908025"], ["updated_at", "2023-06-13 15:02:52.908025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/98/mensajes" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"98"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1197)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 98]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 454)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 4091)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 4502)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.6ms | Allocations: 5379)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.926352"], ["updated_at", "2023-06-13 15:02:52.926352"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.931471"], ["updated_at", "2023-06-13 15:02:52.931471"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 77], ["libro_id", 99], ["created_at", "2023-06-13 15:02:52.933954"], ["updated_at", "2023-06-13 15:02:52.933954"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/99/mensajes/23" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"99", "id"=>"23"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 99], ["id", 23], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1091)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2871)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3244)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.6ms | Allocations: 4046)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.949883"], ["updated_at", "2023-06-13 15:02:52.949883"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:02:52.954141"], ["updated_at", "2023-06-13 15:02:52.954141"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 78], ["libro_id", 100], ["created_at", "2023-06-13 15:02:52.956462"], ["updated_at", "2023-06-13 15:02:52.956462"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/100/mensajes/new" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"100"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2923)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 3296)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.1ms | Allocations: 3889)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.970943"], ["updated_at", "2023-06-13 15:02:52.970943"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/101" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"101"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:02:52.978973"], ["id", 101]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/101
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1322)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.985758"], ["updated_at", "2023-06-13 15:02:52.985758"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:52.987813"], ["updated_at", "2023-06-13 15:02:52.987813"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/103" for 127.0.0.1 at 2023-06-13 11:02:52 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"103"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 951)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 454)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3611)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 4025)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.2ms | Allocations: 4874)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:53.004195"], ["updated_at", "2023-06-13 15:02:53.004195"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:02:53 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:53.011329"], ["updated_at", "2023-06-13 15:02:53.011329"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/105
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 991)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:53.018597"], ["updated_at", "2023-06-13 15:02:53.018597"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:02:53 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 885)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 17.8ms | Allocations: 13502)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 13889)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.0ms | Allocations: 14274)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:53.045288"], ["updated_at", "2023-06-13 15:02:53.045288"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:02:53 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2913)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 2963)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3508)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:02:53.059922"], ["updated_at", "2023-06-13 15:02:53.059922"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:07:47.894779"], ["updated_at", "2023-06-13 15:07:47.894779"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:07:47.919598"], ["updated_at", "2023-06-13 15:07:47.919598"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (3.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 109], ["user_id", 79], ["created_at", "2023-06-13 15:07:47.948111"], ["updated_at", "2023-06-13 15:07:47.948111"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/109/resenas" for 127.0.0.1 at 2023-06-13 11:07:47 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"109"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.2ms | Allocations: 2316)
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 109]]
  Rendered componentes/_footer.html.erb (Duration: 1.6ms | Allocations: 560)
  Rendered resenas/index.html.erb within layouts/application (Duration: 108.0ms | Allocations: 34221)
  Rendered layout layouts/application.html.erb (Duration: 112.0ms | Allocations: 36339)
Completed 200 OK in 128ms (Views: 115.9ms | ActiveRecord: 0.8ms | Allocations: 41481)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:07:48.261259"], ["updated_at", "2023-06-13 15:07:48.261259"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:07:48.267754"], ["updated_at", "2023-06-13 15:07:48.267754"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 110], ["user_id", 80], ["created_at", "2023-06-13 15:07:48.271590"], ["updated_at", "2023-06-13 15:07:48.271590"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/110/resenas/26" for 127.0.0.1 at 2023-06-13 11:07:48 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"110", "id"=>"26"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 80], ["id", 26], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:07:48.288097"], ["id", 26]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/110/resenas
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 2092)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:07:48.294427"], ["updated_at", "2023-06-13 15:07:48.294427"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:07:48.300441"], ["updated_at", "2023-06-13 15:07:48.300441"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 111], ["user_id", 81], ["created_at", "2023-06-13 15:07:48.303121"], ["updated_at", "2023-06-13 15:07:48.303121"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/111/resenas/new" for 127.0.0.1 at 2023-06-13 11:07:48 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"111"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1125)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 507)
  Rendered resenas/new.html.erb within layouts/application (Duration: 19.6ms | Allocations: 5916)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 6300)
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 0.5ms | Allocations: 6982)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:07:48.335309"], ["updated_at", "2023-06-13 15:07:48.335309"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:07:48.340015"], ["updated_at", "2023-06-13 15:07:48.340015"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 112], ["user_id", 82], ["created_at", "2023-06-13 15:07:48.342501"], ["updated_at", "2023-06-13 15:07:48.342501"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
ResenasControllerTest - test_should_create_resena: ActionController::UrlGenerationError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:07:48.347133"], ["updated_at", "2023-06-13 15:07:48.347133"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:07:48.350710"], ["updated_at", "2023-06-13 15:07:48.350710"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 113], ["user_id", 83], ["created_at", "2023-06-13 15:07:48.352624"], ["updated_at", "2023-06-13 15:07:48.352624"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/113/resenas/29" for 127.0.0.1 at 2023-06-13 11:07:48 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"113", "id"=>"29"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 113], ["id", 29], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1111)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered resenas/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3220)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 3594)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.5ms | Allocations: 4435)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:08:09.094223"], ["updated_at", "2023-06-13 15:08:09.094223"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:08:09.119821"], ["updated_at", "2023-06-13 15:08:09.119821"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.1ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 114], ["user_id", 84], ["created_at", "2023-06-13 15:08:09.147004"], ["updated_at", "2023-06-13 15:08:09.147004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/114/resenas/new" for 127.0.0.1 at 2023-06-13 11:08:09 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"114"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.1ms | Allocations: 2316)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 648)
  Rendered resenas/new.html.erb within layouts/application (Duration: 89.7ms | Allocations: 37290)
  Rendered layout layouts/application.html.erb (Duration: 92.8ms | Allocations: 39407)
Completed 200 OK in 109ms (Views: 97.9ms | ActiveRecord: 0.3ms | Allocations: 44749)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:08:09.426484"], ["updated_at", "2023-06-13 15:08:09.426484"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:08:09.431833"], ["updated_at", "2023-06-13 15:08:09.431833"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 115], ["user_id", 85], ["created_at", "2023-06-13 15:08:09.435053"], ["updated_at", "2023-06-13 15:08:09.435053"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros/115/resenas" for 127.0.0.1 at 2023-06-13 11:08:09 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"115"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 115], ["user_id", 85], ["created_at", "2023-06-13 15:08:09.446882"], ["updated_at", "2023-06-13 15:08:09.446882"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/115/resenas
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1205)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:08:09.452174"], ["updated_at", "2023-06-13 15:08:09.452174"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:08:09.456258"], ["updated_at", "2023-06-13 15:08:09.456258"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 116], ["user_id", 86], ["created_at", "2023-06-13 15:08:09.458576"], ["updated_at", "2023-06-13 15:08:09.458576"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/116/resenas/33" for 127.0.0.1 at 2023-06-13 11:08:09 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"116", "id"=>"33"}
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 86], ["id", 33], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:08:09.466992"], ["id", 33]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/116/resenas
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 1778)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:08:09.473227"], ["updated_at", "2023-06-13 15:08:09.473227"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:08:09.477344"], ["updated_at", "2023-06-13 15:08:09.477344"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 117], ["user_id", 87], ["created_at", "2023-06-13 15:08:09.479605"], ["updated_at", "2023-06-13 15:08:09.479605"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/117/resenas/34" for 127.0.0.1 at 2023-06-13 11:08:09 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"117", "id"=>"34"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 117], ["id", 34], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1115)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered resenas/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3274)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 3657)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.6ms | Allocations: 4475)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:08:09.494997"], ["updated_at", "2023-06-13 15:08:09.494997"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:08:09.499505"], ["updated_at", "2023-06-13 15:08:09.499505"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 118], ["user_id", 88], ["created_at", "2023-06-13 15:08:09.501716"], ["updated_at", "2023-06-13 15:08:09.501716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/118/resenas" for 127.0.0.1 at 2023-06-13 11:08:09 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"118"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1100)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 118]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered resenas/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2990)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3363)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.6ms | Allocations: 3807)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:39.119642"], ["updated_at", "2023-06-13 15:10:39.119642"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:39.145735"], ["updated_at", "2023-06-13 15:10:39.145735"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 119], ["user_id", 89], ["created_at", "2023-06-13 15:10:39.174896"], ["updated_at", "2023-06-13 15:10:39.174896"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/119/resenas/36" for 127.0.0.1 at 2023-06-13 11:10:39 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"119", "id"=>"36"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 119], ["id", 36], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.9ms | Allocations: 2295)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 560)
  Rendered resenas/show.html.erb within layouts/application (Duration: 118.8ms | Allocations: 34795)
  Rendered layout layouts/application.html.erb (Duration: 124.9ms | Allocations: 36913)
Completed 200 OK in 143ms (Views: 129.1ms | ActiveRecord: 1.0ms | Allocations: 42531)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:39.513955"], ["updated_at", "2023-06-13 15:10:39.513955"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:39.520980"], ["updated_at", "2023-06-13 15:10:39.520980"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 120], ["user_id", 90], ["created_at", "2023-06-13 15:10:39.525390"], ["updated_at", "2023-06-13 15:10:39.525390"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/120/resenas" for 127.0.0.1 at 2023-06-13 11:10:39 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"120"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 120], ["user_id", 90], ["created_at", "2023-06-13 15:10:39.540382"], ["updated_at", "2023-06-13 15:10:39.540382"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/120/resenas
Completed 302 Found in 5ms (ActiveRecord: 1.1ms | Allocations: 1205)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:39.545943"], ["updated_at", "2023-06-13 15:10:39.545943"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:39.550373"], ["updated_at", "2023-06-13 15:10:39.550373"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 121], ["user_id", 91], ["created_at", "2023-06-13 15:10:39.552429"], ["updated_at", "2023-06-13 15:10:39.552429"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/121/resenas/new" for 127.0.0.1 at 2023-06-13 11:10:39 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"121"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1124)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered resenas/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 5903)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 6287)
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.4ms | Allocations: 6964)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:39.576744"], ["updated_at", "2023-06-13 15:10:39.576744"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:39.580820"], ["updated_at", "2023-06-13 15:10:39.580820"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 122], ["user_id", 92], ["created_at", "2023-06-13 15:10:39.582961"], ["updated_at", "2023-06-13 15:10:39.582961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/122/resenas" for 127.0.0.1 at 2023-06-13 11:10:39 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"122"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1122)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 122]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3068)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3442)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.4ms | Allocations: 3961)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:39.596140"], ["updated_at", "2023-06-13 15:10:39.596140"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:39.600079"], ["updated_at", "2023-06-13 15:10:39.600079"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 123], ["user_id", 93], ["created_at", "2023-06-13 15:10:39.602088"], ["updated_at", "2023-06-13 15:10:39.602088"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/123/resenas/41" for 127.0.0.1 at 2023-06-13 11:10:39 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"123", "id"=>"41"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 93], ["id", 41], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:10:39.608647"], ["id", 41]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/123/resenas
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1601)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:56.924653"], ["updated_at", "2023-06-13 15:10:56.924653"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:56.949661"], ["updated_at", "2023-06-13 15:10:56.949661"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 94], ["libro_id", 124], ["estado", "E"], ["created_at", "2023-06-13 15:10:56.979756"], ["updated_at", "2023-06-13 15:10:56.979756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/94/compras/19" for 127.0.0.1 at 2023-06-13 11:10:56 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"94", "id"=>"19"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.4ms | Allocations: 2298)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.6ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 96.7ms | Allocations: 35117)
  Rendered layout layouts/application.html.erb (Duration: 99.9ms | Allocations: 37235)
Completed 200 OK in 117ms (Views: 104.3ms | ActiveRecord: 1.1ms | Allocations: 42290)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.268615"], ["updated_at", "2023-06-13 15:10:57.268615"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.274627"], ["updated_at", "2023-06-13 15:10:57.274627"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 95], ["libro_id", 125], ["estado", "E"], ["created_at", "2023-06-13 15:10:57.277755"], ["updated_at", "2023-06-13 15:10:57.277755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/95/compras/20" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"95", "id"=>"20"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:10:57.290246"], ["id", 20]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/95/compras
Completed 302 Found in 6ms (ActiveRecord: 1.2ms | Allocations: 1676)
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.295642"], ["updated_at", "2023-06-13 15:10:57.295642"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.299482"], ["updated_at", "2023-06-13 15:10:57.299482"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 96], ["libro_id", 126], ["estado", "E"], ["created_at", "2023-06-13 15:10:57.301528"], ["updated_at", "2023-06-13 15:10:57.301528"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/96/compras" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"96"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1110)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 96]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3460)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3843)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.2ms | Allocations: 4218)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.319385"], ["updated_at", "2023-06-13 15:10:57.319385"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3568)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3979)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 4768)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.338403"], ["updated_at", "2023-06-13 15:10:57.338403"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.343441"], ["updated_at", "2023-06-13 15:10:57.343441"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 98], ["libro_id", 127], ["created_at", "2023-06-13 15:10:57.358027"], ["updated_at", "2023-06-13 15:10:57.358027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/127/mensajes/25" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"127", "id"=>"25"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 127], ["id", 25], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1190)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 454)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3800)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 4211)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 0.9ms | Allocations: 5856)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.380489"], ["updated_at", "2023-06-13 15:10:57.380489"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.385720"], ["updated_at", "2023-06-13 15:10:57.385720"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 99], ["libro_id", 128], ["created_at", "2023-06-13 15:10:57.388470"], ["updated_at", "2023-06-13 15:10:57.388470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/128/mensajes/new" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"128"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 507)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 16.2ms | Allocations: 5278)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 5664)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.2ms | Allocations: 6329)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.414167"], ["updated_at", "2023-06-13 15:10:57.414167"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.418928"], ["updated_at", "2023-06-13 15:10:57.418928"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 100], ["libro_id", 129], ["created_at", "2023-06-13 15:10:57.421425"], ["updated_at", "2023-06-13 15:10:57.421425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/129/mensajes/27" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"129", "id"=>"27"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 100], ["id", 27], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:10:57.429364"], ["id", 27]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/129/mensajes
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1461)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.434533"], ["updated_at", "2023-06-13 15:10:57.434533"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.439123"], ["updated_at", "2023-06-13 15:10:57.439123"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 101], ["libro_id", 130], ["created_at", "2023-06-13 15:10:57.441464"], ["updated_at", "2023-06-13 15:10:57.441464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/130/mensajes" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"130"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1120)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 130]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 453)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3265)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3639)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.9ms | Allocations: 4135)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.459635"], ["updated_at", "2023-06-13 15:10:57.459635"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.464276"], ["updated_at", "2023-06-13 15:10:57.464276"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 131], ["user_id", 102], ["created_at", "2023-06-13 15:10:57.477906"], ["updated_at", "2023-06-13 15:10:57.477906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/131/resenas/42" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"131", "id"=>"42"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 131], ["id", 42], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1190)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 454)
  Rendered resenas/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3800)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 4211)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.8ms | Allocations: 5701)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.500656"], ["updated_at", "2023-06-13 15:10:57.500656"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.505637"], ["updated_at", "2023-06-13 15:10:57.505637"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 132], ["user_id", 103], ["created_at", "2023-06-13 15:10:57.508177"], ["updated_at", "2023-06-13 15:10:57.508177"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/132/resenas/new" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"132"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered resenas/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3469)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3852)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 4517)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.523804"], ["updated_at", "2023-06-13 15:10:57.523804"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.528189"], ["updated_at", "2023-06-13 15:10:57.528189"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 133], ["user_id", 104], ["created_at", "2023-06-13 15:10:57.530483"], ["updated_at", "2023-06-13 15:10:57.530483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/133/resenas" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"133"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1122)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 133]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 453)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3415)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.5ms | Allocations: 3934)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.545205"], ["updated_at", "2023-06-13 15:10:57.545205"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.549515"], ["updated_at", "2023-06-13 15:10:57.549515"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 134], ["user_id", 105], ["created_at", "2023-06-13 15:10:57.551984"], ["updated_at", "2023-06-13 15:10:57.551984"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/134/resenas/45" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"134", "id"=>"45"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 105], ["id", 45], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:10:57.559061"], ["id", 45]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/134/resenas
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1448)
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.564505"], ["updated_at", "2023-06-13 15:10:57.564505"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.568644"], ["updated_at", "2023-06-13 15:10:57.568644"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 135], ["user_id", 106], ["created_at", "2023-06-13 15:10:57.570868"], ["updated_at", "2023-06-13 15:10:57.570868"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/135/resenas" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"135"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 135], ["user_id", 106], ["created_at", "2023-06-13 15:10:57.578081"], ["updated_at", "2023-06-13 15:10:57.578081"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/135/resenas
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1124)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.1ms | Allocations: 1034)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered home/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3203)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 3617)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.0ms | Allocations: 4388)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:10:57.605036"], ["updated_at", "2023-06-13 15:10:57.605036"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.614008"], ["updated_at", "2023-06-13 15:10:57.614008"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.619521"], ["updated_at", "2023-06-13 15:10:57.619521"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.621554"], ["updated_at", "2023-06-13 15:10:57.621554"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/138" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"138"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 954)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 454)
  Rendered libros/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3620)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4034)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 5014)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.640858"], ["updated_at", "2023-06-13 15:10:57.640858"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 822)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 17.9ms | Allocations: 13350)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 13736)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.0ms | Allocations: 14101)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.667254"], ["updated_at", "2023-06-13 15:10:57.667254"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2913)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 2963)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3508)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.681039"], ["updated_at", "2023-06-13 15:10:57.681039"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/141" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"141"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:10:57.687501"], ["id", 141]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/141
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1135)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.693481"], ["updated_at", "2023-06-13 15:10:57.693481"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:10:57 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:10:57.698945"], ["updated_at", "2023-06-13 15:10:57.698945"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/143
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 777)
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:12:14.012675"], ["updated_at", "2023-06-13 15:12:14.012675"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:12:14.036185"], ["updated_at", "2023-06-13 15:12:14.036185"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 108], ["libro_id", 144], ["created_at", "2023-06-13 15:12:14.063500"], ["updated_at", "2023-06-13 15:12:14.063500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/144/mensajes" for 127.0.0.1 at 2023-06-13 11:12:14 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"144"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.5ms | Allocations: 2316)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 144]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 560)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 134.8ms | Allocations: 34813)
  Rendered layout layouts/application.html.erb (Duration: 138.6ms | Allocations: 36931)
Completed 200 OK in 155ms (Views: 142.9ms | ActiveRecord: 1.2ms | Allocations: 42073)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:12:14.406269"], ["updated_at", "2023-06-13 15:12:14.406269"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:12:14.414385"], ["updated_at", "2023-06-13 15:12:14.414385"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 109], ["libro_id", 145], ["created_at", "2023-06-13 15:12:14.418904"], ["updated_at", "2023-06-13 15:12:14.418904"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/145/mensajes/30" for 127.0.0.1 at 2023-06-13 11:12:14 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"145", "id"=>"30"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 109], ["id", 30], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:12:14.436392"], ["id", 30]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/145/mensajes
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 2022)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:12:14.442659"], ["updated_at", "2023-06-13 15:12:14.442659"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:12:14.446996"], ["updated_at", "2023-06-13 15:12:14.446996"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 110], ["libro_id", 146], ["created_at", "2023-06-13 15:12:14.449592"], ["updated_at", "2023-06-13 15:12:14.449592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/146/mensajes/new" for 127.0.0.1 at 2023-06-13 11:12:14 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"146"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1125)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 507)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 17.3ms | Allocations: 5403)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 5790)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.2ms | Allocations: 6471)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:12:14.476391"], ["updated_at", "2023-06-13 15:12:14.476391"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:12:14.481947"], ["updated_at", "2023-06-13 15:12:14.481947"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 111], ["libro_id", 147], ["created_at", "2023-06-13 15:12:14.484463"], ["updated_at", "2023-06-13 15:12:14.484463"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/147/mensajes" for 127.0.0.1 at 2023-06-13 11:12:14 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"147"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 111], ["libro_id", 147], ["created_at", "2023-06-13 15:12:14.492801"], ["updated_at", "2023-06-13 15:12:14.492801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/147/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 1100)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:12:14.498359"], ["updated_at", "2023-06-13 15:12:14.498359"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:12:14.502727"], ["updated_at", "2023-06-13 15:12:14.502727"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 112], ["libro_id", 148], ["created_at", "2023-06-13 15:12:14.504972"], ["updated_at", "2023-06-13 15:12:14.504972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/148/mensajes/34" for 127.0.0.1 at 2023-06-13 11:12:14 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"148", "id"=>"34"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 148], ["id", 34], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1115)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3005)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3388)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.7ms | Allocations: 4210)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:15:40.093470"], ["updated_at", "2023-06-13 15:15:40.093470"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:15:40.117679"], ["updated_at", "2023-06-13 15:15:40.117679"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 113], ["libro_id", 149], ["estado", "E"], ["created_at", "2023-06-13 15:15:40.145779"], ["updated_at", "2023-06-13 15:15:40.145779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/113/compras/22" for 127.0.0.1 at 2023-06-13 11:15:40 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"113", "id"=>"22"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:15:40.325181"], ["id", 22]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/113/compras
Completed 302 Found in 15ms (ActiveRecord: 1.4ms | Allocations: 4432)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:15:40.333868"], ["updated_at", "2023-06-13 15:15:40.333868"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:15:40.338393"], ["updated_at", "2023-06-13 15:15:40.338393"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 114], ["libro_id", 150], ["estado", "E"], ["created_at", "2023-06-13 15:15:40.340546"], ["updated_at", "2023-06-13 15:15:40.340546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/114/compras" for 127.0.0.1 at 2023-06-13 11:15:40 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"114"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.6ms | Allocations: 2232)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 114]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 560)
  Rendered compras/index.html.erb within layouts/application (Duration: 126.0ms | Allocations: 34772)
  Rendered layout layouts/application.html.erb (Duration: 129.1ms | Allocations: 36884)
Completed 200 OK in 141ms (Views: 135.0ms | ActiveRecord: 0.3ms | Allocations: 39683)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:15:40.491570"], ["updated_at", "2023-06-13 15:15:40.491570"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:15:40.497578"], ["updated_at", "2023-06-13 15:15:40.497578"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 115], ["libro_id", 151], ["estado", "E"], ["created_at", "2023-06-13 15:15:40.501712"], ["updated_at", "2023-06-13 15:15:40.501712"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/115/compras/24" for 127.0.0.1 at 2023-06-13 11:15:40 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"115", "id"=>"24"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1091)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 453)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 2978)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 3352)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.9ms | Allocations: 3806)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:15:40.522082"], ["updated_at", "2023-06-13 15:15:40.522082"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:15:40.528201"], ["updated_at", "2023-06-13 15:15:40.528201"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 116], ["libro_id", 152], ["estado", "E"], ["created_at", "2023-06-13 15:15:40.532302"], ["updated_at", "2023-06-13 15:15:40.532302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/user/116/compras" for 127.0.0.1 at 2023-06-13 11:15:40 -0400
Processing by ComprasController#create as HTML
  Parameters: {"resena"=>{"estado"=>"E"}, "user_id"=>"116"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 269)
ComprasControllerTest - test_should_create_compra: ActiveRecord::RecordNotFound raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:16:22.217297"], ["updated_at", "2023-06-13 15:16:22.217297"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:16:22.239577"], ["updated_at", "2023-06-13 15:16:22.239577"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 117], ["libro_id", 153], ["estado", "E"], ["created_at", "2023-06-13 15:16:22.262697"], ["updated_at", "2023-06-13 15:16:22.262697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/117/compras/26" for 127.0.0.1 at 2023-06-13 11:16:22 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"117", "id"=>"26"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 15.8ms | Allocations: 2298)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 98.4ms | Allocations: 34779)
  Rendered layout layouts/application.html.erb (Duration: 101.6ms | Allocations: 36897)
Completed 200 OK in 115ms (Views: 105.3ms | ActiveRecord: 1.0ms | Allocations: 41952)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:16:22.553944"], ["updated_at", "2023-06-13 15:16:22.553944"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:16:22.560373"], ["updated_at", "2023-06-13 15:16:22.560373"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 118], ["libro_id", 154], ["estado", "E"], ["created_at", "2023-06-13 15:16:22.564318"], ["updated_at", "2023-06-13 15:16:22.564318"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/118/compras" for 127.0.0.1 at 2023-06-13 11:16:22 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"118"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1122)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 118]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3495)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3879)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms | Allocations: 4271)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:16:22.578083"], ["updated_at", "2023-06-13 15:16:22.578083"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:16:22.581686"], ["updated_at", "2023-06-13 15:16:22.581686"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 119], ["libro_id", 155], ["estado", "E"], ["created_at", "2023-06-13 15:16:22.583487"], ["updated_at", "2023-06-13 15:16:22.583487"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/119/compras/28" for 127.0.0.1 at 2023-06-13 11:16:22 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"119", "id"=>"28"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:16:22.592821"], ["id", 28]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/119/compras
Completed 302 Found in 6ms (ActiveRecord: 1.4ms | Allocations: 1671)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:16:22.599023"], ["updated_at", "2023-06-13 15:16:22.599023"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:16:22.602670"], ["updated_at", "2023-06-13 15:16:22.602670"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 120], ["libro_id", 156], ["estado", "E"], ["created_at", "2023-06-13 15:16:22.604842"], ["updated_at", "2023-06-13 15:16:22.604842"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/user/120/compras" for 127.0.0.1 at 2023-06-13 11:16:22 -0400
Processing by ComprasController#create as HTML
  Parameters: {"resena"=>{"estado"=>"E", "libro_id"=>"156"}, "user_id"=>"120"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 269)
ComprasControllerTest - test_should_create_compra: ActiveRecord::RecordNotFound raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:20:11.932027"], ["updated_at", "2023-06-13 15:20:11.932027"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:20:11.959390"], ["updated_at", "2023-06-13 15:20:11.959390"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 121], ["libro_id", 157], ["estado", "E"], ["created_at", "2023-06-13 15:20:11.986617"], ["updated_at", "2023-06-13 15:20:11.986617"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/121/compras/30" for 127.0.0.1 at 2023-06-13 11:20:11 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"121", "id"=>"30"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.0ms | Allocations: 2298)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.9ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 123.7ms | Allocations: 35128)
  Rendered layout layouts/application.html.erb (Duration: 136.3ms | Allocations: 37246)
Completed 200 OK in 151ms (Views: 140.2ms | ActiveRecord: 1.1ms | Allocations: 42301)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:20:12.329620"], ["updated_at", "2023-06-13 15:20:12.329620"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:20:12.335378"], ["updated_at", "2023-06-13 15:20:12.335378"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 122], ["libro_id", 158], ["estado", "E"], ["created_at", "2023-06-13 15:20:12.337889"], ["updated_at", "2023-06-13 15:20:12.337889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/122/compras" for 127.0.0.1 at 2023-06-13 11:20:12 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"122"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1122)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 122]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3495)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3879)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms | Allocations: 4271)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:20:12.349936"], ["updated_at", "2023-06-13 15:20:12.349936"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:20:12.354204"], ["updated_at", "2023-06-13 15:20:12.354204"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 123], ["libro_id", 159], ["estado", "E"], ["created_at", "2023-06-13 15:20:12.356223"], ["updated_at", "2023-06-13 15:20:12.356223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/user/123/compras" for 127.0.0.1 at 2023-06-13 11:20:12 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E", "libro_id"=>"159"}, "user_id"=>"123"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 272)
ComprasControllerTest - test_should_create_compra: ActiveRecord::RecordNotFound raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:20:12.370147"], ["updated_at", "2023-06-13 15:20:12.370147"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:20:12.374438"], ["updated_at", "2023-06-13 15:20:12.374438"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 124], ["libro_id", 160], ["estado", "E"], ["created_at", "2023-06-13 15:20:12.376470"], ["updated_at", "2023-06-13 15:20:12.376470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/124/compras/33" for 127.0.0.1 at 2023-06-13 11:20:12 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"124", "id"=>"33"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:20:12.382102"], ["id", 33]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/124/compras
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 1445)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:24:44.764614"], ["updated_at", "2023-06-13 15:24:44.764614"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:24:44.788185"], ["updated_at", "2023-06-13 15:24:44.788185"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.1ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 125], ["libro_id", 161], ["estado", "E"], ["created_at", "2023-06-13 15:24:44.817703"], ["updated_at", "2023-06-13 15:24:44.817703"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/125/compras/34" for 127.0.0.1 at 2023-06-13 11:24:44 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"125", "id"=>"34"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:24:45.004315"], ["id", 34]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/125/compras
Completed 302 Found in 14ms (ActiveRecord: 1.4ms | Allocations: 4432)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:24:45.013318"], ["updated_at", "2023-06-13 15:24:45.013318"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:24:45.017550"], ["updated_at", "2023-06-13 15:24:45.017550"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 126], ["libro_id", 162], ["estado", "E"], ["created_at", "2023-06-13 15:24:45.019978"], ["updated_at", "2023-06-13 15:24:45.019978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/126/compras/35" for 127.0.0.1 at 2023-06-13 11:24:45 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"126", "id"=>"35"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.6ms | Allocations: 2240)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 132.6ms | Allocations: 34402)
  Rendered layout layouts/application.html.erb (Duration: 140.0ms | Allocations: 36514)
Completed 200 OK in 151ms (Views: 144.8ms | ActiveRecord: 0.9ms | Allocations: 39488)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:24:45.183479"], ["updated_at", "2023-06-13 15:24:45.183479"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:24:45.190909"], ["updated_at", "2023-06-13 15:24:45.190909"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 127], ["libro_id", 163], ["estado", "E"], ["created_at", "2023-06-13 15:24:45.195664"], ["updated_at", "2023-06-13 15:24:45.195664"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/127/compras" for 127.0.0.1 at 2023-06-13 11:24:45 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"127"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1090)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 127]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3346)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 3720)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.3ms | Allocations: 4068)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:24:45.221714"], ["updated_at", "2023-06-13 15:24:45.221714"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:24:45.227530"], ["updated_at", "2023-06-13 15:24:45.227530"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 128], ["libro_id", 164], ["estado", "E"], ["created_at", "2023-06-13 15:24:45.229801"], ["updated_at", "2023-06-13 15:24:45.229801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/user/128/compras" for 127.0.0.1 at 2023-06-13 11:24:45 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E", "libro"=>"#<Libro:0x0000000107605b78>"}, "user_id"=>"128"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 269)
ComprasControllerTest - test_should_create_compra: ActiveRecord::RecordNotFound raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:28:55.511574"], ["updated_at", "2023-06-13 15:28:55.511574"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:28:55.535985"], ["updated_at", "2023-06-13 15:28:55.535985"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 129], ["libro_id", 165], ["estado", "E"], ["created_at", "2023-06-13 15:28:55.565254"], ["updated_at", "2023-06-13 15:28:55.565254"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/129/compras/38" for 127.0.0.1 at 2023-06-13 11:28:55 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"129", "id"=>"38"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:28:55.748822"], ["id", 38]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/129/compras
Completed 302 Found in 21ms (ActiveRecord: 1.6ms | Allocations: 4432)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:28:55.759391"], ["updated_at", "2023-06-13 15:28:55.759391"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:28:55.764107"], ["updated_at", "2023-06-13 15:28:55.764107"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 130], ["libro_id", 166], ["estado", "E"], ["created_at", "2023-06-13 15:28:55.766361"], ["updated_at", "2023-06-13 15:28:55.766361"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/130/compras/39" for 127.0.0.1 at 2023-06-13 11:28:55 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"130", "id"=>"39"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.6ms | Allocations: 2240)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 109.2ms | Allocations: 34473)
  Rendered layout layouts/application.html.erb (Duration: 111.9ms | Allocations: 36585)
Completed 200 OK in 124ms (Views: 118.1ms | ActiveRecord: 0.8ms | Allocations: 39559)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:28:55.901499"], ["updated_at", "2023-06-13 15:28:55.901499"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:28:55.905567"], ["updated_at", "2023-06-13 15:28:55.905567"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 131], ["libro_id", 167], ["estado", "E"], ["created_at", "2023-06-13 15:28:55.907821"], ["updated_at", "2023-06-13 15:28:55.907821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/user/131/compras" for 127.0.0.1 at 2023-06-13 11:28:55 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E", "libro"=>"#<Libro:0x0000000106eca020>"}, "user_id"=>"131"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 269)
ComprasControllerTest - test_should_create_compra: ActiveRecord::RecordNotFound raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:28:55.915907"], ["updated_at", "2023-06-13 15:28:55.915907"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:28:55.920040"], ["updated_at", "2023-06-13 15:28:55.920040"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 132], ["libro_id", 168], ["estado", "E"], ["created_at", "2023-06-13 15:28:55.922268"], ["updated_at", "2023-06-13 15:28:55.922268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 132], ["libro_id", 168], ["estado", "E"], ["created_at", "2023-06-13 15:28:55.923724"], ["updated_at", "2023-06-13 15:28:55.923724"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/132/compras/42" for 127.0.0.1 at 2023-06-13 11:28:55 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"132", "id"=>"42"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 132], ["id", 42], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 42]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/132/compras
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 787)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:28:55.933855"], ["updated_at", "2023-06-13 15:28:55.933855"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:28:55.938307"], ["updated_at", "2023-06-13 15:28:55.938307"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 133], ["libro_id", 169], ["estado", "E"], ["created_at", "2023-06-13 15:28:55.940485"], ["updated_at", "2023-06-13 15:28:55.940485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/133/compras" for 127.0.0.1 at 2023-06-13 11:28:55 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"133"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1110)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 133]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3431)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3814)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms | Allocations: 4188)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:29:21.638210"], ["updated_at", "2023-06-13 15:29:21.638210"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:29:21.661213"], ["updated_at", "2023-06-13 15:29:21.661213"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 134], ["libro_id", 170], ["estado", "E"], ["created_at", "2023-06-13 15:29:21.690782"], ["updated_at", "2023-06-13 15:29:21.690782"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/134/compras/44" for 127.0.0.1 at 2023-06-13 11:29:21 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"134", "id"=>"44"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.8ms | Allocations: 2298)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 86.0ms | Allocations: 35183)
  Rendered layout layouts/application.html.erb (Duration: 88.7ms | Allocations: 37301)
Completed 200 OK in 107ms (Views: 93.3ms | ActiveRecord: 0.9ms | Allocations: 42356)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:29:21.983250"], ["updated_at", "2023-06-13 15:29:21.983250"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:29:21.988249"], ["updated_at", "2023-06-13 15:29:21.988249"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 135], ["libro_id", 171], ["estado", "E"], ["created_at", "2023-06-13 15:29:21.990760"], ["updated_at", "2023-06-13 15:29:21.990760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/135/compras" for 127.0.0.1 at 2023-06-13 11:29:21 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"135"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1122)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 135]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3496)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3880)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.2ms | Allocations: 4272)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:29:22.005229"], ["updated_at", "2023-06-13 15:29:22.005229"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:29:22.010620"], ["updated_at", "2023-06-13 15:29:22.010620"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 136], ["libro_id", 172], ["estado", "E"], ["created_at", "2023-06-13 15:29:22.013220"], ["updated_at", "2023-06-13 15:29:22.013220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 136], ["libro_id", 172], ["estado", "E"], ["created_at", "2023-06-13 15:29:22.015381"], ["updated_at", "2023-06-13 15:29:22.015381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/136/compras/47" for 127.0.0.1 at 2023-06-13 11:29:22 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"136", "id"=>"47"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 136], ["id", 47], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.4ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 47]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/136/compras
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 1088)
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:29:22.035517"], ["updated_at", "2023-06-13 15:29:22.035517"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:29:22.040346"], ["updated_at", "2023-06-13 15:29:22.040346"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 137], ["libro_id", 173], ["estado", "E"], ["created_at", "2023-06-13 15:29:22.043235"], ["updated_at", "2023-06-13 15:29:22.043235"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/137/compras/48" for 127.0.0.1 at 2023-06-13 11:29:22 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"137", "id"=>"48"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:29:22.051350"], ["id", 48]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/137/compras
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 1283)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:31:35.330752"], ["updated_at", "2023-06-13 15:31:35.330752"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:31:35.355807"], ["updated_at", "2023-06-13 15:31:35.355807"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 138], ["libro_id", 174], ["estado", "E"], ["created_at", "2023-06-13 15:31:35.384236"], ["updated_at", "2023-06-13 15:31:35.384236"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 138], ["libro_id", 174], ["estado", "E"], ["created_at", "2023-06-13 15:31:35.387070"], ["updated_at", "2023-06-13 15:31:35.387070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/138/compras/50" for 127.0.0.1 at 2023-06-13 11:31:35 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"138", "id"=>"50"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 138], ["id", 50], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 50]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/138/compras
Completed 302 Found in 10ms (ActiveRecord: 0.7ms | Allocations: 3010)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:31:35.559593"], ["updated_at", "2023-06-13 15:31:35.559593"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:31:35.563499"], ["updated_at", "2023-06-13 15:31:35.563499"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 139], ["libro_id", 175], ["estado", "E"], ["created_at", "2023-06-13 15:31:35.565711"], ["updated_at", "2023-06-13 15:31:35.565711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/139/compras" for 127.0.0.1 at 2023-06-13 11:31:35 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"139"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.7ms | Allocations: 2231)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 139]]
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 560)
  Rendered compras/index.html.erb within layouts/application (Duration: 86.5ms | Allocations: 34716)
  Rendered layout layouts/application.html.erb (Duration: 90.1ms | Allocations: 36828)
Completed 200 OK in 101ms (Views: 96.0ms | ActiveRecord: 0.3ms | Allocations: 39626)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:31:35.681128"], ["updated_at", "2023-06-13 15:31:35.681128"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:31:35.688185"], ["updated_at", "2023-06-13 15:31:35.688185"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 140], ["libro_id", 176], ["estado", "E"], ["created_at", "2023-06-13 15:31:35.692267"], ["updated_at", "2023-06-13 15:31:35.692267"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/140/compras/new" for 127.0.0.1 at 2023-06-13 11:31:35 -0400
Processing by ComprasController#new as HTML
  Parameters: {"user_id"=>"140"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 296)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:31:35.703427"], ["updated_at", "2023-06-13 15:31:35.703427"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:31:35.709332"], ["updated_at", "2023-06-13 15:31:35.709332"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 141], ["libro_id", 177], ["estado", "E"], ["created_at", "2023-06-13 15:31:35.713051"], ["updated_at", "2023-06-13 15:31:35.713051"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/141/compras/53" for 127.0.0.1 at 2023-06-13 11:31:35 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"141", "id"=>"53"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:31:35.726408"], ["id", 53]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/141/compras
Completed 302 Found in 11ms (ActiveRecord: 1.5ms | Allocations: 1983)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:31:35.734391"], ["updated_at", "2023-06-13 15:31:35.734391"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:31:35.741367"], ["updated_at", "2023-06-13 15:31:35.741367"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 142], ["libro_id", 178], ["estado", "E"], ["created_at", "2023-06-13 15:31:35.745662"], ["updated_at", "2023-06-13 15:31:35.745662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/142/compras/54" for 127.0.0.1 at 2023-06-13 11:31:35 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"142", "id"=>"54"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1091)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 2978)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 3352)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.9ms | Allocations: 3788)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:32:34.809653"], ["updated_at", "2023-06-13 15:32:34.809653"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:32:34.834938"], ["updated_at", "2023-06-13 15:32:34.834938"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 143], ["libro_id", 179], ["estado", "E"], ["created_at", "2023-06-13 15:32:34.863858"], ["updated_at", "2023-06-13 15:32:34.863858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/143/compras/55" for 127.0.0.1 at 2023-06-13 11:32:34 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"143", "id"=>"55"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 11.2ms | Allocations: 2298)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 11.7ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 141.5ms | Allocations: 35108)
  Rendered layout layouts/application.html.erb (Duration: 155.1ms | Allocations: 37226)
Completed 200 OK in 173ms (Views: 159.0ms | ActiveRecord: 1.5ms | Allocations: 42281)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:32:35.215921"], ["updated_at", "2023-06-13 15:32:35.215921"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:32:35.219947"], ["updated_at", "2023-06-13 15:32:35.219947"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 144], ["libro_id", 180], ["estado", "E"], ["created_at", "2023-06-13 15:32:35.221796"], ["updated_at", "2023-06-13 15:32:35.221796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/144/compras/56" for 127.0.0.1 at 2023-06-13 11:32:35 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"144", "id"=>"56"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:32:35.235006"], ["id", 56]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/144/compras
Completed 302 Found in 7ms (ActiveRecord: 1.3ms | Allocations: 1676)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:32:35.241280"], ["updated_at", "2023-06-13 15:32:35.241280"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:32:35.245235"], ["updated_at", "2023-06-13 15:32:35.245235"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 145], ["libro_id", 181], ["estado", "E"], ["created_at", "2023-06-13 15:32:35.247405"], ["updated_at", "2023-06-13 15:32:35.247405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/145/compras" for 127.0.0.1 at 2023-06-13 11:32:35 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"145"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1110)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 145]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3460)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3843)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms | Allocations: 4218)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:32:35.261620"], ["updated_at", "2023-06-13 15:32:35.261620"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:32:35.266760"], ["updated_at", "2023-06-13 15:32:35.266760"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 146], ["libro_id", 182], ["estado", "E"], ["created_at", "2023-06-13 15:32:35.269076"], ["updated_at", "2023-06-13 15:32:35.269076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/146/compras/58/edit" for 127.0.0.1 at 2023-06-13 11:32:35 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"146", "id"=>"58"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1091)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 507)
  Rendered compras/edit.html.erb within layouts/application (Duration: 17.3ms | Allocations: 5689)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 6072)
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.5ms | Allocations: 6511)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:32:35.294341"], ["updated_at", "2023-06-13 15:32:35.294341"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:32:35.299832"], ["updated_at", "2023-06-13 15:32:35.299832"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 147], ["libro_id", 183], ["estado", "E"], ["created_at", "2023-06-13 15:32:35.302519"], ["updated_at", "2023-06-13 15:32:35.302519"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 147], ["libro_id", 183], ["estado", "E"], ["created_at", "2023-06-13 15:32:35.304331"], ["updated_at", "2023-06-13 15:32:35.304331"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/147/compras/60" for 127.0.0.1 at 2023-06-13 11:32:35 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"147", "id"=>"60"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 147], ["id", 60], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 60]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/147/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 767)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:14.901597"], ["updated_at", "2023-06-13 15:33:14.901597"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:14.926103"], ["updated_at", "2023-06-13 15:33:14.926103"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 148], ["libro_id", 184], ["estado", "E"], ["created_at", "2023-06-13 15:33:14.957991"], ["updated_at", "2023-06-13 15:33:14.957991"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/148/compras/61" for 127.0.0.1 at 2023-06-13 11:33:14 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"148", "id"=>"61"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 14.2ms | Allocations: 2298)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 10.6ms | Allocations: 561)
  Rendered compras/show.html.erb within layouts/application (Duration: 135.8ms | Allocations: 34598)
  Rendered layout layouts/application.html.erb (Duration: 150.2ms | Allocations: 36716)
Completed 200 OK in 167ms (Views: 154.7ms | ActiveRecord: 1.2ms | Allocations: 41771)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.314995"], ["updated_at", "2023-06-13 15:33:15.314995"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.319342"], ["updated_at", "2023-06-13 15:33:15.319342"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 149], ["libro_id", 185], ["estado", "E"], ["created_at", "2023-06-13 15:33:15.321603"], ["updated_at", "2023-06-13 15:33:15.321603"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 149], ["libro_id", 185], ["estado", "E"], ["created_at", "2023-06-13 15:33:15.323403"], ["updated_at", "2023-06-13 15:33:15.323403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/149/compras/63" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"149", "id"=>"63"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 149], ["id", 63], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 63]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/149/compras
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1113)
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.341103"], ["updated_at", "2023-06-13 15:33:15.341103"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.345424"], ["updated_at", "2023-06-13 15:33:15.345424"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 150], ["libro_id", 186], ["estado", "E"], ["created_at", "2023-06-13 15:33:15.347848"], ["updated_at", "2023-06-13 15:33:15.347848"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/150/compras/64" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"150", "id"=>"64"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:33:15.355198"], ["id", 64]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/150/compras
Completed 302 Found in 6ms (ActiveRecord: 1.2ms | Allocations: 1284)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.360465"], ["updated_at", "2023-06-13 15:33:15.360465"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.366084"], ["updated_at", "2023-06-13 15:33:15.366084"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 151], ["libro_id", 187], ["estado", "E"], ["created_at", "2023-06-13 15:33:15.369632"], ["updated_at", "2023-06-13 15:33:15.369632"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/151/compras/65/edit" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"151", "id"=>"65"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 507)
  Rendered compras/edit.html.erb within layouts/application (Duration: 17.8ms | Allocations: 5797)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 6181)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.5ms | Allocations: 6675)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.396248"], ["updated_at", "2023-06-13 15:33:15.396248"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.401075"], ["updated_at", "2023-06-13 15:33:15.401075"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 152], ["libro_id", 188], ["estado", "E"], ["created_at", "2023-06-13 15:33:15.404299"], ["updated_at", "2023-06-13 15:33:15.404299"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/152/compras" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"152"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1110)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 152]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3392)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3766)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms | Allocations: 4137)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 1034)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered home/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3204)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 3618)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.0ms | Allocations: 4390)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.462778"], ["updated_at", "2023-06-13 15:33:15.462778"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.466633"], ["updated_at", "2023-06-13 15:33:15.466633"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 153], ["libro_id", 189], ["created_at", "2023-06-13 15:33:15.469499"], ["updated_at", "2023-06-13 15:33:15.469499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/189/mensajes/35" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"189", "id"=>"35"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 189], ["id", 35], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1190)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3799)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 4210)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.8ms | Allocations: 5839)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.492976"], ["updated_at", "2023-06-13 15:33:15.492976"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.497835"], ["updated_at", "2023-06-13 15:33:15.497835"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 154], ["libro_id", 190], ["created_at", "2023-06-13 15:33:15.500456"], ["updated_at", "2023-06-13 15:33:15.500456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/190/mensajes" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"190"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 154], ["libro_id", 190], ["created_at", "2023-06-13 15:33:15.507847"], ["updated_at", "2023-06-13 15:33:15.507847"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/190/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1113)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.513476"], ["updated_at", "2023-06-13 15:33:15.513476"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.517864"], ["updated_at", "2023-06-13 15:33:15.517864"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 155], ["libro_id", 191], ["created_at", "2023-06-13 15:33:15.520240"], ["updated_at", "2023-06-13 15:33:15.520240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/191/mensajes/38" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"191", "id"=>"38"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 155], ["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:33:15.527542"], ["id", 38]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/191/mensajes
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 1407)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.533313"], ["updated_at", "2023-06-13 15:33:15.533313"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.538268"], ["updated_at", "2023-06-13 15:33:15.538268"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 156], ["libro_id", 192], ["created_at", "2023-06-13 15:33:15.540548"], ["updated_at", "2023-06-13 15:33:15.540548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/192/mensajes" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"192"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1124)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 192]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 453)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3321)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3704)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.9ms | Allocations: 4206)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.556737"], ["updated_at", "2023-06-13 15:33:15.556737"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.561046"], ["updated_at", "2023-06-13 15:33:15.561046"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 157], ["libro_id", 193], ["created_at", "2023-06-13 15:33:15.563333"], ["updated_at", "2023-06-13 15:33:15.563333"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/193/mensajes/new" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"193"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3246)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 3632)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 4252)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.579097"], ["updated_at", "2023-06-13 15:33:15.579097"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.581222"], ["updated_at", "2023-06-13 15:33:15.581222"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/195" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"195"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 955)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered libros/show.html.erb within layouts/application (Duration: 9.4ms | Allocations: 3622)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 4036)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.3ms | Allocations: 5016)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.602658"], ["updated_at", "2023-06-13 15:33:15.602658"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.609769"], ["updated_at", "2023-06-13 15:33:15.609769"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/197
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 866)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.616891"], ["updated_at", "2023-06-13 15:33:15.616891"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/198" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"198"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:33:15.623439"], ["id", 198]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/198
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1020)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.629107"], ["updated_at", "2023-06-13 15:33:15.629107"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2876)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 2925)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3397)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.642908"], ["updated_at", "2023-06-13 15:33:15.642908"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 896)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 17.9ms | Allocations: 13492)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 13879)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.0ms | Allocations: 14271)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.669035"], ["updated_at", "2023-06-13 15:33:15.669035"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.674897"], ["updated_at", "2023-06-13 15:33:15.674897"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.679659"], ["updated_at", "2023-06-13 15:33:15.679659"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 202], ["user_id", 158], ["created_at", "2023-06-13 15:33:15.682455"], ["updated_at", "2023-06-13 15:33:15.682455"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/202/resenas/48" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"202", "id"=>"48"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 202], ["id", 48], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1190)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 454)
  Rendered resenas/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3798)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 4209)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.7ms | Allocations: 5698)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.705842"], ["updated_at", "2023-06-13 15:33:15.705842"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.710419"], ["updated_at", "2023-06-13 15:33:15.710419"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 203], ["user_id", 159], ["created_at", "2023-06-13 15:33:15.712950"], ["updated_at", "2023-06-13 15:33:15.712950"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/203/resenas" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"203"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 203], ["user_id", 159], ["created_at", "2023-06-13 15:33:15.719105"], ["updated_at", "2023-06-13 15:33:15.719105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/203/resenas
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 897)
  [1m[36mResena Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.726493"], ["updated_at", "2023-06-13 15:33:15.726493"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.730735"], ["updated_at", "2023-06-13 15:33:15.730735"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 204], ["user_id", 160], ["created_at", "2023-06-13 15:33:15.733214"], ["updated_at", "2023-06-13 15:33:15.733214"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/204/resenas/51" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"204", "id"=>"51"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 160], ["id", 51], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:33:15.741476"], ["id", 51]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/204/resenas
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1421)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.747648"], ["updated_at", "2023-06-13 15:33:15.747648"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.752247"], ["updated_at", "2023-06-13 15:33:15.752247"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 205], ["user_id", 161], ["created_at", "2023-06-13 15:33:15.754546"], ["updated_at", "2023-06-13 15:33:15.754546"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/205/resenas" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"205"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1100)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 205]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered resenas/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2966)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3339)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.4ms | Allocations: 3811)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:33:15.770812"], ["updated_at", "2023-06-13 15:33:15.770812"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.775754"], ["updated_at", "2023-06-13 15:33:15.775754"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 206], ["user_id", 162], ["created_at", "2023-06-13 15:33:15.778553"], ["updated_at", "2023-06-13 15:33:15.778553"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/206/resenas/new" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"206"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered resenas/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3189)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3562)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.2ms | Allocations: 4156)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.796656"], ["updated_at", "2023-06-13 15:33:15.796656"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:33:15 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3567)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3978)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 4765)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:33:15.815951"], ["updated_at", "2023-06-13 15:33:15.815951"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:19.615808"], ["updated_at", "2023-06-13 15:35:19.615808"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:19.745530"], ["updated_at", "2023-06-13 15:35:19.745530"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:19.750327"], ["updated_at", "2023-06-13 15:35:19.750327"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 166], ["libro_id", 207], ["created_at", "2023-06-13 15:35:19.799582"], ["updated_at", "2023-06-13 15:35:19.799582"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/207/mensajes/41" for 127.0.0.1 at 2023-06-13 11:35:19 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"207", "id"=>"41"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 166], ["id", 41], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.5ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:35:19.955329"], ["id", 41]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/207/mensajes
Completed 302 Found in 15ms (ActiveRecord: 1.4ms | Allocations: 4156)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:19.965390"], ["updated_at", "2023-06-13 15:35:19.965390"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:19.970271"], ["updated_at", "2023-06-13 15:35:19.970271"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 167], ["libro_id", 208], ["created_at", "2023-06-13 15:35:19.972571"], ["updated_at", "2023-06-13 15:35:19.972571"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/208/mensajes" for 127.0.0.1 at 2023-06-13 11:35:19 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"208"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.3ms | Allocations: 2259)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 208]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 560)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 143.9ms | Allocations: 34577)
  Rendered layout layouts/application.html.erb (Duration: 158.1ms | Allocations: 36689)
Completed 200 OK in 172ms (Views: 163.2ms | ActiveRecord: 1.3ms | Allocations: 39900)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.155558"], ["updated_at", "2023-06-13 15:35:20.155558"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.162403"], ["updated_at", "2023-06-13 15:35:20.162403"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 168], ["libro_id", 209], ["created_at", "2023-06-13 15:35:20.166268"], ["updated_at", "2023-06-13 15:35:20.166268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/209/mensajes/43" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"209", "id"=>"43"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 209], ["id", 43], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1091)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2889)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3263)
Completed 200 OK in 12ms (Views: 7.0ms | ActiveRecord: 0.8ms | Allocations: 4064)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.185665"], ["updated_at", "2023-06-13 15:35:20.185665"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.190101"], ["updated_at", "2023-06-13 15:35:20.190101"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 169], ["libro_id", 210], ["created_at", "2023-06-13 15:35:20.192306"], ["updated_at", "2023-06-13 15:35:20.192306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/210/mensajes/new" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"210"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 14.0ms | Allocations: 5275)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 5661)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.2ms | Allocations: 6282)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.213948"], ["updated_at", "2023-06-13 15:35:20.213948"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.217537"], ["updated_at", "2023-06-13 15:35:20.217537"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 170], ["libro_id", 211], ["created_at", "2023-06-13 15:35:20.219344"], ["updated_at", "2023-06-13 15:35:20.219344"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/211/mensajes" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"211"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 170], ["libro_id", 211], ["created_at", "2023-06-13 15:35:20.226443"], ["updated_at", "2023-06-13 15:35:20.226443"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/211/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1100)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.233394"], ["updated_at", "2023-06-13 15:35:20.233394"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1190)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 454)
  Rendered users/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3569)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3980)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms | Allocations: 4767)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 1034)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered home/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3203)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3617)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 4388)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 822)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered home/inicio.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3478)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3851)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 4219)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.282590"], ["updated_at", "2023-06-13 15:35:20.282590"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.287583"], ["updated_at", "2023-06-13 15:35:20.287583"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.294062"], ["updated_at", "2023-06-13 15:35:20.294062"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 172], ["libro_id", 213], ["estado", "E"], ["created_at", "2023-06-13 15:35:20.297253"], ["updated_at", "2023-06-13 15:35:20.297253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/172/compras/67" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"172", "id"=>"67"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  [1m[36mCompra Update (0.5ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:35:20.307997"], ["id", 67]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/172/compras
Completed 302 Found in 8ms (ActiveRecord: 1.5ms | Allocations: 2013)
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.315156"], ["updated_at", "2023-06-13 15:35:20.315156"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.319416"], ["updated_at", "2023-06-13 15:35:20.319416"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 173], ["libro_id", 214], ["estado", "E"], ["created_at", "2023-06-13 15:35:20.321769"], ["updated_at", "2023-06-13 15:35:20.321769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/173/compras/68/edit" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"173", "id"=>"68"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1186)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 508)
  Rendered compras/edit.html.erb within layouts/application (Duration: 8.5ms | Allocations: 4346)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 4756)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.5ms | Allocations: 5606)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.340806"], ["updated_at", "2023-06-13 15:35:20.340806"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.346267"], ["updated_at", "2023-06-13 15:35:20.346267"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 174], ["libro_id", 215], ["estado", "E"], ["created_at", "2023-06-13 15:35:20.348430"], ["updated_at", "2023-06-13 15:35:20.348430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/174/compras/69" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"174", "id"=>"69"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered compras/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3026)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3400)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.7ms | Allocations: 3889)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.361744"], ["updated_at", "2023-06-13 15:35:20.361744"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.365394"], ["updated_at", "2023-06-13 15:35:20.365394"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 175], ["libro_id", 216], ["estado", "E"], ["created_at", "2023-06-13 15:35:20.367337"], ["updated_at", "2023-06-13 15:35:20.367337"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/175/compras" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"175"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1090)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 175]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 453)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3323)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3696)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.2ms | Allocations: 4010)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.380407"], ["updated_at", "2023-06-13 15:35:20.380407"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.384168"], ["updated_at", "2023-06-13 15:35:20.384168"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 176], ["libro_id", 217], ["estado", "E"], ["created_at", "2023-06-13 15:35:20.386086"], ["updated_at", "2023-06-13 15:35:20.386086"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 176], ["libro_id", 217], ["estado", "E"], ["created_at", "2023-06-13 15:35:20.387852"], ["updated_at", "2023-06-13 15:35:20.387852"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/176/compras/72" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"176", "id"=>"72"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 176], ["id", 72], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 72]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/176/compras
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 720)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.398278"], ["updated_at", "2023-06-13 15:35:20.398278"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.402297"], ["updated_at", "2023-06-13 15:35:20.402297"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 218], ["user_id", 177], ["created_at", "2023-06-13 15:35:20.404977"], ["updated_at", "2023-06-13 15:35:20.404977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/218/resenas/54" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"218", "id"=>"54"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 177], ["id", 54], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  [1m[36mResena Update (0.5ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:35:20.413772"], ["id", 54]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/218/resenas
Completed 302 Found in 6ms (ActiveRecord: 1.2ms | Allocations: 1852)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.420174"], ["updated_at", "2023-06-13 15:35:20.420174"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.423941"], ["updated_at", "2023-06-13 15:35:20.423941"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 219], ["user_id", 178], ["created_at", "2023-06-13 15:35:20.426601"], ["updated_at", "2023-06-13 15:35:20.426601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/219/resenas" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"219"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1197)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 219]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 454)
  Rendered resenas/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3689)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 4100)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.4ms | Allocations: 4977)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.444429"], ["updated_at", "2023-06-13 15:35:20.444429"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.449151"], ["updated_at", "2023-06-13 15:35:20.449151"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 220], ["user_id", 179], ["created_at", "2023-06-13 15:35:20.451273"], ["updated_at", "2023-06-13 15:35:20.451273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/220/resenas/56" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"220", "id"=>"56"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 220], ["id", 56], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1091)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 453)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3045)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3418)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.5ms | Allocations: 4223)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.465963"], ["updated_at", "2023-06-13 15:35:20.465963"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.469790"], ["updated_at", "2023-06-13 15:35:20.469790"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 221], ["user_id", 180], ["created_at", "2023-06-13 15:35:20.471864"], ["updated_at", "2023-06-13 15:35:20.471864"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/221/resenas/new" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"221"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1100)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered resenas/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3463)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3846)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.1ms | Allocations: 4467)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.485630"], ["updated_at", "2023-06-13 15:35:20.485630"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:35:20.489752"], ["updated_at", "2023-06-13 15:35:20.489752"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 222], ["user_id", 181], ["created_at", "2023-06-13 15:35:20.491849"], ["updated_at", "2023-06-13 15:35:20.491849"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/222/resenas" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"222"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 222], ["user_id", 181], ["created_at", "2023-06-13 15:35:20.497183"], ["updated_at", "2023-06-13 15:35:20.497183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/222/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 896)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.502657"], ["updated_at", "2023-06-13 15:35:20.502657"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/223" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"223"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.2ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:35:20.509178"], ["id", 223]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/223
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1322)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.514594"], ["updated_at", "2023-06-13 15:35:20.514594"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3300)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3352)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 4246)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.529810"], ["updated_at", "2023-06-13 15:35:20.529810"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.531815"], ["updated_at", "2023-06-13 15:35:20.531815"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/226" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"226"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 937)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 454)
  Rendered libros/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3274)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3685)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms | Allocations: 4200)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.545510"], ["updated_at", "2023-06-13 15:35:20.545510"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 822)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 507)
  Rendered libros/new.html.erb within layouts/application (Duration: 15.6ms | Allocations: 13071)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 13457)
Completed 200 OK in 17ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 13787)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.568693"], ["updated_at", "2023-06-13 15:35:20.568693"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:35:20 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:35:20.573569"], ["updated_at", "2023-06-13 15:35:20.573569"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/229
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 820)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.327260"], ["updated_at", "2023-06-13 15:37:15.327260"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.439023"], ["updated_at", "2023-06-13 15:37:15.439023"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:15.462263"], ["updated_at", "2023-06-13 15:37:15.462263"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.1ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 231], ["user_id", 182], ["created_at", "2023-06-13 15:37:15.473762"], ["updated_at", "2023-06-13 15:37:15.473762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/231/resenas/60" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"231", "id"=>"60"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 182], ["id", 60], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:37:15.546451"], ["id", 60]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/231/resenas
Completed 302 Found in 12ms (ActiveRecord: 1.2ms | Allocations: 4179)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.556136"], ["updated_at", "2023-06-13 15:37:15.556136"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:15.561379"], ["updated_at", "2023-06-13 15:37:15.561379"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 232], ["user_id", 183], ["created_at", "2023-06-13 15:37:15.564047"], ["updated_at", "2023-06-13 15:37:15.564047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/232/resenas/61" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"232", "id"=>"61"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 232], ["id", 61], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.8ms | Allocations: 2266)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 11.5ms | Allocations: 571)
  Rendered resenas/show.html.erb within layouts/application (Duration: 188.8ms | Allocations: 34578)
  Rendered layout layouts/application.html.erb (Duration: 202.7ms | Allocations: 36699)
Completed 200 OK in 217ms (Views: 207.4ms | ActiveRecord: 1.6ms | Allocations: 40256)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.791982"], ["updated_at", "2023-06-13 15:37:15.791982"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:15.798007"], ["updated_at", "2023-06-13 15:37:15.798007"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 233], ["user_id", 184], ["created_at", "2023-06-13 15:37:15.801926"], ["updated_at", "2023-06-13 15:37:15.801926"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/233/resenas/new" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"233"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 1113)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 521)
  Rendered resenas/new.html.erb within layouts/application (Duration: 36.3ms | Allocations: 5826)
  Rendered layout layouts/application.html.erb (Duration: 37.4ms | Allocations: 6221)
Completed 200 OK in 41ms (Views: 38.1ms | ActiveRecord: 0.3ms | Allocations: 6884)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.851306"], ["updated_at", "2023-06-13 15:37:15.851306"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:15.857425"], ["updated_at", "2023-06-13 15:37:15.857425"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 234], ["user_id", 185], ["created_at", "2023-06-13 15:37:15.860653"], ["updated_at", "2023-06-13 15:37:15.860653"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/234/resenas" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"234"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1133)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 234]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3096)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3481)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms | Allocations: 4000)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.877820"], ["updated_at", "2023-06-13 15:37:15.877820"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:15.882857"], ["updated_at", "2023-06-13 15:37:15.882857"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 235], ["user_id", 186], ["created_at", "2023-06-13 15:37:15.886200"], ["updated_at", "2023-06-13 15:37:15.886200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/235/resenas" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"235"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 235], ["user_id", 186], ["created_at", "2023-06-13 15:37:15.893665"], ["updated_at", "2023-06-13 15:37:15.893665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/235/resenas
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1124)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.898881"], ["updated_at", "2023-06-13 15:37:15.898881"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/236" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"236"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:37:15.906182"], ["id", 236]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/236
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1322)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.911587"], ["updated_at", "2023-06-13 15:37:15.911587"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.913417"], ["updated_at", "2023-06-13 15:37:15.913417"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/238" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"238"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 1043)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered libros/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 3725)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4150)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.2ms | Allocations: 4999)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.930034"], ["updated_at", "2023-06-13 15:37:15.930034"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 17.0ms | Allocations: 13384)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 13781)
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.0ms | Allocations: 14146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.955881"], ["updated_at", "2023-06-13 15:37:15.955881"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3325)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3384)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3930)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.969152"], ["updated_at", "2023-06-13 15:37:15.969152"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:15.974058"], ["updated_at", "2023-06-13 15:37:15.974058"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/242
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 826)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:15.981848"], ["updated_at", "2023-06-13 15:37:15.981848"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:15.988781"], ["updated_at", "2023-06-13 15:37:15.988781"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:37:15 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3601)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 4023)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 4811)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 967)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 10.7ms | Allocations: 4111)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 4536)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 5345)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2552)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 2936)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 3245)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.049076"], ["updated_at", "2023-06-13 15:37:16.049076"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.053059"], ["updated_at", "2023-06-13 15:37:16.053059"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 189], ["libro_id", 243], ["created_at", "2023-06-13 15:37:16.055444"], ["updated_at", "2023-06-13 15:37:16.055444"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/243/mensajes/47" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"243", "id"=>"47"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 189], ["id", 47], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:37:16.064995"], ["id", 47]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/243/mensajes
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1823)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.070141"], ["updated_at", "2023-06-13 15:37:16.070141"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.074012"], ["updated_at", "2023-06-13 15:37:16.074012"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 190], ["libro_id", 244], ["created_at", "2023-06-13 15:37:16.075991"], ["updated_at", "2023-06-13 15:37:16.075991"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/244/mensajes/48" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"244", "id"=>"48"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 244], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 244], ["id", 48], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1199)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3809)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 4231)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.6ms | Allocations: 5419)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.093930"], ["updated_at", "2023-06-13 15:37:16.093930"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.098838"], ["updated_at", "2023-06-13 15:37:16.098838"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 191], ["libro_id", 245], ["created_at", "2023-06-13 15:37:16.101867"], ["updated_at", "2023-06-13 15:37:16.101867"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/245/mensajes/new" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"245"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1113)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2952)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3336)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.2ms | Allocations: 3973)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.115924"], ["updated_at", "2023-06-13 15:37:16.115924"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.120141"], ["updated_at", "2023-06-13 15:37:16.120141"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 192], ["libro_id", 246], ["created_at", "2023-06-13 15:37:16.122380"], ["updated_at", "2023-06-13 15:37:16.122380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/246/mensajes" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"246"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 246]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3229)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3613)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.7ms | Allocations: 4057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.136352"], ["updated_at", "2023-06-13 15:37:16.136352"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.140370"], ["updated_at", "2023-06-13 15:37:16.140370"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 193], ["libro_id", 247], ["created_at", "2023-06-13 15:37:16.142249"], ["updated_at", "2023-06-13 15:37:16.142249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/247/mensajes" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"247"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 193], ["libro_id", 247], ["created_at", "2023-06-13 15:37:16.147914"], ["updated_at", "2023-06-13 15:37:16.147914"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/247/mensajes
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 841)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.152780"], ["updated_at", "2023-06-13 15:37:16.152780"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.156609"], ["updated_at", "2023-06-13 15:37:16.156609"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 194], ["libro_id", 248], ["estado", "E"], ["created_at", "2023-06-13 15:37:16.158934"], ["updated_at", "2023-06-13 15:37:16.158934"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/194/compras/73" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"194", "id"=>"73"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:37:16.168582"], ["id", 73]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/194/compras
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 2011)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.174167"], ["updated_at", "2023-06-13 15:37:16.174167"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.178785"], ["updated_at", "2023-06-13 15:37:16.178785"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 195], ["libro_id", 249], ["estado", "E"], ["created_at", "2023-06-13 15:37:16.181097"], ["updated_at", "2023-06-13 15:37:16.181097"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/195/compras/74" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"195", "id"=>"74"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1199)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 249], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3699)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4121)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.6ms | Allocations: 4959)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.198542"], ["updated_at", "2023-06-13 15:37:16.198542"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.203558"], ["updated_at", "2023-06-13 15:37:16.203558"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 196], ["libro_id", 250], ["estado", "E"], ["created_at", "2023-06-13 15:37:16.205722"], ["updated_at", "2023-06-13 15:37:16.205722"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/196/compras" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"196"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1101)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 196]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3356)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3740)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms | Allocations: 4091)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.218528"], ["updated_at", "2023-06-13 15:37:16.218528"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.222286"], ["updated_at", "2023-06-13 15:37:16.222286"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 197], ["libro_id", 251], ["estado", "E"], ["created_at", "2023-06-13 15:37:16.224270"], ["updated_at", "2023-06-13 15:37:16.224270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/197/compras/76/edit" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"197", "id"=>"76"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered compras/edit.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3376)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3760)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 4180)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:37:16.237319"], ["updated_at", "2023-06-13 15:37:16.237319"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:37:16.241586"], ["updated_at", "2023-06-13 15:37:16.241586"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 198], ["libro_id", 252], ["estado", "E"], ["created_at", "2023-06-13 15:37:16.243535"], ["updated_at", "2023-06-13 15:37:16.243535"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 198], ["libro_id", 252], ["estado", "E"], ["created_at", "2023-06-13 15:37:16.245116"], ["updated_at", "2023-06-13 15:37:16.245116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/198/compras/78" for 127.0.0.1 at 2023-06-13 11:37:16 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"198", "id"=>"78"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 198], ["id", 78], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.1ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 78]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/198/compras
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 717)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:38:59.784309"], ["updated_at", "2023-06-13 15:38:59.784309"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:38:59.977231"], ["updated_at", "2023-06-13 15:38:59.977231"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:38:59.981689"], ["updated_at", "2023-06-13 15:38:59.981689"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.1ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 200], ["libro_id", 253], ["estado", "E"], ["created_at", "2023-06-13 15:39:00.001061"], ["updated_at", "2023-06-13 15:39:00.001061"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/200/compras/79/edit" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"200", "id"=>"79"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.3ms | Allocations: 2316)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 10.8ms | Allocations: 664)
  Rendered compras/edit.html.erb within layouts/application (Duration: 166.0ms | Allocations: 37684)
  Rendered layout layouts/application.html.erb (Duration: 176.3ms | Allocations: 39810)
Completed 200 OK in 192ms (Views: 180.6ms | ActiveRecord: 0.7ms | Allocations: 44870)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.263444"], ["updated_at", "2023-06-13 15:39:00.263444"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.267143"], ["updated_at", "2023-06-13 15:39:00.267143"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 201], ["libro_id", 254], ["estado", "E"], ["created_at", "2023-06-13 15:39:00.269050"], ["updated_at", "2023-06-13 15:39:00.269050"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/201/compras" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"201"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1135)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 201]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3535)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3930)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.2ms | Allocations: 4322)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.282648"], ["updated_at", "2023-06-13 15:39:00.282648"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.286304"], ["updated_at", "2023-06-13 15:39:00.286304"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 202], ["libro_id", 255], ["estado", "E"], ["created_at", "2023-06-13 15:39:00.288157"], ["updated_at", "2023-06-13 15:39:00.288157"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/202/compras/81" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"202", "id"=>"81"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3321)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3705)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.5ms | Allocations: 4125)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.301882"], ["updated_at", "2023-06-13 15:39:00.301882"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.305792"], ["updated_at", "2023-06-13 15:39:00.305792"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 203], ["libro_id", 256], ["estado", "E"], ["created_at", "2023-06-13 15:39:00.307781"], ["updated_at", "2023-06-13 15:39:00.307781"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/203/compras/82" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"203", "id"=>"82"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:39:00.318501"], ["id", 82]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/203/compras
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 1630)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.323879"], ["updated_at", "2023-06-13 15:39:00.323879"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.327819"], ["updated_at", "2023-06-13 15:39:00.327819"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 204], ["libro_id", 257], ["estado", "E"], ["created_at", "2023-06-13 15:39:00.329814"], ["updated_at", "2023-06-13 15:39:00.329814"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 204], ["libro_id", 257], ["estado", "E"], ["created_at", "2023-06-13 15:39:00.331527"], ["updated_at", "2023-06-13 15:39:00.331527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/204/compras/84" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"204", "id"=>"84"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 204], ["id", 84], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 84]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/204/compras
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 718)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.343523"], ["updated_at", "2023-06-13 15:39:00.343523"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 465)
  Rendered home/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3239)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3664)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 4436)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered home/inicio.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3508)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3892)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 4260)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.388726"], ["updated_at", "2023-06-13 15:39:00.388726"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.392713"], ["updated_at", "2023-06-13 15:39:00.392713"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 259], ["user_id", 205], ["created_at", "2023-06-13 15:39:00.395372"], ["updated_at", "2023-06-13 15:39:00.395372"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/259/resenas" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"259"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 12.9ms | Allocations: 1216)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 259]]
  Rendered componentes/_footer.html.erb (Duration: 6.1ms | Allocations: 464)
  Rendered resenas/index.html.erb within layouts/application (Duration: 38.8ms | Allocations: 3775)
  Rendered layout layouts/application.html.erb (Duration: 44.8ms | Allocations: 4197)
Completed 200 OK in 49ms (Views: 46.2ms | ActiveRecord: 0.7ms | Allocations: 5398)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.465466"], ["updated_at", "2023-06-13 15:39:00.465466"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.483998"], ["updated_at", "2023-06-13 15:39:00.483998"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 260], ["user_id", 206], ["created_at", "2023-06-13 15:39:00.502316"], ["updated_at", "2023-06-13 15:39:00.502316"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/260/resenas/new" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"260"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 525)
  Rendered resenas/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 3799)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 4193)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 0.3ms | Allocations: 4859)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.526441"], ["updated_at", "2023-06-13 15:39:00.526441"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.531263"], ["updated_at", "2023-06-13 15:39:00.531263"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 261], ["user_id", 207], ["created_at", "2023-06-13 15:39:00.533694"], ["updated_at", "2023-06-13 15:39:00.533694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/261/resenas/68" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"261", "id"=>"68"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 261], ["id", 68], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1124)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3166)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3551)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.6ms | Allocations: 4441)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.548760"], ["updated_at", "2023-06-13 15:39:00.548760"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.552826"], ["updated_at", "2023-06-13 15:39:00.552826"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 262], ["user_id", 208], ["created_at", "2023-06-13 15:39:00.555001"], ["updated_at", "2023-06-13 15:39:00.555001"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/262/resenas/69" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"262", "id"=>"69"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 208], ["id", 69], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:39:00.561652"], ["id", 69]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/262/resenas
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 1446)
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.566384"], ["updated_at", "2023-06-13 15:39:00.566384"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.569978"], ["updated_at", "2023-06-13 15:39:00.569978"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 263], ["user_id", 209], ["created_at", "2023-06-13 15:39:00.571938"], ["updated_at", "2023-06-13 15:39:00.571938"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/263/resenas" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"263"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 263], ["user_id", 209], ["created_at", "2023-06-13 15:39:00.578495"], ["updated_at", "2023-06-13 15:39:00.578495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/263/resenas
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1124)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.583480"], ["updated_at", "2023-06-13 15:39:00.583480"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.586774"], ["updated_at", "2023-06-13 15:39:00.586774"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3748)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3809)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 4762)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.603397"], ["updated_at", "2023-06-13 15:39:00.603397"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 955)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 522)
  Rendered libros/new.html.erb within layouts/application (Duration: 15.1ms | Allocations: 13346)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 13769)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.0ms | Allocations: 14171)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.626353"], ["updated_at", "2023-06-13 15:39:00.626353"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.628332"], ["updated_at", "2023-06-13 15:39:00.628332"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/268" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"268"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 897)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3191)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3576)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.2ms | Allocations: 4068)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.640737"], ["updated_at", "2023-06-13 15:39:00.640737"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.645850"], ["updated_at", "2023-06-13 15:39:00.645850"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/270
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 853)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.651856"], ["updated_at", "2023-06-13 15:39:00.651856"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/271" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"271"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:39:00.656403"], ["id", 271]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/271
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1011)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.666478"], ["updated_at", "2023-06-13 15:39:00.666478"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1204)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3604)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4026)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 4814)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.692472"], ["updated_at", "2023-06-13 15:39:00.692472"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.698880"], ["updated_at", "2023-06-13 15:39:00.698880"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 211], ["libro_id", 272], ["created_at", "2023-06-13 15:39:00.703693"], ["updated_at", "2023-06-13 15:39:00.703693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/272/mensajes" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"272"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 272], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1216)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 272]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 4174)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 4596)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.9ms | Allocations: 5601)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.733368"], ["updated_at", "2023-06-13 15:39:00.733368"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.738099"], ["updated_at", "2023-06-13 15:39:00.738099"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 212], ["libro_id", 273], ["created_at", "2023-06-13 15:39:00.740541"], ["updated_at", "2023-06-13 15:39:00.740541"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/273/mensajes/new" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"273"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 273], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2954)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3338)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.1ms | Allocations: 3976)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.753946"], ["updated_at", "2023-06-13 15:39:00.753946"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.758151"], ["updated_at", "2023-06-13 15:39:00.758151"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 213], ["libro_id", 274], ["created_at", "2023-06-13 15:39:00.760430"], ["updated_at", "2023-06-13 15:39:00.760430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/274/mensajes/55" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"274", "id"=>"55"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 274], ["id", 55], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2897)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3281)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.5ms | Allocations: 4087)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.776137"], ["updated_at", "2023-06-13 15:39:00.776137"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.784383"], ["updated_at", "2023-06-13 15:39:00.784383"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 214], ["libro_id", 275], ["created_at", "2023-06-13 15:39:00.791881"], ["updated_at", "2023-06-13 15:39:00.791881"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/275/mensajes/56" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"275", "id"=>"56"}
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 214], ["id", 56], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.9ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:39:00.808858"], ["id", 56]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/275/mensajes
Completed 302 Found in 13ms (ActiveRecord: 2.2ms | Allocations: 1415)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:39:00.821292"], ["updated_at", "2023-06-13 15:39:00.821292"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:39:00.828270"], ["updated_at", "2023-06-13 15:39:00.828270"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 215], ["libro_id", 276], ["created_at", "2023-06-13 15:39:00.830716"], ["updated_at", "2023-06-13 15:39:00.830716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/276/mensajes" for 127.0.0.1 at 2023-06-13 11:39:00 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"276"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 215], ["libro_id", 276], ["created_at", "2023-06-13 15:39:00.836600"], ["updated_at", "2023-06-13 15:39:00.836600"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/276/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 827)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:43.784673"], ["updated_at", "2023-06-13 15:40:43.784673"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:43.808451"], ["updated_at", "2023-06-13 15:40:43.808451"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 216], ["libro_id", 277], ["estado", "E"], ["created_at", "2023-06-13 15:40:43.832654"], ["updated_at", "2023-06-13 15:40:43.832654"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 216], ["libro_id", 277], ["estado", "E"], ["created_at", "2023-06-13 15:40:43.835346"], ["updated_at", "2023-06-13 15:40:43.835346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/216/compras/86" for 127.0.0.1 at 2023-06-13 11:40:43 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"216", "id"=>"86"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 216], ["id", 86], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 86]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/216/compras
Completed 302 Found in 9ms (ActiveRecord: 0.7ms | Allocations: 3010)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:43.920072"], ["updated_at", "2023-06-13 15:40:43.920072"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:43.924392"], ["updated_at", "2023-06-13 15:40:43.924392"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 217], ["libro_id", 278], ["estado", "E"], ["created_at", "2023-06-13 15:40:43.926615"], ["updated_at", "2023-06-13 15:40:43.926615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/217/compras/87/edit" for 127.0.0.1 at 2023-06-13 11:40:43 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"217", "id"=>"87"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.6ms | Allocations: 2256)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 664)
  Rendered compras/edit.html.erb within layouts/application (Duration: 200.4ms | Allocations: 36995)
  Rendered layout layouts/application.html.erb (Duration: 203.7ms | Allocations: 39114)
Completed 200 OK in 216ms (Views: 208.7ms | ActiveRecord: 0.5ms | Allocations: 42323)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.151688"], ["updated_at", "2023-06-13 15:40:44.151688"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.156327"], ["updated_at", "2023-06-13 15:40:44.156327"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 218], ["libro_id", 279], ["estado", "E"], ["created_at", "2023-06-13 15:40:44.158661"], ["updated_at", "2023-06-13 15:40:44.158661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/218/compras/88" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"218", "id"=>"88"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1122)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3367)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3752)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.5ms | Allocations: 4222)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.171985"], ["updated_at", "2023-06-13 15:40:44.171985"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.175861"], ["updated_at", "2023-06-13 15:40:44.175861"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 219], ["libro_id", 280], ["estado", "E"], ["created_at", "2023-06-13 15:40:44.177835"], ["updated_at", "2023-06-13 15:40:44.177835"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/219/compras/89" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"219", "id"=>"89"}
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:40:44.183305"], ["id", 89]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/219/compras
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 1294)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.188117"], ["updated_at", "2023-06-13 15:40:44.188117"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.191918"], ["updated_at", "2023-06-13 15:40:44.191918"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 220], ["libro_id", 281], ["estado", "E"], ["created_at", "2023-06-13 15:40:44.194344"], ["updated_at", "2023-06-13 15:40:44.194344"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/220/compras" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"220"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1101)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 220]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3339)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3723)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms | Allocations: 4036)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.208584"], ["updated_at", "2023-06-13 15:40:44.208584"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.212102"], ["updated_at", "2023-06-13 15:40:44.212102"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 282], ["user_id", 221], ["created_at", "2023-06-13 15:40:44.225927"], ["updated_at", "2023-06-13 15:40:44.225927"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/282/resenas" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"282"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 282], ["user_id", 221], ["created_at", "2023-06-13 15:40:44.234670"], ["updated_at", "2023-06-13 15:40:44.234670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/282/resenas
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 1341)
  [1m[36mResena Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.241224"], ["updated_at", "2023-06-13 15:40:44.241224"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.245134"], ["updated_at", "2023-06-13 15:40:44.245134"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 283], ["user_id", 222], ["created_at", "2023-06-13 15:40:44.247304"], ["updated_at", "2023-06-13 15:40:44.247304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/283/resenas" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"283"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 283], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1211)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 283]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered resenas/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3768)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 4190)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.4ms | Allocations: 5060)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.263502"], ["updated_at", "2023-06-13 15:40:44.263502"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.267756"], ["updated_at", "2023-06-13 15:40:44.267756"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 284], ["user_id", 223], ["created_at", "2023-06-13 15:40:44.270259"], ["updated_at", "2023-06-13 15:40:44.270259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/284/resenas/75" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"284", "id"=>"75"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 284], ["id", 75], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3092)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3476)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.7ms | Allocations: 4331)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.284501"], ["updated_at", "2023-06-13 15:40:44.284501"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.288666"], ["updated_at", "2023-06-13 15:40:44.288666"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 285], ["user_id", 224], ["created_at", "2023-06-13 15:40:44.290852"], ["updated_at", "2023-06-13 15:40:44.290852"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/285/resenas/76" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"285", "id"=>"76"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 224], ["id", 76], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:40:44.296838"], ["id", 76]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/285/resenas
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1430)
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.301802"], ["updated_at", "2023-06-13 15:40:44.301802"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.305608"], ["updated_at", "2023-06-13 15:40:44.305608"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 286], ["user_id", 225], ["created_at", "2023-06-13 15:40:44.307541"], ["updated_at", "2023-06-13 15:40:44.307541"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/286/resenas/new" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"286"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered resenas/new.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3791)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 4185)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.1ms | Allocations: 4807)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.323530"], ["updated_at", "2023-06-13 15:40:44.323530"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 11.6ms | Allocations: 4191)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 4616)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms | Allocations: 5425)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2553)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 2937)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 3247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.371186"], ["updated_at", "2023-06-13 15:40:44.371186"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.375787"], ["updated_at", "2023-06-13 15:40:44.375787"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 226], ["libro_id", 288], ["created_at", "2023-06-13 15:40:44.379270"], ["updated_at", "2023-06-13 15:40:44.379270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/288/mensajes" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"288"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 226], ["libro_id", 288], ["created_at", "2023-06-13 15:40:44.388088"], ["updated_at", "2023-06-13 15:40:44.388088"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/288/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1145)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.393904"], ["updated_at", "2023-06-13 15:40:44.393904"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.398420"], ["updated_at", "2023-06-13 15:40:44.398420"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 227], ["libro_id", 289], ["created_at", "2023-06-13 15:40:44.400799"], ["updated_at", "2023-06-13 15:40:44.400799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/289/mensajes" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"289"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1210)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 289]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 4168)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 4590)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.7ms | Allocations: 5462)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.419234"], ["updated_at", "2023-06-13 15:40:44.419234"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.424846"], ["updated_at", "2023-06-13 15:40:44.424846"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 228], ["libro_id", 290], ["created_at", "2023-06-13 15:40:44.427859"], ["updated_at", "2023-06-13 15:40:44.427859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/290/mensajes/62" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"290", "id"=>"62"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 290], ["id", 62], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1102)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2901)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3285)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.5ms | Allocations: 4136)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.442977"], ["updated_at", "2023-06-13 15:40:44.442977"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.446988"], ["updated_at", "2023-06-13 15:40:44.446988"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 229], ["libro_id", 291], ["created_at", "2023-06-13 15:40:44.449481"], ["updated_at", "2023-06-13 15:40:44.449481"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/291/mensajes/63" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"291", "id"=>"63"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 229], ["id", 63], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:40:44.457281"], ["id", 63]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/291/mensajes
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1402)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.463949"], ["updated_at", "2023-06-13 15:40:44.463949"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.468318"], ["updated_at", "2023-06-13 15:40:44.468318"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 230], ["libro_id", 292], ["created_at", "2023-06-13 15:40:44.470715"], ["updated_at", "2023-06-13 15:40:44.470715"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/292/mensajes/new" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"292"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2951)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 3335)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.2ms | Allocations: 3928)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.483342"], ["updated_at", "2023-06-13 15:40:44.483342"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.490292"], ["updated_at", "2023-06-13 15:40:44.490292"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/294
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1082)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.496408"], ["updated_at", "2023-06-13 15:40:44.496408"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.499632"], ["updated_at", "2023-06-13 15:40:44.499632"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 963)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 522)
  Rendered libros/new.html.erb within layouts/application (Duration: 19.3ms | Allocations: 13727)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 14152)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.0ms | Allocations: 14894)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.527215"], ["updated_at", "2023-06-13 15:40:44.527215"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.529038"], ["updated_at", "2023-06-13 15:40:44.529038"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/298" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"298"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 897)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3189)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3574)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms | Allocations: 4065)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.542099"], ["updated_at", "2023-06-13 15:40:44.542099"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/299" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"299"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:40:44.546831"], ["id", 299]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/299
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1034)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:40:44.552702"], ["updated_at", "2023-06-13 15:40:44.552702"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3284)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3342)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3786)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.568028"], ["updated_at", "2023-06-13 15:40:44.568028"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:40:44.575164"], ["updated_at", "2023-06-13 15:40:44.575164"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:40:44 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3600)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 4022)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 4809)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:29.833682"], ["updated_at", "2023-06-13 15:45:29.833682"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:29.860391"], ["updated_at", "2023-06-13 15:45:29.860391"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 301], ["user_id", 233], ["created_at", "2023-06-13 15:45:29.882331"], ["updated_at", "2023-06-13 15:45:29.882331"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/301/resenas" for 127.0.0.1 at 2023-06-13 11:45:29 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"301"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 301], ["user_id", 233], ["created_at", "2023-06-13 15:45:29.956344"], ["updated_at", "2023-06-13 15:45:29.956344"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/301/resenas
Completed 302 Found in 10ms (ActiveRecord: 1.0ms | Allocations: 3375)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:29.966291"], ["updated_at", "2023-06-13 15:45:29.966291"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:29.971591"], ["updated_at", "2023-06-13 15:45:29.971591"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 302], ["user_id", 234], ["created_at", "2023-06-13 15:45:29.974517"], ["updated_at", "2023-06-13 15:45:29.974517"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/302/resenas/new" for 127.0.0.1 at 2023-06-13 11:45:29 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"302"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.6ms | Allocations: 2280)
  Rendered componentes/_footer.html.erb (Duration: 11.7ms | Allocations: 663)
  Rendered resenas/new.html.erb within layouts/application (Duration: 193.6ms | Allocations: 37100)
  Rendered layout layouts/application.html.erb (Duration: 207.7ms | Allocations: 39220)
Completed 200 OK in 220ms (Views: 213.2ms | ActiveRecord: 0.2ms | Allocations: 42447)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.205940"], ["updated_at", "2023-06-13 15:45:30.205940"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.211075"], ["updated_at", "2023-06-13 15:45:30.211075"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 303], ["user_id", 235], ["created_at", "2023-06-13 15:45:30.213586"], ["updated_at", "2023-06-13 15:45:30.213586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/303/resenas" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"303"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1133)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 303]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3122)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 3507)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.5ms | Allocations: 4007)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.231269"], ["updated_at", "2023-06-13 15:45:30.231269"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.236385"], ["updated_at", "2023-06-13 15:45:30.236385"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 304], ["user_id", 236], ["created_at", "2023-06-13 15:45:30.238573"], ["updated_at", "2023-06-13 15:45:30.238573"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/304/resenas/82" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"304", "id"=>"82"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 304], ["id", 82], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3231)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 3615)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.7ms | Allocations: 4453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.254195"], ["updated_at", "2023-06-13 15:45:30.254195"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.258205"], ["updated_at", "2023-06-13 15:45:30.258205"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 305], ["user_id", 237], ["created_at", "2023-06-13 15:45:30.260317"], ["updated_at", "2023-06-13 15:45:30.260317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/305/resenas/83" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"305", "id"=>"83"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 237], ["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 305], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:45:30.266984"], ["id", 83]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/305/resenas
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1598)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.272899"], ["updated_at", "2023-06-13 15:45:30.272899"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 522)
  Rendered libros/new.html.erb within layouts/application (Duration: 18.9ms | Allocations: 14091)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | Allocations: 14516)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.0ms | Allocations: 15319)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.302975"], ["updated_at", "2023-06-13 15:45:30.302975"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/307" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"307"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:45:30.308141"], ["id", 307]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/307
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1130)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.313061"], ["updated_at", "2023-06-13 15:45:30.313061"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.317894"], ["updated_at", "2023-06-13 15:45:30.317894"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/309
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 777)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.323232"], ["updated_at", "2023-06-13 15:45:30.323232"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3314)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 3373)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3907)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.335046"], ["updated_at", "2023-06-13 15:45:30.335046"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/311/edit" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"311"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 907)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered libros/edit.html.erb within layouts/application (Duration: 15.1ms | Allocations: 12886)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 13280)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.1ms | Allocations: 13787)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.359519"], ["updated_at", "2023-06-13 15:45:30.359519"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.361539"], ["updated_at", "2023-06-13 15:45:30.361539"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/313" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"313"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 313], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3082)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3466)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.2ms | Allocations: 3880)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 967)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4111)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 4536)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms | Allocations: 5345)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2552)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 2936)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 3245)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.406863"], ["updated_at", "2023-06-13 15:45:30.406863"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3601)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 4023)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms | Allocations: 4811)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.426399"], ["updated_at", "2023-06-13 15:45:30.426399"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.432500"], ["updated_at", "2023-06-13 15:45:30.432500"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 239], ["libro_id", 314], ["created_at", "2023-06-13 15:45:30.436168"], ["updated_at", "2023-06-13 15:45:30.436168"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/314/mensajes" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"314"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 239], ["libro_id", 314], ["created_at", "2023-06-13 15:45:30.448547"], ["updated_at", "2023-06-13 15:45:30.448547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/314/mensajes
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1146)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.457445"], ["updated_at", "2023-06-13 15:45:30.457445"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.462765"], ["updated_at", "2023-06-13 15:45:30.462765"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 240], ["libro_id", 315], ["created_at", "2023-06-13 15:45:30.465902"], ["updated_at", "2023-06-13 15:45:30.465902"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/315/mensajes/new" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"315"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3531)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3952)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.2ms | Allocations: 4983)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.482501"], ["updated_at", "2023-06-13 15:45:30.482501"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.487495"], ["updated_at", "2023-06-13 15:45:30.487495"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 241], ["libro_id", 316], ["created_at", "2023-06-13 15:45:30.490902"], ["updated_at", "2023-06-13 15:45:30.490902"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/316/mensajes" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"316"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 316]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3447)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3831)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.7ms | Allocations: 4329)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.508038"], ["updated_at", "2023-06-13 15:45:30.508038"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.512042"], ["updated_at", "2023-06-13 15:45:30.512042"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 242], ["libro_id", 317], ["created_at", "2023-06-13 15:45:30.514140"], ["updated_at", "2023-06-13 15:45:30.514140"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/317/mensajes/69" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"317", "id"=>"69"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 317], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 317], ["id", 69], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2898)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3282)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.6ms | Allocations: 4086)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.528680"], ["updated_at", "2023-06-13 15:45:30.528680"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.532658"], ["updated_at", "2023-06-13 15:45:30.532658"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 243], ["libro_id", 318], ["created_at", "2023-06-13 15:45:30.534972"], ["updated_at", "2023-06-13 15:45:30.534972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/318/mensajes/70" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"318", "id"=>"70"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 243], ["id", 70], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:45:30.541834"], ["id", 70]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/318/mensajes
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1402)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.547024"], ["updated_at", "2023-06-13 15:45:30.547024"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.550925"], ["updated_at", "2023-06-13 15:45:30.550925"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 244], ["libro_id", 319], ["estado", "E"], ["created_at", "2023-06-13 15:45:30.563364"], ["updated_at", "2023-06-13 15:45:30.563364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 244], ["libro_id", 319], ["estado", "E"], ["created_at", "2023-06-13 15:45:30.565701"], ["updated_at", "2023-06-13 15:45:30.565701"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/244/compras/92" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"244", "id"=>"92"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 244], ["id", 92], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 92]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/244/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1032)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.577533"], ["updated_at", "2023-06-13 15:45:30.577533"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.581896"], ["updated_at", "2023-06-13 15:45:30.581896"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 245], ["libro_id", 320], ["estado", "E"], ["created_at", "2023-06-13 15:45:30.584168"], ["updated_at", "2023-06-13 15:45:30.584168"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/245/compras" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"245"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1194)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 245]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered compras/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 4066)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4488)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.2ms | Allocations: 5229)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.599927"], ["updated_at", "2023-06-13 15:45:30.599927"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.604194"], ["updated_at", "2023-06-13 15:45:30.604194"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 246], ["libro_id", 321], ["estado", "E"], ["created_at", "2023-06-13 15:45:30.606539"], ["updated_at", "2023-06-13 15:45:30.606539"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/246/compras/94/edit" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"246", "id"=>"94"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/edit.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3546)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3930)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.4ms | Allocations: 4500)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.620166"], ["updated_at", "2023-06-13 15:45:30.620166"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.624886"], ["updated_at", "2023-06-13 15:45:30.624886"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 247], ["libro_id", 322], ["estado", "E"], ["created_at", "2023-06-13 15:45:30.627306"], ["updated_at", "2023-06-13 15:45:30.627306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/247/compras/95" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"247", "id"=>"95"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3160)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3544)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.8ms | Allocations: 3956)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.643399"], ["updated_at", "2023-06-13 15:45:30.643399"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.647932"], ["updated_at", "2023-06-13 15:45:30.647932"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 248], ["libro_id", 323], ["estado", "E"], ["created_at", "2023-06-13 15:45:30.650262"], ["updated_at", "2023-06-13 15:45:30.650262"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/248/compras/96" for 127.0.0.1 at 2023-06-13 11:45:30 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"248", "id"=>"96"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:45:30.656572"], ["id", 96]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/248/compras
Completed 302 Found in 5ms (ActiveRecord: 1.1ms | Allocations: 1172)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:45:30.663408"], ["updated_at", "2023-06-13 15:45:30.663408"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:45:30.671494"], ["updated_at", "2023-06-13 15:45:30.671494"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:25.553505"], ["updated_at", "2023-06-13 15:46:25.553505"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:25.576915"], ["updated_at", "2023-06-13 15:46:25.576915"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 250], ["libro_id", 325], ["created_at", "2023-06-13 15:46:25.604342"], ["updated_at", "2023-06-13 15:46:25.604342"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/325/mensajes" for 127.0.0.1 at 2023-06-13 11:46:25 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"325"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 250], ["libro_id", 325], ["created_at", "2023-06-13 15:46:25.688232"], ["updated_at", "2023-06-13 15:46:25.688232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/325/mensajes
Completed 302 Found in 10ms (ActiveRecord: 0.9ms | Allocations: 3353)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:25.697152"], ["updated_at", "2023-06-13 15:46:25.697152"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:25.701761"], ["updated_at", "2023-06-13 15:46:25.701761"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 251], ["libro_id", 326], ["created_at", "2023-06-13 15:46:25.703897"], ["updated_at", "2023-06-13 15:46:25.703897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/326/mensajes/73" for 127.0.0.1 at 2023-06-13 11:46:25 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"326", "id"=>"73"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 251], ["id", 73], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:46:25.711623"], ["id", 73]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/326/mensajes
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 1836)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:25.717880"], ["updated_at", "2023-06-13 15:46:25.717880"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:25.722421"], ["updated_at", "2023-06-13 15:46:25.722421"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 252], ["libro_id", 327], ["created_at", "2023-06-13 15:46:25.725006"], ["updated_at", "2023-06-13 15:46:25.725006"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/327/mensajes/new" for 127.0.0.1 at 2023-06-13 11:46:25 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"327"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.7ms | Allocations: 2277)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 664)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 145.0ms | Allocations: 36679)
  Rendered layout layouts/application.html.erb (Duration: 148.3ms | Allocations: 38802)
Completed 200 OK in 160ms (Views: 153.2ms | ActiveRecord: 0.4ms | Allocations: 42027)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:25.896656"], ["updated_at", "2023-06-13 15:46:25.896656"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:25.902657"], ["updated_at", "2023-06-13 15:46:25.902657"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 253], ["libro_id", 328], ["created_at", "2023-06-13 15:46:25.906737"], ["updated_at", "2023-06-13 15:46:25.906737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/328/mensajes/75" for 127.0.0.1 at 2023-06-13 11:46:25 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"328", "id"=>"75"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 328], ["id", 75], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1122)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 13.9ms | Allocations: 3228)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 3613)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 0.9ms | Allocations: 4434)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:25.934285"], ["updated_at", "2023-06-13 15:46:25.934285"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:25.939080"], ["updated_at", "2023-06-13 15:46:25.939080"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 254], ["libro_id", 329], ["created_at", "2023-06-13 15:46:25.941513"], ["updated_at", "2023-06-13 15:46:25.941513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/329/mensajes" for 127.0.0.1 at 2023-06-13 11:46:25 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"329"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 329]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3253)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3637)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.6ms | Allocations: 4081)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:25.960606"], ["updated_at", "2023-06-13 15:46:25.960606"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:25.979569"], ["updated_at", "2023-06-13 15:46:25.979569"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:25.983979"], ["updated_at", "2023-06-13 15:46:25.983979"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 330], ["user_id", 256], ["created_at", "2023-06-13 15:46:25.986741"], ["updated_at", "2023-06-13 15:46:25.986741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/330/resenas" for 127.0.0.1 at 2023-06-13 11:46:25 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"330"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 330], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 330], ["user_id", 256], ["created_at", "2023-06-13 15:46:25.994938"], ["updated_at", "2023-06-13 15:46:25.994938"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/330/resenas
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1170)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.000226"], ["updated_at", "2023-06-13 15:46:26.000226"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.004730"], ["updated_at", "2023-06-13 15:46:26.004730"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 331], ["user_id", 257], ["created_at", "2023-06-13 15:46:26.007728"], ["updated_at", "2023-06-13 15:46:26.007728"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/331/resenas/86" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"331", "id"=>"86"}
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 257], ["id", 86], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 331], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:46:26.014564"], ["id", 86]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/331/resenas
Completed 302 Found in 6ms (ActiveRecord: 0.8ms | Allocations: 1527)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.020745"], ["updated_at", "2023-06-13 15:46:26.020745"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.025404"], ["updated_at", "2023-06-13 15:46:26.025404"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 332], ["user_id", 258], ["created_at", "2023-06-13 15:46:26.027982"], ["updated_at", "2023-06-13 15:46:26.027982"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/332/resenas/new" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"332"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 522)
  Rendered resenas/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 4085)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 4506)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.2ms | Allocations: 5538)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.044801"], ["updated_at", "2023-06-13 15:46:26.044801"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.049830"], ["updated_at", "2023-06-13 15:46:26.049830"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 333], ["user_id", 259], ["created_at", "2023-06-13 15:46:26.052092"], ["updated_at", "2023-06-13 15:46:26.052092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/333/resenas/88" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"333", "id"=>"88"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 333], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 333], ["id", 88], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1122)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3142)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3527)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.6ms | Allocations: 4367)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.066624"], ["updated_at", "2023-06-13 15:46:26.066624"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.070795"], ["updated_at", "2023-06-13 15:46:26.070795"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 334], ["user_id", 260], ["created_at", "2023-06-13 15:46:26.072870"], ["updated_at", "2023-06-13 15:46:26.072870"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/334/resenas" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"334"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 334]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2995)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3379)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.3ms | Allocations: 3823)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered home/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3237)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3662)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 4433)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered home/inicio.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3508)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3892)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 4260)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.115677"], ["updated_at", "2023-06-13 15:46:26.115677"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.121193"], ["updated_at", "2023-06-13 15:46:26.121193"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 261], ["libro_id", 335], ["estado", "E"], ["created_at", "2023-06-13 15:46:26.133570"], ["updated_at", "2023-06-13 15:46:26.133570"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 261], ["libro_id", 335], ["estado", "E"], ["created_at", "2023-06-13 15:46:26.136189"], ["updated_at", "2023-06-13 15:46:26.136189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/261/compras/98" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"261", "id"=>"98"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 261], ["id", 98], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 98]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/261/compras
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1033)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.148297"], ["updated_at", "2023-06-13 15:46:26.148297"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.153197"], ["updated_at", "2023-06-13 15:46:26.153197"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 262], ["libro_id", 336], ["estado", "E"], ["created_at", "2023-06-13 15:46:26.155783"], ["updated_at", "2023-06-13 15:46:26.155783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/262/compras/99" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"262", "id"=>"99"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:46:26.163760"], ["id", 99]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/262/compras
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1626)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.168833"], ["updated_at", "2023-06-13 15:46:26.168833"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.173330"], ["updated_at", "2023-06-13 15:46:26.173330"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 263], ["libro_id", 337], ["estado", "E"], ["created_at", "2023-06-13 15:46:26.175680"], ["updated_at", "2023-06-13 15:46:26.175680"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/263/compras" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"263"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1194)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 263]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered compras/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 4059)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 4481)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.2ms | Allocations: 5220)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.193840"], ["updated_at", "2023-06-13 15:46:26.193840"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.198132"], ["updated_at", "2023-06-13 15:46:26.198132"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 264], ["libro_id", 338], ["estado", "E"], ["created_at", "2023-06-13 15:46:26.201923"], ["updated_at", "2023-06-13 15:46:26.201923"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/264/compras/101" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"264", "id"=>"101"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1102)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2997)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3381)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.8ms | Allocations: 3838)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.217795"], ["updated_at", "2023-06-13 15:46:26.217795"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.223057"], ["updated_at", "2023-06-13 15:46:26.223057"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 265], ["libro_id", 339], ["estado", "E"], ["created_at", "2023-06-13 15:46:26.225479"], ["updated_at", "2023-06-13 15:46:26.225479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/265/compras/102/edit" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"265", "id"=>"102"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered compras/edit.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3691)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 4085)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.5ms | Allocations: 4524)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:46:26.242902"], ["updated_at", "2023-06-13 15:46:26.242902"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3600)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 4022)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 4809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.260042"], ["updated_at", "2023-06-13 15:46:26.260042"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/340/edit" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"340"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 340], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 968)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered libros/edit.html.erb within layouts/application (Duration: 17.4ms | Allocations: 13535)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 13957)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.2ms | Allocations: 14937)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.289423"], ["updated_at", "2023-06-13 15:46:26.289423"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/341" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"341"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.2ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:46:26.294298"], ["id", 341]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/341
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1118)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.299199"], ["updated_at", "2023-06-13 15:46:26.299199"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 14.8ms | Allocations: 12840)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 13237)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.0ms | Allocations: 13596)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.321483"], ["updated_at", "2023-06-13 15:46:26.321483"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.326601"], ["updated_at", "2023-06-13 15:46:26.326601"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/344
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 820)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.332843"], ["updated_at", "2023-06-13 15:46:26.332843"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.334769"], ["updated_at", "2023-06-13 15:46:26.334769"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/346" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"346"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 890)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3165)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3550)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms | Allocations: 4020)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.347144"], ["updated_at", "2023-06-13 15:46:26.347144"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3284)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3342)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3786)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.362129"], ["updated_at", "2023-06-13 15:46:26.362129"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/348" for 127.0.0.1 at 2023-06-13 11:46:26 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"348"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 348], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 348]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 348]]
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 348]]
  [1m[36mLibro Destroy (0.6ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 348]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 7ms (ActiveRecord: 1.5ms | Allocations: 1566)
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:46:26.380123"], ["updated_at", "2023-06-13 15:46:26.380123"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.334912"], ["updated_at", "2023-06-13 15:48:11.334912"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.360043"], ["updated_at", "2023-06-13 15:48:11.360043"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 267], ["libro_id", 350], ["estado", "E"], ["created_at", "2023-06-13 15:48:11.383384"], ["updated_at", "2023-06-13 15:48:11.383384"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/267/compras" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"267"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 17.6ms | Allocations: 2310)
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 267]]
  Rendered componentes/_footer.html.erb (Duration: 11.9ms | Allocations: 571)
  Rendered compras/index.html.erb within layouts/application (Duration: 153.4ms | Allocations: 35113)
  Rendered layout layouts/application.html.erb (Duration: 167.6ms | Allocations: 37243)
Completed 200 OK in 181ms (Views: 171.5ms | ActiveRecord: 0.7ms | Allocations: 41705)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.641664"], ["updated_at", "2023-06-13 15:48:11.641664"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.647384"], ["updated_at", "2023-06-13 15:48:11.647384"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 268], ["libro_id", 351], ["estado", "E"], ["created_at", "2023-06-13 15:48:11.649913"], ["updated_at", "2023-06-13 15:48:11.649913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/268/compras/104/edit" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"268", "id"=>"104"}
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1136)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered compras/edit.html.erb within layouts/application (Duration: 16.0ms | Allocations: 6207)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 6602)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.3ms | Allocations: 7289)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.674176"], ["updated_at", "2023-06-13 15:48:11.674176"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.678393"], ["updated_at", "2023-06-13 15:48:11.678393"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 269], ["libro_id", 352], ["estado", "E"], ["created_at", "2023-06-13 15:48:11.680547"], ["updated_at", "2023-06-13 15:48:11.680547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/269/compras/105" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"269", "id"=>"105"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 352], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:48:11.692427"], ["id", 105]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/269/compras
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 1977)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.697198"], ["updated_at", "2023-06-13 15:48:11.697198"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.700675"], ["updated_at", "2023-06-13 15:48:11.700675"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 270], ["libro_id", 353], ["estado", "E"], ["created_at", "2023-06-13 15:48:11.702489"], ["updated_at", "2023-06-13 15:48:11.702489"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 270], ["libro_id", 353], ["estado", "E"], ["created_at", "2023-06-13 15:48:11.703922"], ["updated_at", "2023-06-13 15:48:11.703922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/270/compras/107" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"270", "id"=>"107"}
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 270], ["id", 107], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.1ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 107]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/270/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 718)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.713425"], ["updated_at", "2023-06-13 15:48:11.713425"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.717481"], ["updated_at", "2023-06-13 15:48:11.717481"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 271], ["libro_id", 354], ["estado", "E"], ["created_at", "2023-06-13 15:48:11.719478"], ["updated_at", "2023-06-13 15:48:11.719478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/271/compras/108" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"271", "id"=>"108"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1124)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 354], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3117)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 3511)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.6ms | Allocations: 3981)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.9ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered home/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3238)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3663)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 4435)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered home/inicio.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3508)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3892)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 4260)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.762907"], ["updated_at", "2023-06-13 15:48:11.762907"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.767090"], ["updated_at", "2023-06-13 15:48:11.767090"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 355], ["user_id", 272], ["created_at", "2023-06-13 15:48:11.770954"], ["updated_at", "2023-06-13 15:48:11.770954"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/355/resenas/new" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"355"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.5ms | Allocations: 1216)
  Rendered componentes/_footer.html.erb (Duration: 6.1ms | Allocations: 522)
  Rendered resenas/new.html.erb within layouts/application (Duration: 31.0ms | Allocations: 4378)
  Rendered layout layouts/application.html.erb (Duration: 36.6ms | Allocations: 4799)
Completed 200 OK in 40ms (Views: 38.0ms | ActiveRecord: 0.3ms | Allocations: 6192)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.835332"], ["updated_at", "2023-06-13 15:48:11.835332"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.853073"], ["updated_at", "2023-06-13 15:48:11.853073"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 356], ["user_id", 273], ["created_at", "2023-06-13 15:48:11.861311"], ["updated_at", "2023-06-13 15:48:11.861311"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/356/resenas" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"356"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1133)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 356]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3117)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 3502)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.6ms | Allocations: 4021)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.890522"], ["updated_at", "2023-06-13 15:48:11.890522"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.894763"], ["updated_at", "2023-06-13 15:48:11.894763"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 357], ["user_id", 274], ["created_at", "2023-06-13 15:48:11.896917"], ["updated_at", "2023-06-13 15:48:11.896917"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/357/resenas/92" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"357", "id"=>"92"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 274], ["id", 92], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 357], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:48:11.904010"], ["id", 92]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/357/resenas
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1503)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.909145"], ["updated_at", "2023-06-13 15:48:11.909145"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.913065"], ["updated_at", "2023-06-13 15:48:11.913065"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 358], ["user_id", 275], ["created_at", "2023-06-13 15:48:11.915133"], ["updated_at", "2023-06-13 15:48:11.915133"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/358/resenas" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"358"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 358], ["user_id", 275], ["created_at", "2023-06-13 15:48:11.921514"], ["updated_at", "2023-06-13 15:48:11.921514"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/358/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1124)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.926589"], ["updated_at", "2023-06-13 15:48:11.926589"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.930908"], ["updated_at", "2023-06-13 15:48:11.930908"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 359], ["user_id", 276], ["created_at", "2023-06-13 15:48:11.933071"], ["updated_at", "2023-06-13 15:48:11.933071"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/359/resenas/95" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"359", "id"=>"95"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 359], ["LIMIT", 1]]
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 359], ["id", 95], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1128)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3220)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3614)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.5ms | Allocations: 4438)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.948032"], ["updated_at", "2023-06-13 15:48:11.948032"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.952915"], ["updated_at", "2023-06-13 15:48:11.952915"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3606)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 4028)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 4816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.973143"], ["updated_at", "2023-06-13 15:48:11.973143"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:11.978954"], ["updated_at", "2023-06-13 15:48:11.978954"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:11.984368"], ["updated_at", "2023-06-13 15:48:11.984368"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 279], ["libro_id", 361], ["created_at", "2023-06-13 15:48:11.987374"], ["updated_at", "2023-06-13 15:48:11.987374"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/361/mensajes" for 127.0.0.1 at 2023-06-13 11:48:11 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"361"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 361], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1216)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 361]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4176)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4598)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.8ms | Allocations: 5603)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.007379"], ["updated_at", "2023-06-13 15:48:12.007379"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:12.011553"], ["updated_at", "2023-06-13 15:48:12.011553"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 280], ["libro_id", 362], ["created_at", "2023-06-13 15:48:12.014279"], ["updated_at", "2023-06-13 15:48:12.014279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/362/mensajes/78" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"362", "id"=>"78"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 362], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 362], ["id", 78], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 78]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/362/mensajes
Completed 303 See Other in 3ms (ActiveRecord: 0.6ms | Allocations: 897)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.024080"], ["updated_at", "2023-06-13 15:48:12.024080"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:12.027469"], ["updated_at", "2023-06-13 15:48:12.027469"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 281], ["libro_id", 363], ["created_at", "2023-06-13 15:48:12.029963"], ["updated_at", "2023-06-13 15:48:12.029963"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/363/mensajes/79" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"363", "id"=>"79"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 363], ["id", 79], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2900)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3284)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.6ms | Allocations: 4063)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.042669"], ["updated_at", "2023-06-13 15:48:12.042669"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:12.046757"], ["updated_at", "2023-06-13 15:48:12.046757"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 282], ["libro_id", 364], ["created_at", "2023-06-13 15:48:12.049012"], ["updated_at", "2023-06-13 15:48:12.049012"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/364/mensajes" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"364"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 282], ["libro_id", 364], ["created_at", "2023-06-13 15:48:12.054184"], ["updated_at", "2023-06-13 15:48:12.054184"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/364/mensajes
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 836)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.058393"], ["updated_at", "2023-06-13 15:48:12.058393"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:12.062002"], ["updated_at", "2023-06-13 15:48:12.062002"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 283], ["libro_id", 365], ["created_at", "2023-06-13 15:48:12.064306"], ["updated_at", "2023-06-13 15:48:12.064306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/365/mensajes/new" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"365"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2952)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 3336)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms | Allocations: 3930)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.075354"], ["updated_at", "2023-06-13 15:48:12.075354"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:48:12.079244"], ["updated_at", "2023-06-13 15:48:12.079244"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 284], ["libro_id", 366], ["created_at", "2023-06-13 15:48:12.081549"], ["updated_at", "2023-06-13 15:48:12.081549"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/366/mensajes/83" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"366", "id"=>"83"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 284], ["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.2ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:48:12.088090"], ["id", 83]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/366/mensajes
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 1368)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.092778"], ["updated_at", "2023-06-13 15:48:12.092778"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/367" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"367"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.4ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:48:12.099564"], ["id", 367]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/367
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 1322)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.105486"], ["updated_at", "2023-06-13 15:48:12.105486"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/368" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"368"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 368]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 368]]
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 368]]
  [1m[36mLibro Destroy (0.5ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 368]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 5ms (ActiveRecord: 1.2ms | Allocations: 1476)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.116969"], ["updated_at", "2023-06-13 15:48:12.116969"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/369/edit" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"369"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 963)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered libros/edit.html.erb within layouts/application (Duration: 18.5ms | Allocations: 13527)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 13949)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.1ms | Allocations: 14798)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.144622"], ["updated_at", "2023-06-13 15:48:12.144622"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.149846"], ["updated_at", "2023-06-13 15:48:12.149846"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/371
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 808)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.155615"], ["updated_at", "2023-06-13 15:48:12.155615"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 20.0ms | Allocations: 12840)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 13237)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.0ms | Allocations: 13595)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.184703"], ["updated_at", "2023-06-13 15:48:12.184703"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 3323)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 3382)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3927)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.203624"], ["updated_at", "2023-06-13 15:48:12.203624"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:48:12.206961"], ["updated_at", "2023-06-13 15:48:12.206961"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/375" for 127.0.0.1 at 2023-06-13 11:48:12 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"375"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 907)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3262)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3657)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.4ms | Allocations: 4164)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:21.696626"], ["updated_at", "2023-06-13 15:50:21.696626"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:50:21 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.5ms | Allocations: 2323)
  Rendered componentes/_footer.html.erb (Duration: 3.4ms | Allocations: 571)
  Rendered users/show.html.erb within layouts/application (Duration: 116.0ms | Allocations: 34494)
  Rendered layout layouts/application.html.erb (Duration: 136.0ms | Allocations: 36625)
Completed 200 OK in 149ms (Views: 140.2ms | ActiveRecord: 0.0ms | Allocations: 41075)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:21.945642"], ["updated_at", "2023-06-13 15:50:21.945642"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:21.950043"], ["updated_at", "2023-06-13 15:50:21.950043"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 376], ["user_id", 286], ["created_at", "2023-06-13 15:50:21.971572"], ["updated_at", "2023-06-13 15:50:21.971572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/376/resenas" for 127.0.0.1 at 2023-06-13 11:50:21 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"376"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1221)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 376]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered resenas/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3867)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 4289)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.7ms | Allocations: 5723)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:21.992479"], ["updated_at", "2023-06-13 15:50:21.992479"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:21.996930"], ["updated_at", "2023-06-13 15:50:21.996930"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 377], ["user_id", 287], ["created_at", "2023-06-13 15:50:21.999135"], ["updated_at", "2023-06-13 15:50:21.999135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/377/resenas/new" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"377"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered resenas/new.html.erb within layouts/application (Duration: 17.0ms | Allocations: 5827)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 6221)
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.2ms | Allocations: 6887)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.024352"], ["updated_at", "2023-06-13 15:50:22.024352"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.028997"], ["updated_at", "2023-06-13 15:50:22.028997"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 378], ["user_id", 288], ["created_at", "2023-06-13 15:50:22.031285"], ["updated_at", "2023-06-13 15:50:22.031285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/378/resenas/98" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"378", "id"=>"98"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 378], ["id", 98], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1122)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3304)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3689)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.6ms | Allocations: 4608)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.046038"], ["updated_at", "2023-06-13 15:50:22.046038"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.049815"], ["updated_at", "2023-06-13 15:50:22.049815"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 379], ["user_id", 289], ["created_at", "2023-06-13 15:50:22.052145"], ["updated_at", "2023-06-13 15:50:22.052145"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/379/resenas" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"379"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 379], ["user_id", 289], ["created_at", "2023-06-13 15:50:22.064929"], ["updated_at", "2023-06-13 15:50:22.064929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/379/resenas
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1205)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.069934"], ["updated_at", "2023-06-13 15:50:22.069934"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.073751"], ["updated_at", "2023-06-13 15:50:22.073751"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 380], ["user_id", 290], ["created_at", "2023-06-13 15:50:22.075665"], ["updated_at", "2023-06-13 15:50:22.075665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/380/resenas/101" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"380", "id"=>"101"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 290], ["id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 380], ["LIMIT", 1]]
  [1m[36mResena Update (0.2ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:50:22.082477"], ["id", 101]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/380/resenas
Completed 302 Found in 6ms (ActiveRecord: 0.7ms | Allocations: 1603)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.100992"], ["updated_at", "2023-06-13 15:50:22.100992"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.105645"], ["updated_at", "2023-06-13 15:50:22.105645"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.109248"], ["updated_at", "2023-06-13 15:50:22.109248"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 292], ["libro_id", 381], ["estado", "E"], ["created_at", "2023-06-13 15:50:22.111856"], ["updated_at", "2023-06-13 15:50:22.111856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/292/compras/109/edit" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"292", "id"=>"109"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1208)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 522)
  Rendered compras/edit.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4606)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 5027)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.6ms | Allocations: 6231)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.147580"], ["updated_at", "2023-06-13 15:50:22.147580"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (4.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.159575"], ["updated_at", "2023-06-13 15:50:22.159575"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 293], ["libro_id", 382], ["estado", "E"], ["created_at", "2023-06-13 15:50:22.166477"], ["updated_at", "2023-06-13 15:50:22.166477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/293/compras" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"293"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 14.8ms | Allocations: 1121)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 293]]
  Rendered componentes/_footer.html.erb (Duration: 3.3ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 42.3ms | Allocations: 3423)
  Rendered layout layouts/application.html.erb (Duration: 43.5ms | Allocations: 3808)
Completed 200 OK in 45ms (Views: 43.7ms | ActiveRecord: 0.2ms | Allocations: 4180)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.231020"], ["updated_at", "2023-06-13 15:50:22.231020"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.235550"], ["updated_at", "2023-06-13 15:50:22.235550"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 294], ["libro_id", 383], ["estado", "E"], ["created_at", "2023-06-13 15:50:22.238155"], ["updated_at", "2023-06-13 15:50:22.238155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/294/compras/111" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"294", "id"=>"111"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 1107)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3174)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 3558)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.8ms | Allocations: 3978)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.258759"], ["updated_at", "2023-06-13 15:50:22.258759"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.263238"], ["updated_at", "2023-06-13 15:50:22.263238"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 295], ["libro_id", 384], ["estado", "E"], ["created_at", "2023-06-13 15:50:22.265908"], ["updated_at", "2023-06-13 15:50:22.265908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 295], ["libro_id", 384], ["estado", "E"], ["created_at", "2023-06-13 15:50:22.267892"], ["updated_at", "2023-06-13 15:50:22.267892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/295/compras/113" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"295", "id"=>"113"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 295], ["id", 113], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 113]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/295/compras
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 752)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.277949"], ["updated_at", "2023-06-13 15:50:22.277949"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.282447"], ["updated_at", "2023-06-13 15:50:22.282447"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 296], ["libro_id", 385], ["estado", "E"], ["created_at", "2023-06-13 15:50:22.284423"], ["updated_at", "2023-06-13 15:50:22.284423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/296/compras/114" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"296", "id"=>"114"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:50:22.290290"], ["id", 114]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/296/compras
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 1159)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.295309"], ["updated_at", "2023-06-13 15:50:22.295309"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.298768"], ["updated_at", "2023-06-13 15:50:22.298768"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 297], ["libro_id", 386], ["created_at", "2023-06-13 15:50:22.301284"], ["updated_at", "2023-06-13 15:50:22.301284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/386/mensajes/84" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"386", "id"=>"84"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 386], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 386], ["id", 84], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1209)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3835)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4257)
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 0.8ms | Allocations: 5742)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.322202"], ["updated_at", "2023-06-13 15:50:22.322202"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.327028"], ["updated_at", "2023-06-13 15:50:22.327028"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 298], ["libro_id", 387], ["created_at", "2023-06-13 15:50:22.329416"], ["updated_at", "2023-06-13 15:50:22.329416"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/387/mensajes" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"387"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 387], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1113)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 387]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3233)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3617)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.4ms | Allocations: 4105)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.342478"], ["updated_at", "2023-06-13 15:50:22.342478"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.346315"], ["updated_at", "2023-06-13 15:50:22.346315"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 299], ["libro_id", 388], ["created_at", "2023-06-13 15:50:22.348231"], ["updated_at", "2023-06-13 15:50:22.348231"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/388/mensajes/86" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"388", "id"=>"86"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 388], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 388], ["id", 86], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 86]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/388/mensajes
Completed 303 See Other in 3ms (ActiveRecord: 0.7ms | Allocations: 828)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.358113"], ["updated_at", "2023-06-13 15:50:22.358113"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.362466"], ["updated_at", "2023-06-13 15:50:22.362466"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 300], ["libro_id", 389], ["created_at", "2023-06-13 15:50:22.364759"], ["updated_at", "2023-06-13 15:50:22.364759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/389/mensajes/87/edit" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"389", "id"=>"87"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 389], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 389], ["id", 87], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3019)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3403)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.3ms | Allocations: 4142)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.378705"], ["updated_at", "2023-06-13 15:50:22.378705"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.382326"], ["updated_at", "2023-06-13 15:50:22.382326"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 301], ["libro_id", 390], ["created_at", "2023-06-13 15:50:22.384581"], ["updated_at", "2023-06-13 15:50:22.384581"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/390/mensajes" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"390"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 301], ["libro_id", 390], ["created_at", "2023-06-13 15:50:22.389617"], ["updated_at", "2023-06-13 15:50:22.389617"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/390/mensajes
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 836)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.394439"], ["updated_at", "2023-06-13 15:50:22.394439"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.398501"], ["updated_at", "2023-06-13 15:50:22.398501"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 302], ["libro_id", 391], ["created_at", "2023-06-13 15:50:22.400674"], ["updated_at", "2023-06-13 15:50:22.400674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/391/mensajes/90" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"391", "id"=>"90"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 302], ["id", 90], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 391], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.2ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:50:22.406713"], ["id", 90]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/391/mensajes
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 1368)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.411672"], ["updated_at", "2023-06-13 15:50:22.411672"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:50:22.415425"], ["updated_at", "2023-06-13 15:50:22.415425"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 303], ["libro_id", 392], ["created_at", "2023-06-13 15:50:22.417680"], ["updated_at", "2023-06-13 15:50:22.417680"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/392/mensajes/new" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"392"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 392], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2803)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 3187)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.2ms | Allocations: 3780)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.429604"], ["updated_at", "2023-06-13 15:50:22.429604"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.433990"], ["updated_at", "2023-06-13 15:50:22.433990"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.436758"], ["updated_at", "2023-06-13 15:50:22.436758"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/395" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"395"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 395], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.3ms | Allocations: 1050)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 464)
  Rendered libros/show.html.erb within layouts/application (Duration: 17.9ms | Allocations: 3745)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 4170)
Completed 200 OK in 23ms (Views: 20.5ms | ActiveRecord: 0.4ms | Allocations: 5150)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.469061"], ["updated_at", "2023-06-13 15:50:22.469061"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3286)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3344)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 3825)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.488895"], ["updated_at", "2023-06-13 15:50:22.488895"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/397" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"397"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 397]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 397]]
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 397]]
  [1m[36mLibro Destroy (0.6ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 397]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 6ms (ActiveRecord: 1.5ms | Allocations: 1588)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.501508"], ["updated_at", "2023-06-13 15:50:22.501508"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/398/edit" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"398"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 897)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered libros/edit.html.erb within layouts/application (Duration: 17.1ms | Allocations: 13054)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 13447)
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.1ms | Allocations: 13915)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.527484"], ["updated_at", "2023-06-13 15:50:22.527484"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.532431"], ["updated_at", "2023-06-13 15:50:22.532431"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/400
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 826)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.538469"], ["updated_at", "2023-06-13 15:50:22.538469"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/401" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"401"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 401], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.2ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:50:22.542697"], ["id", 401]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/401
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 985)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 401], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:50:22.547185"], ["updated_at", "2023-06-13 15:50:22.547185"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 15.1ms | Allocations: 12839)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 13236)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 13566)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 967)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 9.2ms | Allocations: 4115)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4540)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 5349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:50:22 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2553)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 2937)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 3246)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.216815"], ["updated_at", "2023-06-13 15:51:02.216815"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.241314"], ["updated_at", "2023-06-13 15:51:02.241314"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 304], ["libro_id", 403], ["estado", "E"], ["created_at", "2023-06-13 15:51:02.267130"], ["updated_at", "2023-06-13 15:51:02.267130"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/304/compras/115/edit" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"304", "id"=>"115"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.6ms | Allocations: 2316)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.4ms | Allocations: 664)
  Rendered compras/edit.html.erb within layouts/application (Duration: 138.9ms | Allocations: 37626)
  Rendered layout layouts/application.html.erb (Duration: 141.7ms | Allocations: 39752)
Completed 200 OK in 156ms (Views: 145.5ms | ActiveRecord: 0.7ms | Allocations: 44815)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.487910"], ["updated_at", "2023-06-13 15:51:02.487910"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.491794"], ["updated_at", "2023-06-13 15:51:02.491794"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 305], ["libro_id", 404], ["estado", "E"], ["created_at", "2023-06-13 15:51:02.493855"], ["updated_at", "2023-06-13 15:51:02.493855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 305], ["libro_id", 404], ["estado", "E"], ["created_at", "2023-06-13 15:51:02.495479"], ["updated_at", "2023-06-13 15:51:02.495479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/305/compras/117" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"305", "id"=>"117"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 305], ["id", 117], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 117]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/305/compras
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1071)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.513714"], ["updated_at", "2023-06-13 15:51:02.513714"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.518005"], ["updated_at", "2023-06-13 15:51:02.518005"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 306], ["libro_id", 405], ["estado", "E"], ["created_at", "2023-06-13 15:51:02.520204"], ["updated_at", "2023-06-13 15:51:02.520204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/306/compras/118" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"306", "id"=>"118"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1124)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 405], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3451)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3845)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.7ms | Allocations: 4326)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.534965"], ["updated_at", "2023-06-13 15:51:02.534965"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.538701"], ["updated_at", "2023-06-13 15:51:02.538701"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 307], ["libro_id", 406], ["estado", "E"], ["created_at", "2023-06-13 15:51:02.540552"], ["updated_at", "2023-06-13 15:51:02.540552"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/307/compras" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"307"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1101)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 307]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3340)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3724)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.2ms | Allocations: 4037)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.552762"], ["updated_at", "2023-06-13 15:51:02.552762"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.556222"], ["updated_at", "2023-06-13 15:51:02.556222"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 308], ["libro_id", 407], ["estado", "E"], ["created_at", "2023-06-13 15:51:02.558228"], ["updated_at", "2023-06-13 15:51:02.558228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/308/compras/120" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"308", "id"=>"120"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:51:02.563955"], ["id", 120]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/308/compras
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 1274)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.571703"], ["updated_at", "2023-06-13 15:51:02.571703"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.574646"], ["updated_at", "2023-06-13 15:51:02.574646"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.577984"], ["updated_at", "2023-06-13 15:51:02.577984"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 309], ["libro_id", 409], ["created_at", "2023-06-13 15:51:02.590988"], ["updated_at", "2023-06-13 15:51:02.590988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/409/mensajes/92" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"409", "id"=>"92"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 309], ["id", 92], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:51:02.599804"], ["id", 92]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/409/mensajes
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1825)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.605444"], ["updated_at", "2023-06-13 15:51:02.605444"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.609980"], ["updated_at", "2023-06-13 15:51:02.609980"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 310], ["libro_id", 410], ["created_at", "2023-06-13 15:51:02.612185"], ["updated_at", "2023-06-13 15:51:02.612185"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/410/mensajes/93" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"410", "id"=>"93"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 410], ["id", 93], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.1ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 93]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/410/mensajes
Completed 303 See Other in 4ms (ActiveRecord: 0.7ms | Allocations: 933)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.623355"], ["updated_at", "2023-06-13 15:51:02.623355"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.626808"], ["updated_at", "2023-06-13 15:51:02.626808"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 311], ["libro_id", 411], ["created_at", "2023-06-13 15:51:02.628617"], ["updated_at", "2023-06-13 15:51:02.628617"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/411/mensajes" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"411"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 311], ["libro_id", 411], ["created_at", "2023-06-13 15:51:02.635168"], ["updated_at", "2023-06-13 15:51:02.635168"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/411/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 1100)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.640257"], ["updated_at", "2023-06-13 15:51:02.640257"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.644188"], ["updated_at", "2023-06-13 15:51:02.644188"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 312], ["libro_id", 412], ["created_at", "2023-06-13 15:51:02.646123"], ["updated_at", "2023-06-13 15:51:02.646123"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/412/mensajes/96/edit" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"412", "id"=>"96"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 412], ["id", 96], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 10.3ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 6.3ms | Allocations: 522)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 41.8ms | Allocations: 3929)
  Rendered layout layouts/application.html.erb (Duration: 47.3ms | Allocations: 4353)
Completed 200 OK in 60ms (Views: 53.4ms | ActiveRecord: 0.5ms | Allocations: 5537)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.734167"], ["updated_at", "2023-06-13 15:51:02.734167"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.742342"], ["updated_at", "2023-06-13 15:51:02.742342"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 313], ["libro_id", 413], ["created_at", "2023-06-13 15:51:02.745080"], ["updated_at", "2023-06-13 15:51:02.745080"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/413/mensajes" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"413"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1133)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 413]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 313], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3476)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3861)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms | Allocations: 4380)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.762255"], ["updated_at", "2023-06-13 15:51:02.762255"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.767349"], ["updated_at", "2023-06-13 15:51:02.767349"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 314], ["libro_id", 414], ["created_at", "2023-06-13 15:51:02.770203"], ["updated_at", "2023-06-13 15:51:02.770203"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/414/mensajes/new" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"414"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2864)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3248)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.1ms | Allocations: 3841)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.784957"], ["updated_at", "2023-06-13 15:51:02.784957"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.789496"], ["updated_at", "2023-06-13 15:51:02.789496"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 315], ["libro_id", 415], ["created_at", "2023-06-13 15:51:02.792267"], ["updated_at", "2023-06-13 15:51:02.792267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/415/mensajes/99" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"415", "id"=>"99"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 415], ["id", 99], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2908)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 3292)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.7ms | Allocations: 4047)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.812855"], ["updated_at", "2023-06-13 15:51:02.812855"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.817435"], ["updated_at", "2023-06-13 15:51:02.817435"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.821964"], ["updated_at", "2023-06-13 15:51:02.821964"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 416], ["user_id", 317], ["created_at", "2023-06-13 15:51:02.835033"], ["updated_at", "2023-06-13 15:51:02.835033"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/416/resenas/102/edit" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"416", "id"=>"102"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 416], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 416], ["id", 102], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1216)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 522)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 7.6ms | Allocations: 4174)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 4595)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.4ms | Allocations: 6081)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.855741"], ["updated_at", "2023-06-13 15:51:02.855741"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.860288"], ["updated_at", "2023-06-13 15:51:02.860288"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 417], ["user_id", 318], ["created_at", "2023-06-13 15:51:02.864339"], ["updated_at", "2023-06-13 15:51:02.864339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/417/resenas" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"417"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 417], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 417], ["user_id", 318], ["created_at", "2023-06-13 15:51:02.869881"], ["updated_at", "2023-06-13 15:51:02.869881"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/417/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 910)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.874323"], ["updated_at", "2023-06-13 15:51:02.874323"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.877843"], ["updated_at", "2023-06-13 15:51:02.877843"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 418], ["user_id", 319], ["created_at", "2023-06-13 15:51:02.880086"], ["updated_at", "2023-06-13 15:51:02.880086"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/418/resenas/new" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"418"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 418], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1130)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3153)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3538)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.2ms | Allocations: 4179)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.892693"], ["updated_at", "2023-06-13 15:51:02.892693"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.896537"], ["updated_at", "2023-06-13 15:51:02.896537"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 419], ["user_id", 320], ["created_at", "2023-06-13 15:51:02.898620"], ["updated_at", "2023-06-13 15:51:02.898620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/419/resenas" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"419"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 419]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3010)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3394)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.3ms | Allocations: 3838)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.910395"], ["updated_at", "2023-06-13 15:51:02.910395"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.914471"], ["updated_at", "2023-06-13 15:51:02.914471"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 420], ["user_id", 321], ["created_at", "2023-06-13 15:51:02.916413"], ["updated_at", "2023-06-13 15:51:02.916413"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/420/resenas/107" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"420", "id"=>"107"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 420], ["id", 107], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3076)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 3460)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.5ms | Allocations: 4217)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.932950"], ["updated_at", "2023-06-13 15:51:02.932950"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:02.937251"], ["updated_at", "2023-06-13 15:51:02.937251"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 421], ["user_id", 322], ["created_at", "2023-06-13 15:51:02.939520"], ["updated_at", "2023-06-13 15:51:02.939520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/421/resenas/108" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"421", "id"=>"108"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 322], ["id", 108], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:51:02.946108"], ["id", 108]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/421/resenas
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1417)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.954785"], ["updated_at", "2023-06-13 15:51:02.954785"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/422" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"422"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.4ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:51:02.962365"], ["id", 422]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/422
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1322)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.968578"], ["updated_at", "2023-06-13 15:51:02.968578"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/423" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"423"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 423]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 423]]
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 423]]
  [1m[36mLibro Destroy (0.5ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 423]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 6ms (ActiveRecord: 1.4ms | Allocations: 1481)
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.981896"], ["updated_at", "2023-06-13 15:51:02.981896"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.986668"], ["updated_at", "2023-06-13 15:51:02.986668"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/425
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 777)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:02.993105"], ["updated_at", "2023-06-13 15:51:02.993105"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/426/edit" for 127.0.0.1 at 2023-06-13 11:51:02 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"426"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 426], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.7ms | Allocations: 1043)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered libros/edit.html.erb within layouts/application (Duration: 19.7ms | Allocations: 13610)
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 14032)
Completed 200 OK in 23ms (Views: 22.2ms | ActiveRecord: 0.1ms | Allocations: 14881)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:03.023936"], ["updated_at", "2023-06-13 15:51:03.023936"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:51:03 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3286)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 3344)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3825)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:03.042408"], ["updated_at", "2023-06-13 15:51:03.042408"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:51:03 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 907)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 18.3ms | Allocations: 13093)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 13491)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.0ms | Allocations: 13882)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:03.070403"], ["updated_at", "2023-06-13 15:51:03.070403"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:51:03.072511"], ["updated_at", "2023-06-13 15:51:03.072511"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/430" for 127.0.0.1 at 2023-06-13 11:51:03 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"430"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 897)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3184)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3569)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.3ms | Allocations: 4060)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:51:03 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 967)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered home/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3158)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3583)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 4353)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:51:03 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered home/inicio.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3510)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3894)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 4262)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:51:03.118016"], ["updated_at", "2023-06-13 15:51:03.118016"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:51:03 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3601)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 4023)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 4810)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:34.814744"], ["updated_at", "2023-06-13 15:52:34.814744"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:34.838283"], ["updated_at", "2023-06-13 15:52:34.838283"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 324], ["libro_id", 431], ["created_at", "2023-06-13 15:52:34.850181"], ["updated_at", "2023-06-13 15:52:34.850181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/431/mensajes/100" for 127.0.0.1 at 2023-06-13 11:52:34 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"431", "id"=>"100"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 324], ["id", 100], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 431], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:52:34.928068"], ["id", 100]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/431/mensajes
Completed 302 Found in 13ms (ActiveRecord: 1.4ms | Allocations: 4151)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:34.937423"], ["updated_at", "2023-06-13 15:52:34.937423"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:34.941408"], ["updated_at", "2023-06-13 15:52:34.941408"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 325], ["libro_id", 432], ["created_at", "2023-06-13 15:52:34.943629"], ["updated_at", "2023-06-13 15:52:34.943629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/432/mensajes/101/edit" for 127.0.0.1 at 2023-06-13 11:52:34 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"432", "id"=>"101"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 432], ["id", 101], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.3ms | Allocations: 2280)
  Rendered componentes/_footer.html.erb (Duration: 4.2ms | Allocations: 664)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 151.3ms | Allocations: 36779)
  Rendered layout layouts/application.html.erb (Duration: 162.2ms | Allocations: 38902)
Completed 200 OK in 175ms (Views: 168.2ms | ActiveRecord: 0.5ms | Allocations: 42451)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.130527"], ["updated_at", "2023-06-13 15:52:35.130527"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.137215"], ["updated_at", "2023-06-13 15:52:35.137215"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 326], ["libro_id", 433], ["created_at", "2023-06-13 15:52:35.139694"], ["updated_at", "2023-06-13 15:52:35.139694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/433/mensajes/102" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"433", "id"=>"102"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 433], ["id", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 102]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/433/mensajes
Completed 303 See Other in 3ms (ActiveRecord: 0.7ms | Allocations: 884)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.150208"], ["updated_at", "2023-06-13 15:52:35.150208"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.153965"], ["updated_at", "2023-06-13 15:52:35.153965"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 327], ["libro_id", 434], ["created_at", "2023-06-13 15:52:35.156069"], ["updated_at", "2023-06-13 15:52:35.156069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/434/mensajes" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"434"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1133)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 434]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3565)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3950)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.8ms | Allocations: 4422)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.171654"], ["updated_at", "2023-06-13 15:52:35.171654"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.175731"], ["updated_at", "2023-06-13 15:52:35.175731"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 328], ["libro_id", 435], ["created_at", "2023-06-13 15:52:35.177698"], ["updated_at", "2023-06-13 15:52:35.177698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/435/mensajes/new" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"435"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 435], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2864)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3248)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.5ms | Allocations: 3841)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.194555"], ["updated_at", "2023-06-13 15:52:35.194555"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.198871"], ["updated_at", "2023-06-13 15:52:35.198871"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 329], ["libro_id", 436], ["created_at", "2023-06-13 15:52:35.201487"], ["updated_at", "2023-06-13 15:52:35.201487"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/436/mensajes/105" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"436", "id"=>"105"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 436], ["id", 105], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2915)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3299)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 0.8ms | Allocations: 4051)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.220096"], ["updated_at", "2023-06-13 15:52:35.220096"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.225387"], ["updated_at", "2023-06-13 15:52:35.225387"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 330], ["libro_id", 437], ["created_at", "2023-06-13 15:52:35.227892"], ["updated_at", "2023-06-13 15:52:35.227892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/437/mensajes" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"437"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 437], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 330], ["libro_id", 437], ["created_at", "2023-06-13 15:52:35.235295"], ["updated_at", "2023-06-13 15:52:35.235295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/437/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1100)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.242357"], ["updated_at", "2023-06-13 15:52:35.242357"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/438" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"438"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 438], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.5ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:52:35.250959"], ["id", 438]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/438
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 1322)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 438], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.258009"], ["updated_at", "2023-06-13 15:52:35.258009"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/439/edit" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"439"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 439], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 1043)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 522)
  Rendered libros/edit.html.erb within layouts/application (Duration: 26.0ms | Allocations: 14199)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 14621)
Completed 200 OK in 30ms (Views: 28.5ms | ActiveRecord: 0.2ms | Allocations: 15473)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.295343"], ["updated_at", "2023-06-13 15:52:35.295343"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/440" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"440"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 440], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 440]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 440]]
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 440]]
  [1m[36mLibro Destroy (0.6ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 440]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 16ms (ActiveRecord: 3.5ms | Allocations: 3770)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.320111"], ["updated_at", "2023-06-13 15:52:35.320111"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3374)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3433)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3985)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.338942"], ["updated_at", "2023-06-13 15:52:35.338942"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 907)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 18.0ms | Allocations: 13094)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 13492)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms | Allocations: 13884)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.366406"], ["updated_at", "2023-06-13 15:52:35.366406"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.368791"], ["updated_at", "2023-06-13 15:52:35.368791"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/444" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"444"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 444], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 897)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3184)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 3569)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.4ms | Allocations: 4060)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.396240"], ["updated_at", "2023-06-13 15:52:35.396240"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.403894"], ["updated_at", "2023-06-13 15:52:35.403894"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/446
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 800)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.421619"], ["updated_at", "2023-06-13 15:52:35.421619"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.426140"], ["updated_at", "2023-06-13 15:52:35.426140"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 447], ["user_id", 331], ["created_at", "2023-06-13 15:52:35.430185"], ["updated_at", "2023-06-13 15:52:35.430185"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/447/resenas/109" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"447", "id"=>"109"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 331], ["id", 109], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:52:35.447862"], ["id", 109]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/447/resenas
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 1829)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.454993"], ["updated_at", "2023-06-13 15:52:35.454993"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.460123"], ["updated_at", "2023-06-13 15:52:35.460123"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 448], ["user_id", 332], ["created_at", "2023-06-13 15:52:35.462971"], ["updated_at", "2023-06-13 15:52:35.462971"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/448/resenas/110/edit" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"448", "id"=>"110"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 448], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 448], ["id", 110], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 464)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3871)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 4292)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.4ms | Allocations: 5479)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.484464"], ["updated_at", "2023-06-13 15:52:35.484464"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.490991"], ["updated_at", "2023-06-13 15:52:35.490991"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 449], ["user_id", 333], ["created_at", "2023-06-13 15:52:35.493708"], ["updated_at", "2023-06-13 15:52:35.493708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/449/resenas/111" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"449", "id"=>"111"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 449], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 449], ["id", 111], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.2ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 111]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/449/resenas
Completed 303 See Other in 5ms (ActiveRecord: 0.9ms | Allocations: 834)
  [1m[36mResena Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.509043"], ["updated_at", "2023-06-13 15:52:35.509043"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.513949"], ["updated_at", "2023-06-13 15:52:35.513949"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 450], ["user_id", 334], ["created_at", "2023-06-13 15:52:35.516385"], ["updated_at", "2023-06-13 15:52:35.516385"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/450/resenas" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"450"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1111)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 450]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2830)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3214)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.5ms | Allocations: 3686)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.531375"], ["updated_at", "2023-06-13 15:52:35.531375"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.536273"], ["updated_at", "2023-06-13 15:52:35.536273"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 451], ["user_id", 335], ["created_at", "2023-06-13 15:52:35.538814"], ["updated_at", "2023-06-13 15:52:35.538814"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/451/resenas/new" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"451"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3047)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 3431)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.4ms | Allocations: 4025)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.553751"], ["updated_at", "2023-06-13 15:52:35.553751"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.560993"], ["updated_at", "2023-06-13 15:52:35.560993"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 452], ["user_id", 336], ["created_at", "2023-06-13 15:52:35.563813"], ["updated_at", "2023-06-13 15:52:35.563813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/452/resenas/114" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"452", "id"=>"114"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 452], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 452], ["id", 114], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3077)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3461)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.8ms | Allocations: 4215)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.581485"], ["updated_at", "2023-06-13 15:52:35.581485"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.588287"], ["updated_at", "2023-06-13 15:52:35.588287"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 453], ["user_id", 337], ["created_at", "2023-06-13 15:52:35.594988"], ["updated_at", "2023-06-13 15:52:35.594988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/453/resenas" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"453"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 453], ["user_id", 337], ["created_at", "2023-06-13 15:52:35.603888"], ["updated_at", "2023-06-13 15:52:35.603888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/453/resenas
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 858)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.612639"], ["updated_at", "2023-06-13 15:52:35.612639"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.619480"], ["updated_at", "2023-06-13 15:52:35.619480"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 338], ["libro_id", 454], ["estado", "E"], ["created_at", "2023-06-13 15:52:35.623560"], ["updated_at", "2023-06-13 15:52:35.623560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/338/compras/121" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"338", "id"=>"121"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1203)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 454], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 464)
  Rendered compras/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 4071)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 4493)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 1.1ms | Allocations: 5679)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.652311"], ["updated_at", "2023-06-13 15:52:35.652311"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.658673"], ["updated_at", "2023-06-13 15:52:35.658673"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 339], ["libro_id", 455], ["estado", "E"], ["created_at", "2023-06-13 15:52:35.664121"], ["updated_at", "2023-06-13 15:52:35.664121"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/339/compras/122" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"339", "id"=>"122"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 339], ["LIMIT", 1]]
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 455], ["LIMIT", 1]]
  [1m[36mCompra Update (1.0ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:52:35.677996"], ["id", 122]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/339/compras
Completed 302 Found in 12ms (ActiveRecord: 2.5ms | Allocations: 1225)
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.693077"], ["updated_at", "2023-06-13 15:52:35.693077"], ["picture", nil]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.704877"], ["updated_at", "2023-06-13 15:52:35.704877"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.1ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 340], ["libro_id", 456], ["estado", "E"], ["created_at", "2023-06-13 15:52:35.712766"], ["updated_at", "2023-06-13 15:52:35.712766"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/340/compras/123/edit" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"340", "id"=>"123"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 340], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered compras/edit.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3371)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 3755)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.8ms | Allocations: 4195)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.737304"], ["updated_at", "2023-06-13 15:52:35.737304"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.741789"], ["updated_at", "2023-06-13 15:52:35.741789"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 341], ["libro_id", 457], ["estado", "E"], ["created_at", "2023-06-13 15:52:35.744263"], ["updated_at", "2023-06-13 15:52:35.744263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/341/compras" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"341"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1101)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 341]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3318)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3702)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.2ms | Allocations: 4016)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.758430"], ["updated_at", "2023-06-13 15:52:35.758430"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.762980"], ["updated_at", "2023-06-13 15:52:35.762980"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 342], ["libro_id", 458], ["estado", "E"], ["created_at", "2023-06-13 15:52:35.765312"], ["updated_at", "2023-06-13 15:52:35.765312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 342], ["libro_id", 458], ["estado", "E"], ["created_at", "2023-06-13 15:52:35.767016"], ["updated_at", "2023-06-13 15:52:35.767016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/342/compras/126" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"342", "id"=>"126"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 342], ["id", 126], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 126]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/342/compras
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 653)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:52:35.783808"], ["updated_at", "2023-06-13 15:52:35.783808"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 967)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 9.5ms | Allocations: 4111)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 4536)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms | Allocations: 5345)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 2552)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 2936)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 3245)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.826626"], ["updated_at", "2023-06-13 15:52:35.826626"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:52:35.837620"], ["updated_at", "2023-06-13 15:52:35.837620"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:52:35 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3600)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4022)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 4809)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:09.741957"], ["updated_at", "2023-06-13 15:57:09.741957"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:57:09 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 9.7ms | Allocations: 2323)
  Rendered componentes/_footer.html.erb (Duration: 2.5ms | Allocations: 571)
  Rendered users/show.html.erb within layouts/application (Duration: 92.9ms | Allocations: 34516)
  Rendered layout layouts/application.html.erb (Duration: 100.6ms | Allocations: 36648)
Completed 200 OK in 113ms (Views: 105.2ms | ActiveRecord: 0.0ms | Allocations: 41099)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.043800"], ["updated_at", "2023-06-13 15:57:10.043800"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.048661"], ["updated_at", "2023-06-13 15:57:10.048661"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 460], ["user_id", 346], ["created_at", "2023-06-13 15:57:10.058483"], ["updated_at", "2023-06-13 15:57:10.058483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1221)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3579)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 4000)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.4ms | Allocations: 4919)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.077316"], ["updated_at", "2023-06-13 15:57:10.077316"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.081112"], ["updated_at", "2023-06-13 15:57:10.081112"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 461], ["user_id", 347], ["created_at", "2023-06-13 15:57:10.083726"], ["updated_at", "2023-06-13 15:57:10.083726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/461/resenas/118" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"461", "id"=>"118"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 461], ["id", 118], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.2ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 118]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/461/resenas
Completed 303 See Other in 5ms (ActiveRecord: 0.7ms | Allocations: 1529)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.102903"], ["updated_at", "2023-06-13 15:57:10.102903"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.106961"], ["updated_at", "2023-06-13 15:57:10.106961"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 462], ["user_id", 348], ["created_at", "2023-06-13 15:57:10.109155"], ["updated_at", "2023-06-13 15:57:10.109155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/462/resenas/new" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"462"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1212)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 523)
  Rendered resenas/new.html.erb within layouts/application (Duration: 17.2ms | Allocations: 6384)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 6805)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.3ms | Allocations: 7838)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.136790"], ["updated_at", "2023-06-13 15:57:10.136790"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.141088"], ["updated_at", "2023-06-13 15:57:10.141088"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 463], ["user_id", 349], ["created_at", "2023-06-13 15:57:10.143253"], ["updated_at", "2023-06-13 15:57:10.143253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/463/resenas/120" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"463", "id"=>"120"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 349], ["id", 120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 463], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:57:10.150355"], ["id", 120]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/463/resenas
Completed 302 Found in 6ms (ActiveRecord: 0.8ms | Allocations: 1704)
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.155060"], ["updated_at", "2023-06-13 15:57:10.155060"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.158563"], ["updated_at", "2023-06-13 15:57:10.158563"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 464], ["user_id", 350], ["created_at", "2023-06-13 15:57:10.160757"], ["updated_at", "2023-06-13 15:57:10.160757"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/464/resenas/121" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"464", "id"=>"121"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 464], ["id", 121], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1122)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 350], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3249)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3634)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.8ms | Allocations: 4441)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.175728"], ["updated_at", "2023-06-13 15:57:10.175728"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.180940"], ["updated_at", "2023-06-13 15:57:10.180940"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 465], ["user_id", 351], ["created_at", "2023-06-13 15:57:10.183335"], ["updated_at", "2023-06-13 15:57:10.183335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/465/resenas/122/edit" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"465", "id"=>"122"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 465], ["id", 122], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 463)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3176)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3560)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.5ms | Allocations: 4301)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.196376"], ["updated_at", "2023-06-13 15:57:10.196376"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.199927"], ["updated_at", "2023-06-13 15:57:10.199927"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 466], ["user_id", 352], ["created_at", "2023-06-13 15:57:10.201961"], ["updated_at", "2023-06-13 15:57:10.201961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/466/resenas" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"466"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 466], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1116)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 466]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3023)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3407)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.3ms | Allocations: 3851)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.214251"], ["updated_at", "2023-06-13 15:57:10.214251"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.217977"], ["updated_at", "2023-06-13 15:57:10.217977"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 467], ["user_id", 353], ["created_at", "2023-06-13 15:57:10.219877"], ["updated_at", "2023-06-13 15:57:10.219877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/467/resenas" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"467"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 467], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 467], ["user_id", 353], ["created_at", "2023-06-13 15:57:10.241322"], ["updated_at", "2023-06-13 15:57:10.241322"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/467/resenas
Completed 302 Found in 14ms (ActiveRecord: 0.8ms | Allocations: 1124)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (12.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.300201"], ["updated_at", "2023-06-13 15:57:10.300201"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/468" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"468"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 468]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 468]]
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 468]]
  [1m[36mLibro Destroy (0.6ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 468]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 49ms (ActiveRecord: 3.9ms | Allocations: 5294)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.379985"], ["updated_at", "2023-06-13 15:57:10.379985"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/469" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"469"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.2ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:57:10.385362"], ["id", 469]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/469
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1061)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.390238"], ["updated_at", "2023-06-13 15:57:10.390238"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/470/edit" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"470"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 988)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 526)
  Rendered libros/edit.html.erb within layouts/application (Duration: 19.2ms | Allocations: 13511)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 13906)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.1ms | Allocations: 14401)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.417740"], ["updated_at", "2023-06-13 15:57:10.417740"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.419522"], ["updated_at", "2023-06-13 15:57:10.419522"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/472" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"472"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 472], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 897)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3184)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3569)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.1ms | Allocations: 4061)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.432981"], ["updated_at", "2023-06-13 15:57:10.432981"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3273)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3331)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3777)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.445088"], ["updated_at", "2023-06-13 15:57:10.445088"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 907)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 17.4ms | Allocations: 13094)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 13492)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms | Allocations: 13884)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.472347"], ["updated_at", "2023-06-13 15:57:10.472347"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.477386"], ["updated_at", "2023-06-13 15:57:10.477386"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/476
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 820)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.493132"], ["updated_at", "2023-06-13 15:57:10.493132"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 967)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4121)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 4546)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 5356)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 837)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered home/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2558)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 2942)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 3251)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.535586"], ["updated_at", "2023-06-13 15:57:10.535586"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.541119"], ["updated_at", "2023-06-13 15:57:10.541119"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.545593"], ["updated_at", "2023-06-13 15:57:10.545593"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 355], ["libro_id", 478], ["estado", "E"], ["created_at", "2023-06-13 15:57:10.548849"], ["updated_at", "2023-06-13 15:57:10.548849"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/355/compras/127/edit" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"355", "id"=>"127"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1205)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered compras/edit.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4280)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 4701)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.6ms | Allocations: 5887)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.570207"], ["updated_at", "2023-06-13 15:57:10.570207"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.576450"], ["updated_at", "2023-06-13 15:57:10.576450"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 356], ["libro_id", 479], ["estado", "E"], ["created_at", "2023-06-13 15:57:10.579134"], ["updated_at", "2023-06-13 15:57:10.579134"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/356/compras/128" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"356", "id"=>"128"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1102)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 3162)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3546)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms | Allocations: 4004)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.594413"], ["updated_at", "2023-06-13 15:57:10.594413"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.599042"], ["updated_at", "2023-06-13 15:57:10.599042"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 357], ["libro_id", 480], ["estado", "E"], ["created_at", "2023-06-13 15:57:10.601833"], ["updated_at", "2023-06-13 15:57:10.601833"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/357/compras" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"357"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1101)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 357]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3319)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3703)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.2ms | Allocations: 4017)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.614261"], ["updated_at", "2023-06-13 15:57:10.614261"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.619076"], ["updated_at", "2023-06-13 15:57:10.619076"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 358], ["libro_id", 481], ["estado", "E"], ["created_at", "2023-06-13 15:57:10.621406"], ["updated_at", "2023-06-13 15:57:10.621406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/358/compras/130" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"358", "id"=>"130"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:57:10.627727"], ["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/358/compras
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 1202)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.633599"], ["updated_at", "2023-06-13 15:57:10.633599"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.638102"], ["updated_at", "2023-06-13 15:57:10.638102"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 359], ["libro_id", 482], ["estado", "E"], ["created_at", "2023-06-13 15:57:10.641054"], ["updated_at", "2023-06-13 15:57:10.641054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 359], ["libro_id", 482], ["estado", "E"], ["created_at", "2023-06-13 15:57:10.643240"], ["updated_at", "2023-06-13 15:57:10.643240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/359/compras/132" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"359", "id"=>"132"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 359], ["id", 132], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 132]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/359/compras
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 653)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.653968"], ["updated_at", "2023-06-13 15:57:10.653968"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.658209"], ["updated_at", "2023-06-13 15:57:10.658209"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 360], ["libro_id", 483], ["created_at", "2023-06-13 15:57:10.661155"], ["updated_at", "2023-06-13 15:57:10.661155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/483/mensajes/108" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"483", "id"=>"108"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 483], ["id", 108], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 108]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/483/mensajes
Completed 303 See Other in 4ms (ActiveRecord: 0.7ms | Allocations: 1149)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.675918"], ["updated_at", "2023-06-13 15:57:10.675918"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.680361"], ["updated_at", "2023-06-13 15:57:10.680361"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 361], ["libro_id", 484], ["created_at", "2023-06-13 15:57:10.683083"], ["updated_at", "2023-06-13 15:57:10.683083"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/484/mensajes/109" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"484", "id"=>"109"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 361], ["id", 109], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:57:10.689973"], ["id", 109]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/484/mensajes
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 1397)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.695121"], ["updated_at", "2023-06-13 15:57:10.695121"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.698896"], ["updated_at", "2023-06-13 15:57:10.698896"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 362], ["libro_id", 485], ["created_at", "2023-06-13 15:57:10.701433"], ["updated_at", "2023-06-13 15:57:10.701433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/485/mensajes/110/edit" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"485", "id"=>"110"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 485], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 485], ["id", 110], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3600)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 4021)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.4ms | Allocations: 5194)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.720381"], ["updated_at", "2023-06-13 15:57:10.720381"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.725547"], ["updated_at", "2023-06-13 15:57:10.725547"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 363], ["libro_id", 486], ["created_at", "2023-06-13 15:57:10.728467"], ["updated_at", "2023-06-13 15:57:10.728467"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/486/mensajes/111" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"486", "id"=>"111"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 486], ["id", 111], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3072)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3456)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.7ms | Allocations: 4266)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.744962"], ["updated_at", "2023-06-13 15:57:10.744962"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.748930"], ["updated_at", "2023-06-13 15:57:10.748930"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 364], ["libro_id", 487], ["created_at", "2023-06-13 15:57:10.751427"], ["updated_at", "2023-06-13 15:57:10.751427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/487/mensajes" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"487"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 487]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3062)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3446)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.5ms | Allocations: 3890)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.763599"], ["updated_at", "2023-06-13 15:57:10.763599"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.767460"], ["updated_at", "2023-06-13 15:57:10.767460"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 365], ["libro_id", 488], ["created_at", "2023-06-13 15:57:10.769616"], ["updated_at", "2023-06-13 15:57:10.769616"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/488/mensajes/new" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"488"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2803)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 3187)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.1ms | Allocations: 3780)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:10.781576"], ["updated_at", "2023-06-13 15:57:10.781576"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:10.786383"], ["updated_at", "2023-06-13 15:57:10.786383"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 366], ["libro_id", 489], ["created_at", "2023-06-13 15:57:10.789150"], ["updated_at", "2023-06-13 15:57:10.789150"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/489/mensajes" for 127.0.0.1 at 2023-06-13 11:57:10 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"489"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 366], ["libro_id", 489], ["created_at", "2023-06-13 15:57:10.795747"], ["updated_at", "2023-06-13 15:57:10.795747"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/489/mensajes
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 841)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 11:57:25 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.5ms | Allocations: 1964)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 571)
  Rendered home/inicio.html.erb within layouts/application (Duration: 81.5ms | Allocations: 34630)
  Rendered layout layouts/application.html.erb (Duration: 84.2ms | Allocations: 36765)
Completed 200 OK in 96ms (Views: 91.1ms | ActiveRecord: 0.0ms | Allocations: 41238)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 11:57:25 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 913)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2781)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3176)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 3548)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:25.843104"], ["updated_at", "2023-06-13 15:57:25.843104"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:25.886096"], ["updated_at", "2023-06-13 15:57:25.886096"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 367], ["libro_id", 490], ["created_at", "2023-06-13 15:57:25.915456"], ["updated_at", "2023-06-13 15:57:25.915456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/490/mensajes/new" for 127.0.0.1 at 2023-06-13 11:57:25 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"490"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 1522)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 522)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 14.2ms | Allocations: 6244)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 6668)
Completed 200 OK in 20ms (Views: 16.6ms | ActiveRecord: 0.4ms | Allocations: 8297)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:25.945042"], ["updated_at", "2023-06-13 15:57:25.945042"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:25.949882"], ["updated_at", "2023-06-13 15:57:25.949882"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 368], ["libro_id", 491], ["created_at", "2023-06-13 15:57:25.952620"], ["updated_at", "2023-06-13 15:57:25.952620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/491/mensajes/117" for 127.0.0.1 at 2023-06-13 11:57:25 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"491", "id"=>"117"}
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 368], ["id", 117], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 491], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 15:57:25.966552"], ["id", 117]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/491/mensajes
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 2111)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:25.972649"], ["updated_at", "2023-06-13 15:57:25.972649"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:25.976305"], ["updated_at", "2023-06-13 15:57:25.976305"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 369], ["libro_id", 492], ["created_at", "2023-06-13 15:57:25.978902"], ["updated_at", "2023-06-13 15:57:25.978902"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/492/mensajes/118" for 127.0.0.1 at 2023-06-13 11:57:25 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"492", "id"=>"118"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 492], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 492], ["id", 118], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1129)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3312)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 3706)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.6ms | Allocations: 4529)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:25.995983"], ["updated_at", "2023-06-13 15:57:25.995983"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.001866"], ["updated_at", "2023-06-13 15:57:26.001866"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 370], ["libro_id", 493], ["created_at", "2023-06-13 15:57:26.004244"], ["updated_at", "2023-06-13 15:57:26.004244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/493/mensajes/119/edit" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"493", "id"=>"119"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 493], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 493], ["id", 119], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2943)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3327)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.4ms | Allocations: 4065)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.017825"], ["updated_at", "2023-06-13 15:57:26.017825"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.022760"], ["updated_at", "2023-06-13 15:57:26.022760"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 371], ["libro_id", 494], ["created_at", "2023-06-13 15:57:26.025621"], ["updated_at", "2023-06-13 15:57:26.025621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/494/mensajes" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"494"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 494], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1111)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 494]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 371], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3254)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3638)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.7ms | Allocations: 4082)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.041326"], ["updated_at", "2023-06-13 15:57:26.041326"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.045378"], ["updated_at", "2023-06-13 15:57:26.045378"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 372], ["libro_id", 495], ["created_at", "2023-06-13 15:57:26.047621"], ["updated_at", "2023-06-13 15:57:26.047621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/495/mensajes/121" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"495", "id"=>"121"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 495], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 495], ["id", 121], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 121]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/495/mensajes
Completed 303 See Other in 4ms (ActiveRecord: 0.8ms | Allocations: 835)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.058318"], ["updated_at", "2023-06-13 15:57:26.058318"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.062538"], ["updated_at", "2023-06-13 15:57:26.062538"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 373], ["libro_id", 496], ["created_at", "2023-06-13 15:57:26.064783"], ["updated_at", "2023-06-13 15:57:26.064783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/496/mensajes" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"496"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 496], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 373], ["libro_id", 496], ["created_at", "2023-06-13 15:57:26.071832"], ["updated_at", "2023-06-13 15:57:26.071832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/496/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1100)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.090171"], ["updated_at", "2023-06-13 15:57:26.090171"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.102668"], ["updated_at", "2023-06-13 15:57:26.102668"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 21.0ms | Allocations: 1206)
  Rendered componentes/_footer.html.erb (Duration: 4.7ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 48.7ms | Allocations: 3610)
  Rendered layout layouts/application.html.erb (Duration: 52.5ms | Allocations: 4032)
Completed 200 OK in 66ms (Views: 59.2ms | ActiveRecord: 0.0ms | Allocations: 4819)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.201282"], ["updated_at", "2023-06-13 15:57:26.201282"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.206439"], ["updated_at", "2023-06-13 15:57:26.206439"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.210754"], ["updated_at", "2023-06-13 15:57:26.210754"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 376], ["libro_id", 498], ["estado", "E"], ["created_at", "2023-06-13 15:57:26.214388"], ["updated_at", "2023-06-13 15:57:26.214388"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/376/compras/133" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"376", "id"=>"133"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 498], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 15:57:26.225801"], ["id", 133]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/376/compras
Completed 302 Found in 7ms (ActiveRecord: 1.2ms | Allocations: 2012)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.231774"], ["updated_at", "2023-06-13 15:57:26.231774"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.237185"], ["updated_at", "2023-06-13 15:57:26.237185"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 377], ["libro_id", 499], ["estado", "E"], ["created_at", "2023-06-13 15:57:26.240162"], ["updated_at", "2023-06-13 15:57:26.240162"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/377/compras/134" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"377", "id"=>"134"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.7ms | Allocations: 1204)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 499], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered compras/show.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3714)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 4136)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.7ms | Allocations: 4974)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.263400"], ["updated_at", "2023-06-13 15:57:26.263400"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.268182"], ["updated_at", "2023-06-13 15:57:26.268182"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 378], ["libro_id", 500], ["estado", "E"], ["created_at", "2023-06-13 15:57:26.270928"], ["updated_at", "2023-06-13 15:57:26.270928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/378/compras" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"378"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1106)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 378]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3362)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3746)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.2ms | Allocations: 4098)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.285507"], ["updated_at", "2023-06-13 15:57:26.285507"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.290109"], ["updated_at", "2023-06-13 15:57:26.290109"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 379], ["libro_id", 501], ["estado", "E"], ["created_at", "2023-06-13 15:57:26.292489"], ["updated_at", "2023-06-13 15:57:26.292489"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/379/compras/136/edit" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"379", "id"=>"136"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1103)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 521)
  Rendered compras/edit.html.erb within layouts/application (Duration: 10.8ms | Allocations: 3688)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 4082)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.5ms | Allocations: 4529)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.315660"], ["updated_at", "2023-06-13 15:57:26.315660"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (2.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.334355"], ["updated_at", "2023-06-13 15:57:26.334355"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (93.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 380], ["libro_id", 502], ["estado", "E"], ["created_at", "2023-06-13 15:57:26.343166"], ["updated_at", "2023-06-13 15:57:26.343166"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 380], ["libro_id", 502], ["estado", "E"], ["created_at", "2023-06-13 15:57:26.446705"], ["updated_at", "2023-06-13 15:57:26.446705"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/380/compras/138" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"380", "id"=>"138"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 380], ["id", 138], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 138]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/380/compras
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 701)
  [1m[36mCompra Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.466475"], ["updated_at", "2023-06-13 15:57:26.466475"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 968)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 522)
  Rendered libros/new.html.erb within layouts/application (Duration: 31.6ms | Allocations: 13980)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 14405)
Completed 200 OK in 46ms (Views: 44.3ms | ActiveRecord: 0.0ms | Allocations: 15207)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.540201"], ["updated_at", "2023-06-13 15:57:26.540201"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/504" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"504"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.2ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 15:57:26.544946"], ["id", 504]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/504
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1130)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.549716"], ["updated_at", "2023-06-13 15:57:26.549716"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.551590"], ["updated_at", "2023-06-13 15:57:26.551590"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/506" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"506"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 890)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3178)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3563)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.2ms | Allocations: 4022)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.563205"], ["updated_at", "2023-06-13 15:57:26.563205"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/507/edit" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"507"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered libros/edit.html.erb within layouts/application (Duration: 16.6ms | Allocations: 12696)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 13080)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.2ms | Allocations: 13494)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.587602"], ["updated_at", "2023-06-13 15:57:26.587602"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3284)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3342)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3786)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.599697"], ["updated_at", "2023-06-13 15:57:26.599697"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/509" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"509"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 509], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 509]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 509]]
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 509]]
  [1m[36mLibro Destroy (0.5ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 509]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 12ms (ActiveRecord: 2.8ms | Allocations: 3645)
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.619721"], ["updated_at", "2023-06-13 15:57:26.619721"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.625470"], ["updated_at", "2023-06-13 15:57:26.625470"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/511
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 803)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.633005"], ["updated_at", "2023-06-13 15:57:26.633005"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.637812"], ["updated_at", "2023-06-13 15:57:26.637812"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 512], ["user_id", 381], ["created_at", "2023-06-13 15:57:26.646593"], ["updated_at", "2023-06-13 15:57:26.646593"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/512/resenas" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"512"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 512], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1216)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 512]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3545)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3967)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.4ms | Allocations: 4972)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.663632"], ["updated_at", "2023-06-13 15:57:26.663632"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.668122"], ["updated_at", "2023-06-13 15:57:26.668122"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 513], ["user_id", 382], ["created_at", "2023-06-13 15:57:26.671237"], ["updated_at", "2023-06-13 15:57:26.671237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/513/resenas/127" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"513", "id"=>"127"}
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 382], ["id", 127], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 513], ["LIMIT", 1]]
  [1m[36mResena Update (0.5ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 15:57:26.678786"], ["id", 127]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/513/resenas
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1524)
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.684391"], ["updated_at", "2023-06-13 15:57:26.684391"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.688999"], ["updated_at", "2023-06-13 15:57:26.688999"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 514], ["user_id", 383], ["created_at", "2023-06-13 15:57:26.691164"], ["updated_at", "2023-06-13 15:57:26.691164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/514/resenas/128" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"514", "id"=>"128"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 514], ["id", 128], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3073)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3457)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.6ms | Allocations: 4250)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.706123"], ["updated_at", "2023-06-13 15:57:26.706123"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.709909"], ["updated_at", "2023-06-13 15:57:26.709909"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 515], ["user_id", 384], ["created_at", "2023-06-13 15:57:26.712448"], ["updated_at", "2023-06-13 15:57:26.712448"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/515/resenas/new" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"515"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 515], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3220)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3604)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 4198)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.729474"], ["updated_at", "2023-06-13 15:57:26.729474"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.734084"], ["updated_at", "2023-06-13 15:57:26.734084"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 516], ["user_id", 385], ["created_at", "2023-06-13 15:57:26.736526"], ["updated_at", "2023-06-13 15:57:26.736526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1122)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2758)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3142)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.2ms | Allocations: 3485)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.748848"], ["updated_at", "2023-06-13 15:57:26.748848"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.753070"], ["updated_at", "2023-06-13 15:57:26.753070"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 517], ["user_id", 386], ["created_at", "2023-06-13 15:57:26.755274"], ["updated_at", "2023-06-13 15:57:26.755274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/517/resenas/131/edit" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"517", "id"=>"131"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 517], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 517], ["id", 131], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3118)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 3502)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.4ms | Allocations: 4243)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.769024"], ["updated_at", "2023-06-13 15:57:26.769024"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.773211"], ["updated_at", "2023-06-13 15:57:26.773211"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 518], ["user_id", 387], ["created_at", "2023-06-13 15:57:26.775548"], ["updated_at", "2023-06-13 15:57:26.775548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/518/resenas/132" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"518", "id"=>"132"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 518], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 518], ["id", 132], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.1ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 132]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/518/resenas
Completed 303 See Other in 3ms (ActiveRecord: 0.6ms | Allocations: 791)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 15:57:26.785910"], ["updated_at", "2023-06-13 15:57:26.785910"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 15:57:26.790220"], ["updated_at", "2023-06-13 15:57:26.790220"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 519], ["user_id", 388], ["created_at", "2023-06-13 15:57:26.792400"], ["updated_at", "2023-06-13 15:57:26.792400"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/519/resenas" for 127.0.0.1 at 2023-06-13 11:57:26 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"519"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 519], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 519], ["user_id", 388], ["created_at", "2023-06-13 15:57:26.798049"], ["updated_at", "2023-06-13 15:57:26.798049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/519/resenas
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 851)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.249666"], ["updated_at", "2023-06-13 16:01:10.249666"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.273186"], ["updated_at", "2023-06-13 16:01:10.273186"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 389], ["libro_id", 520], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.304820"], ["updated_at", "2023-06-13 16:01:10.304820"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/389/compras/139" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"389", "id"=>"139"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 389], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 520], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 16:01:10.389381"], ["id", 139]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/389/compras
Completed 302 Found in 14ms (ActiveRecord: 1.2ms | Allocations: 4432)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.398679"], ["updated_at", "2023-06-13 16:01:10.398679"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.403868"], ["updated_at", "2023-06-13 16:01:10.403868"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 390], ["libro_id", 521], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.406230"], ["updated_at", "2023-06-13 16:01:10.406230"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/390/compras/140" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"390", "id"=>"140"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.0ms | Allocations: 2259)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 521], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 572)
  Rendered compras/show.html.erb within layouts/application (Duration: 141.0ms | Allocations: 34304)
  Rendered layout layouts/application.html.erb (Duration: 145.1ms | Allocations: 36425)
Completed 200 OK in 157ms (Views: 150.1ms | ActiveRecord: 0.9ms | Allocations: 39399)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.574184"], ["updated_at", "2023-06-13 16:01:10.574184"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.582729"], ["updated_at", "2023-06-13 16:01:10.582729"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 391], ["libro_id", 522], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.586459"], ["updated_at", "2023-06-13 16:01:10.586459"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/391/compras" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"391"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 1101)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 391]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 18.3ms | Allocations: 3378)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 3763)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.2ms | Allocations: 4111)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.615896"], ["updated_at", "2023-06-13 16:01:10.615896"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.619786"], ["updated_at", "2023-06-13 16:01:10.619786"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 392], ["libro_id", 523], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.622243"], ["updated_at", "2023-06-13 16:01:10.622243"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 392], ["libro_id", 523], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.624941"], ["updated_at", "2023-06-13 16:01:10.624941"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/392/compras/143" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"392", "id"=>"143"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 392], ["id", 143], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.1ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 143]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/392/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 740)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.634635"], ["updated_at", "2023-06-13 16:01:10.634635"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.638096"], ["updated_at", "2023-06-13 16:01:10.638096"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 393], ["libro_id", 524], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.639846"], ["updated_at", "2023-06-13 16:01:10.639846"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/393/compras/144/edit" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"393", "id"=>"144"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1102)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 521)
  Rendered compras/edit.html.erb within layouts/application (Duration: 16.1ms | Allocations: 5719)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 6113)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.3ms | Allocations: 6559)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.664102"], ["updated_at", "2023-06-13 16:01:10.664102"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.668707"], ["updated_at", "2023-06-13 16:01:10.668707"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 394], ["libro_id", 525], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.670672"], ["updated_at", "2023-06-13 16:01:10.670672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/525/compras" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"525"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 525], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 394], ["libro_id", 525], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.677283"], ["updated_at", "2023-06-13 16:01:10.677283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/394/compras
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1152)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.682072"], ["updated_at", "2023-06-13 16:01:10.682072"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.685883"], ["updated_at", "2023-06-13 16:01:10.685883"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 395], ["libro_id", 526], ["estado", "E"], ["created_at", "2023-06-13 16:01:10.687952"], ["updated_at", "2023-06-13 16:01:10.687952"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/526/compras/new" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"526"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 526], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1123)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered compras/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3277)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3672)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.2ms | Allocations: 4278)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4193)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 4618)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.0ms | Allocations: 5427)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2553)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 2937)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 3247)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.731585"], ["updated_at", "2023-06-13 16:01:10.731585"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.736153"], ["updated_at", "2023-06-13 16:01:10.736153"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 396], ["libro_id", 527], ["created_at", "2023-06-13 16:01:10.751254"], ["updated_at", "2023-06-13 16:01:10.751254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/527/mensajes/124" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"527", "id"=>"124"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 396], ["id", 124], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 527], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 16:01:10.761176"], ["id", 124]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/527/mensajes
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1825)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.766370"], ["updated_at", "2023-06-13 16:01:10.766370"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.770320"], ["updated_at", "2023-06-13 16:01:10.770320"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 397], ["libro_id", 528], ["created_at", "2023-06-13 16:01:10.772387"], ["updated_at", "2023-06-13 16:01:10.772387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/528/mensajes/125" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"528", "id"=>"125"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 528], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 528], ["id", 125], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1199)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3818)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4240)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.6ms | Allocations: 5430)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.789035"], ["updated_at", "2023-06-13 16:01:10.789035"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.793754"], ["updated_at", "2023-06-13 16:01:10.793754"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 398], ["libro_id", 529], ["created_at", "2023-06-13 16:01:10.796135"], ["updated_at", "2023-06-13 16:01:10.796135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/529/mensajes" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"529"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 529], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1113)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 529]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3242)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 3626)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.5ms | Allocations: 4114)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.809628"], ["updated_at", "2023-06-13 16:01:10.809628"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.814044"], ["updated_at", "2023-06-13 16:01:10.814044"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 399], ["libro_id", 530], ["created_at", "2023-06-13 16:01:10.816732"], ["updated_at", "2023-06-13 16:01:10.816732"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/530/mensajes/127" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"530", "id"=>"127"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 530], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 530], ["id", 127], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 127]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/530/mensajes
Completed 303 See Other in 3ms (ActiveRecord: 0.7ms | Allocations: 804)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.826388"], ["updated_at", "2023-06-13 16:01:10.826388"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.830365"], ["updated_at", "2023-06-13 16:01:10.830365"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 400], ["libro_id", 531], ["created_at", "2023-06-13 16:01:10.832821"], ["updated_at", "2023-06-13 16:01:10.832821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/531/mensajes/128/edit" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"531", "id"=>"128"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 531], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 531], ["id", 128], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3062)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3446)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.3ms | Allocations: 4184)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.845857"], ["updated_at", "2023-06-13 16:01:10.845857"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.849738"], ["updated_at", "2023-06-13 16:01:10.849738"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 401], ["libro_id", 532], ["created_at", "2023-06-13 16:01:10.852233"], ["updated_at", "2023-06-13 16:01:10.852233"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/532/mensajes" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"532"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 532], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 401], ["libro_id", 532], ["created_at", "2023-06-13 16:01:10.857626"], ["updated_at", "2023-06-13 16:01:10.857626"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/532/mensajes
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 834)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.861916"], ["updated_at", "2023-06-13 16:01:10.861916"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:10.865517"], ["updated_at", "2023-06-13 16:01:10.865517"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 402], ["libro_id", 533], ["created_at", "2023-06-13 16:01:10.867906"], ["updated_at", "2023-06-13 16:01:10.867906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/533/mensajes/new" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"533"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 533], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2805)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 3189)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.1ms | Allocations: 3782)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.880306"], ["updated_at", "2023-06-13 16:01:10.880306"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/534" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"534"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 534], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.2ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 16:01:10.887462"], ["id", 534]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/534
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1322)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 534], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.892394"], ["updated_at", "2023-06-13 16:01:10.892394"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.894141"], ["updated_at", "2023-06-13 16:01:10.894141"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/536" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"536"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 536], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 964)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered libros/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3645)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4070)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.2ms | Allocations: 4919)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.910929"], ["updated_at", "2023-06-13 16:01:10.910929"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3286)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 3344)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3824)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.923970"], ["updated_at", "2023-06-13 16:01:10.923970"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/538" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"538"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 538], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 538]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 538]]
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 538]]
  [1m[36mLibro Destroy (0.5ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 538]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 10ms (ActiveRecord: 2.4ms | Allocations: 3638)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.941389"], ["updated_at", "2023-06-13 16:01:10.941389"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/539/edit" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"539"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 539], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 900)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered libros/edit.html.erb within layouts/application (Duration: 16.2ms | Allocations: 13368)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 13763)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.1ms | Allocations: 14277)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.966147"], ["updated_at", "2023-06-13 16:01:10.966147"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.971877"], ["updated_at", "2023-06-13 16:01:10.971877"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/541
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 820)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:10.977950"], ["updated_at", "2023-06-13 16:01:10.977950"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 12:01:10 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 890)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 15.0ms | Allocations: 12963)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 13361)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.0ms | Allocations: 13739)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.000890"], ["updated_at", "2023-06-13 16:01:11.000890"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.008604"], ["updated_at", "2023-06-13 16:01:11.008604"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3600)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 4022)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms | Allocations: 4809)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.026200"], ["updated_at", "2023-06-13 16:01:11.026200"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.031128"], ["updated_at", "2023-06-13 16:01:11.031128"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 544], ["user_id", 404], ["created_at", "2023-06-13 16:01:11.040322"], ["updated_at", "2023-06-13 16:01:11.040322"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/544/resenas/135" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"544", "id"=>"135"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 404], ["id", 135], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 544], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 16:01:11.051742"], ["id", 135]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/544/resenas
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 1829)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.058804"], ["updated_at", "2023-06-13 16:01:11.058804"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.063218"], ["updated_at", "2023-06-13 16:01:11.063218"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 545], ["user_id", 405], ["created_at", "2023-06-13 16:01:11.065985"], ["updated_at", "2023-06-13 16:01:11.065985"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/545/resenas/new" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"545"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 545], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered resenas/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3799)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 4220)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.2ms | Allocations: 5256)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.082088"], ["updated_at", "2023-06-13 16:01:11.082088"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.086370"], ["updated_at", "2023-06-13 16:01:11.086370"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 546], ["user_id", 406], ["created_at", "2023-06-13 16:01:11.088819"], ["updated_at", "2023-06-13 16:01:11.088819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/546/resenas/137/edit" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"546", "id"=>"137"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 546], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 546], ["id", 137], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3118)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 3502)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.5ms | Allocations: 4307)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.103285"], ["updated_at", "2023-06-13 16:01:11.103285"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.107628"], ["updated_at", "2023-06-13 16:01:11.107628"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 547], ["user_id", 407], ["created_at", "2023-06-13 16:01:11.110160"], ["updated_at", "2023-06-13 16:01:11.110160"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/547/resenas/138" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"547", "id"=>"138"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 547], ["LIMIT", 1]]
  [1m[36mResena Load (0.6ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 547], ["id", 138], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.2ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 138]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/547/resenas
Completed 303 See Other in 5ms (ActiveRecord: 1.4ms | Allocations: 805)
  [1m[36mResena Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.125751"], ["updated_at", "2023-06-13 16:01:11.125751"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.133667"], ["updated_at", "2023-06-13 16:01:11.133667"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 548], ["user_id", 408], ["created_at", "2023-06-13 16:01:11.138796"], ["updated_at", "2023-06-13 16:01:11.138796"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.4ms | Allocations: 1122)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 10.3ms | Allocations: 2759)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 3143)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.3ms | Allocations: 3486)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.161153"], ["updated_at", "2023-06-13 16:01:11.161153"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.165919"], ["updated_at", "2023-06-13 16:01:11.165919"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 549], ["user_id", 409], ["created_at", "2023-06-13 16:01:11.168123"], ["updated_at", "2023-06-13 16:01:11.168123"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/549/resenas" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"549"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 549], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 549], ["user_id", 409], ["created_at", "2023-06-13 16:01:11.173431"], ["updated_at", "2023-06-13 16:01:11.173431"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/549/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 858)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.178241"], ["updated_at", "2023-06-13 16:01:11.178241"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.182016"], ["updated_at", "2023-06-13 16:01:11.182016"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 550], ["user_id", 410], ["created_at", "2023-06-13 16:01:11.184001"], ["updated_at", "2023-06-13 16:01:11.184001"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/550/resenas/142" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"550", "id"=>"142"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 550], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 550], ["id", 142], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3079)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 3463)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.6ms | Allocations: 4217)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:11.197783"], ["updated_at", "2023-06-13 16:01:11.197783"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.201574"], ["updated_at", "2023-06-13 16:01:11.201574"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 551], ["user_id", 411], ["created_at", "2023-06-13 16:01:11.203600"], ["updated_at", "2023-06-13 16:01:11.203600"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/551/resenas" for 127.0.0.1 at 2023-06-13 12:01:11 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"551"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 551], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 551]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2825)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 3209)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.5ms | Allocations: 3653)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:11.219578"], ["updated_at", "2023-06-13 16:01:11.219578"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:33.923842"], ["updated_at", "2023-06-13 16:01:33.923842"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:33.928283"], ["updated_at", "2023-06-13 16:01:33.928283"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/553" for 127.0.0.1 at 2023-06-13 12:01:33 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"553"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 553], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.2ms | Allocations: 1954)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 571)
  Rendered libros/show.html.erb within layouts/application (Duration: 90.5ms | Allocations: 34493)
  Rendered layout layouts/application.html.erb (Duration: 93.6ms | Allocations: 36626)
Completed 200 OK in 111ms (Views: 98.9ms | ActiveRecord: 0.5ms | Allocations: 41783)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.103884"], ["updated_at", "2023-06-13 16:01:34.103884"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/554" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"554"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 554], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.4ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 16:01:34.131071"], ["id", 554]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/554
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1496)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 554], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.139009"], ["updated_at", "2023-06-13 16:01:34.139009"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3395)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3454)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3999)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.154963"], ["updated_at", "2023-06-13 16:01:34.154963"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 910)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 28.0ms | Allocations: 15763)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 16161)
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 0.0ms | Allocations: 16553)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.191934"], ["updated_at", "2023-06-13 16:01:34.191934"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/557/edit" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"557"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 557], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 897)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/edit.html.erb within layouts/application (Duration: 15.3ms | Allocations: 12801)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 13186)
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.2ms | Allocations: 13677)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.217416"], ["updated_at", "2023-06-13 16:01:34.217416"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.223776"], ["updated_at", "2023-06-13 16:01:34.223776"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/559
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 991)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.231025"], ["updated_at", "2023-06-13 16:01:34.231025"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/560" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"560"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 560], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 560]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 560]]
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 560]]
  [1m[36mLibro Destroy (0.7ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 560]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 35ms (ActiveRecord: 4.9ms | Allocations: 11135)
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.284265"], ["updated_at", "2023-06-13 16:01:34.284265"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.303876"], ["updated_at", "2023-06-13 16:01:34.303876"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 413], ["libro_id", 561], ["created_at", "2023-06-13 16:01:34.341637"], ["updated_at", "2023-06-13 16:01:34.341637"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/561/mensajes/132" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"561", "id"=>"132"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 561], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 561], ["id", 132], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.8ms | Allocations: 1403)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 21.3ms | Allocations: 4183)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 4605)
Completed 200 OK in 52ms (Views: 30.9ms | ActiveRecord: 0.7ms | Allocations: 6084)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.423348"], ["updated_at", "2023-06-13 16:01:34.423348"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.429321"], ["updated_at", "2023-06-13 16:01:34.429321"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 414], ["libro_id", 562], ["created_at", "2023-06-13 16:01:34.433492"], ["updated_at", "2023-06-13 16:01:34.433492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/562/mensajes/133" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"562", "id"=>"133"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 414], ["id", 133], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 562], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 16:01:34.440845"], ["id", 133]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/562/mensajes
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1505)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.446186"], ["updated_at", "2023-06-13 16:01:34.446186"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.450435"], ["updated_at", "2023-06-13 16:01:34.450435"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 415], ["libro_id", 563], ["created_at", "2023-06-13 16:01:34.452737"], ["updated_at", "2023-06-13 16:01:34.452737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/563/mensajes" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"563"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 563], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1111)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 563]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3076)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 3460)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.7ms | Allocations: 3940)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.468252"], ["updated_at", "2023-06-13 16:01:34.468252"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.474924"], ["updated_at", "2023-06-13 16:01:34.474924"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 416], ["libro_id", 564], ["created_at", "2023-06-13 16:01:34.478507"], ["updated_at", "2023-06-13 16:01:34.478507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/564/mensajes/new" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"564"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 564], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1114)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 521)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3458)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 3852)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.2ms | Allocations: 4472)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.495924"], ["updated_at", "2023-06-13 16:01:34.495924"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.500778"], ["updated_at", "2023-06-13 16:01:34.500778"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 417], ["libro_id", 565], ["created_at", "2023-06-13 16:01:34.503650"], ["updated_at", "2023-06-13 16:01:34.503650"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/565/mensajes/136/edit" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"565", "id"=>"136"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 565], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 565], ["id", 136], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1132)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3317)
Completed 200 OK in 13ms (Views: 6.4ms | ActiveRecord: 0.9ms | Allocations: 4136)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.523318"], ["updated_at", "2023-06-13 16:01:34.523318"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.528511"], ["updated_at", "2023-06-13 16:01:34.528511"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 418], ["libro_id", 566], ["created_at", "2023-06-13 16:01:34.531179"], ["updated_at", "2023-06-13 16:01:34.531179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/566/mensajes" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"566"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 566], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 418], ["libro_id", 566], ["created_at", "2023-06-13 16:01:34.537698"], ["updated_at", "2023-06-13 16:01:34.537698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/566/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 841)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.543817"], ["updated_at", "2023-06-13 16:01:34.543817"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.548975"], ["updated_at", "2023-06-13 16:01:34.548975"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 419], ["libro_id", 567], ["created_at", "2023-06-13 16:01:34.552003"], ["updated_at", "2023-06-13 16:01:34.552003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/567/mensajes/139" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"567", "id"=>"139"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 567], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.7ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 567], ["id", 139], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.4ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 139]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/567/mensajes
Completed 303 See Other in 7ms (ActiveRecord: 1.8ms | Allocations: 794)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.569230"], ["updated_at", "2023-06-13 16:01:34.569230"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.573253"], ["updated_at", "2023-06-13 16:01:34.573253"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.578283"], ["updated_at", "2023-06-13 16:01:34.578283"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 569], ["user_id", 420], ["created_at", "2023-06-13 16:01:34.581074"], ["updated_at", "2023-06-13 16:01:34.581074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/569/resenas/144" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"569", "id"=>"144"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 569], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 569], ["id", 144], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1203)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered resenas/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 3834)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 4256)
Completed 200 OK in 16ms (Views: 11.7ms | ActiveRecord: 0.8ms | Allocations: 5722)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.606203"], ["updated_at", "2023-06-13 16:01:34.606203"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.613603"], ["updated_at", "2023-06-13 16:01:34.613603"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 570], ["user_id", 421], ["created_at", "2023-06-13 16:01:34.616654"], ["updated_at", "2023-06-13 16:01:34.616654"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/570/resenas/145" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"570", "id"=>"145"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 421], ["id", 145], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 570], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 16:01:34.625040"], ["id", 145]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/570/resenas
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 1460)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.632085"], ["updated_at", "2023-06-13 16:01:34.632085"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.637596"], ["updated_at", "2023-06-13 16:01:34.637596"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 571], ["user_id", 422], ["created_at", "2023-06-13 16:01:34.640903"], ["updated_at", "2023-06-13 16:01:34.640903"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/571/resenas" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"571"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 571], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.5ms | Allocations: 1111)
  [1m[36mResena Load (7.8ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 571]]
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 2827)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 3211)
Completed 200 OK in 24ms (Views: 13.6ms | ActiveRecord: 8.1ms | Allocations: 3690)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (64.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.683480"], ["updated_at", "2023-06-13 16:01:34.683480"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.756637"], ["updated_at", "2023-06-13 16:01:34.756637"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 572], ["user_id", 423], ["created_at", "2023-06-13 16:01:34.760364"], ["updated_at", "2023-06-13 16:01:34.760364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/572/resenas/147/edit" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"572", "id"=>"147"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 572], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 572], ["id", 147], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3291)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3675)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.5ms | Allocations: 4416)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.776723"], ["updated_at", "2023-06-13 16:01:34.776723"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.782137"], ["updated_at", "2023-06-13 16:01:34.782137"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 573], ["user_id", 424], ["created_at", "2023-06-13 16:01:34.785832"], ["updated_at", "2023-06-13 16:01:34.785832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/573/resenas/new" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"573"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 573], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3047)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3431)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.2ms | Allocations: 4025)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.801254"], ["updated_at", "2023-06-13 16:01:34.801254"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.807496"], ["updated_at", "2023-06-13 16:01:34.807496"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 574], ["user_id", 425], ["created_at", "2023-06-13 16:01:34.811716"], ["updated_at", "2023-06-13 16:01:34.811716"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1122)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2761)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3145)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.5ms | Allocations: 3488)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.829662"], ["updated_at", "2023-06-13 16:01:34.829662"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.833710"], ["updated_at", "2023-06-13 16:01:34.833710"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 575], ["user_id", 426], ["created_at", "2023-06-13 16:01:34.835859"], ["updated_at", "2023-06-13 16:01:34.835859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/575/resenas" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"575"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 575], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 575], ["user_id", 426], ["created_at", "2023-06-13 16:01:34.841208"], ["updated_at", "2023-06-13 16:01:34.841208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/575/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 851)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.846009"], ["updated_at", "2023-06-13 16:01:34.846009"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.849901"], ["updated_at", "2023-06-13 16:01:34.849901"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 576], ["user_id", 427], ["created_at", "2023-06-13 16:01:34.851789"], ["updated_at", "2023-06-13 16:01:34.851789"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/576/resenas/152" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"576", "id"=>"152"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 576], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 576], ["id", 152], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.1ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 152]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/576/resenas
Completed 303 See Other in 3ms (ActiveRecord: 0.7ms | Allocations: 790)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.862069"], ["updated_at", "2023-06-13 16:01:34.862069"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.866207"], ["updated_at", "2023-06-13 16:01:34.866207"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 428], ["libro_id", 577], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.875244"], ["updated_at", "2023-06-13 16:01:34.875244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/428/compras/148" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"428", "id"=>"148"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1203)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 577], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 428], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 4072)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 4494)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.6ms | Allocations: 5681)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.895990"], ["updated_at", "2023-06-13 16:01:34.895990"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.900334"], ["updated_at", "2023-06-13 16:01:34.900334"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 429], ["libro_id", 578], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.902308"], ["updated_at", "2023-06-13 16:01:34.902308"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/429/compras/149" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"429", "id"=>"149"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 578], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 16:01:34.907872"], ["id", 149]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/429/compras
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 1225)
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.912307"], ["updated_at", "2023-06-13 16:01:34.912307"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.916775"], ["updated_at", "2023-06-13 16:01:34.916775"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 430], ["libro_id", 579], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.919045"], ["updated_at", "2023-06-13 16:01:34.919045"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/430/compras" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"430"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1101)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 430]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3320)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3704)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.2ms | Allocations: 4046)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.931980"], ["updated_at", "2023-06-13 16:01:34.931980"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.936428"], ["updated_at", "2023-06-13 16:01:34.936428"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 431], ["libro_id", 580], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.938778"], ["updated_at", "2023-06-13 16:01:34.938778"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/580/compras/new" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"580"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 580], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered compras/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3034)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3428)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms | Allocations: 3981)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.952952"], ["updated_at", "2023-06-13 16:01:34.952952"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.957481"], ["updated_at", "2023-06-13 16:01:34.957481"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 432], ["libro_id", 581], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.959894"], ["updated_at", "2023-06-13 16:01:34.959894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/432/compras/152/edit" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"432", "id"=>"152"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1119)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/edit.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3379)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3764)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.4ms | Allocations: 4253)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.972933"], ["updated_at", "2023-06-13 16:01:34.972933"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.977270"], ["updated_at", "2023-06-13 16:01:34.977270"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 433], ["libro_id", 582], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.979742"], ["updated_at", "2023-06-13 16:01:34.979742"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/582/compras" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"582"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 582], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 433], ["libro_id", 582], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.984944"], ["updated_at", "2023-06-13 16:01:34.984944"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/433/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 729)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:01:34.989194"], ["updated_at", "2023-06-13 16:01:34.989194"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:34.993240"], ["updated_at", "2023-06-13 16:01:34.993240"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 434], ["libro_id", 583], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.995215"], ["updated_at", "2023-06-13 16:01:34.995215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 434], ["libro_id", 583], ["estado", "E"], ["created_at", "2023-06-13 16:01:34.996631"], ["updated_at", "2023-06-13 16:01:34.996631"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/434/compras/156" for 127.0.0.1 at 2023-06-13 12:01:34 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"434", "id"=>"156"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 434], ["id", 156], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 156]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/434/compras
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 665)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:35.012213"], ["updated_at", "2023-06-13 16:01:35.012213"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 12:01:35 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 968)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered home/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3159)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 3584)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 4354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 12:01:35 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered home/inicio.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3510)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3894)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms | Allocations: 4262)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:01:35.044160"], ["updated_at", "2023-06-13 16:01:35.044160"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 12:01:35 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3601)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 4023)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms | Allocations: 4810)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.198757"], ["updated_at", "2023-06-13 16:05:11.198757"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.224684"], ["updated_at", "2023-06-13 16:05:11.224684"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.1ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 584], ["user_id", 437], ["created_at", "2023-06-13 16:05:11.259825"], ["updated_at", "2023-06-13 16:05:11.259825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/584/resenas" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"584"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 584], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 584], ["user_id", 437], ["created_at", "2023-06-13 16:05:11.335697"], ["updated_at", "2023-06-13 16:05:11.335697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/584/resenas
Completed 302 Found in 10ms (ActiveRecord: 0.9ms | Allocations: 3377)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.344101"], ["updated_at", "2023-06-13 16:05:11.344101"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.348960"], ["updated_at", "2023-06-13 16:05:11.348960"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 585], ["user_id", 438], ["created_at", "2023-06-13 16:05:11.351246"], ["updated_at", "2023-06-13 16:05:11.351246"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 16.9ms | Allocations: 2284)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 3.0ms | Allocations: 571)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 156.0ms | Allocations: 33964)
  Rendered layout layouts/application.html.erb (Duration: 159.5ms | Allocations: 36084)
Completed 200 OK in 170ms (Views: 164.9ms | ActiveRecord: 0.3ms | Allocations: 38954)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.532726"], ["updated_at", "2023-06-13 16:05:11.532726"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.536508"], ["updated_at", "2023-06-13 16:05:11.536508"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 586], ["user_id", 439], ["created_at", "2023-06-13 16:05:11.538472"], ["updated_at", "2023-06-13 16:05:11.538472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/586/resenas/new" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"586"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 586], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 522)
  Rendered resenas/new.html.erb within layouts/application (Duration: 26.1ms | Allocations: 6388)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 6809)
Completed 200 OK in 30ms (Views: 28.5ms | ActiveRecord: 0.2ms | Allocations: 7845)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.575680"], ["updated_at", "2023-06-13 16:05:11.575680"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.580312"], ["updated_at", "2023-06-13 16:05:11.580312"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 587], ["user_id", 440], ["created_at", "2023-06-13 16:05:11.582776"], ["updated_at", "2023-06-13 16:05:11.582776"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/587/resenas/157/edit" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"587", "id"=>"157"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 587], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 587], ["id", 157], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1133)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 463)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3241)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 3626)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.3ms | Allocations: 4561)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.596171"], ["updated_at", "2023-06-13 16:05:11.596171"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.599820"], ["updated_at", "2023-06-13 16:05:11.599820"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 588], ["user_id", 441], ["created_at", "2023-06-13 16:05:11.602144"], ["updated_at", "2023-06-13 16:05:11.602144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/588/resenas" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"588"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 588], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1111)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 588]]
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3042)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3426)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.3ms | Allocations: 3870)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.614652"], ["updated_at", "2023-06-13 16:05:11.614652"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.619083"], ["updated_at", "2023-06-13 16:05:11.619083"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 589], ["user_id", 442], ["created_at", "2023-06-13 16:05:11.620889"], ["updated_at", "2023-06-13 16:05:11.620889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/589/resenas/159" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"589", "id"=>"159"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 589], ["LIMIT", 1]]
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 589], ["id", 159], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.3ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 159]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/589/resenas
Completed 303 See Other in 5ms (ActiveRecord: 1.2ms | Allocations: 882)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.631727"], ["updated_at", "2023-06-13 16:05:11.631727"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.635575"], ["updated_at", "2023-06-13 16:05:11.635575"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 590], ["user_id", 443], ["created_at", "2023-06-13 16:05:11.637456"], ["updated_at", "2023-06-13 16:05:11.637456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/590/resenas/160" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"590", "id"=>"160"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 443], ["id", 160], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 590], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 16:05:11.643456"], ["id", 160]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/590/resenas
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 1599)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.649140"], ["updated_at", "2023-06-13 16:05:11.649140"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.653093"], ["updated_at", "2023-06-13 16:05:11.653093"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 591], ["user_id", 444], ["created_at", "2023-06-13 16:05:11.655099"], ["updated_at", "2023-06-13 16:05:11.655099"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/591/resenas/161" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"591", "id"=>"161"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 591], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 591], ["id", 161], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 444], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3189)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3573)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 4327)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.669009"], ["updated_at", "2023-06-13 16:05:11.669009"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 12.2ms | Allocations: 4191)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 4616)
Completed 200 OK in 15ms (Views: 14.5ms | ActiveRecord: 0.0ms | Allocations: 5425)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2552)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 2936)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 3246)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.717452"], ["updated_at", "2023-06-13 16:05:11.717452"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.721602"], ["updated_at", "2023-06-13 16:05:11.721602"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 445], ["libro_id", 593], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.734488"], ["updated_at", "2023-06-13 16:05:11.734488"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/593/compras" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"593"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 593], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 445], ["libro_id", 593], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.743243"], ["updated_at", "2023-06-13 16:05:11.743243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/445/compras
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1019)
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.749145"], ["updated_at", "2023-06-13 16:05:11.749145"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.753418"], ["updated_at", "2023-06-13 16:05:11.753418"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 446], ["libro_id", 594], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.755430"], ["updated_at", "2023-06-13 16:05:11.755430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/446/compras/159/edit" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"446", "id"=>"159"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1199)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 522)
  Rendered compras/edit.html.erb within layouts/application (Duration: 9.5ms | Allocations: 4586)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 5007)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.5ms | Allocations: 5996)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
ComprasControllerTest: test_should_get_new_with_unprocessable_entity_status
---------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.774747"], ["updated_at", "2023-06-13 16:05:11.774747"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.779029"], ["updated_at", "2023-06-13 16:05:11.779029"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 447], ["libro_id", 595], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.781229"], ["updated_at", "2023-06-13 16:05:11.781229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.784987"], ["updated_at", "2023-06-13 16:05:11.784987"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.788819"], ["updated_at", "2023-06-13 16:05:11.788819"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 448], ["libro_id", 596], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.790800"], ["updated_at", "2023-06-13 16:05:11.790800"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/448/compras" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"448"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1121)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 448]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3423)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3808)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms | Allocations: 4179)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.803073"], ["updated_at", "2023-06-13 16:05:11.803073"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.806949"], ["updated_at", "2023-06-13 16:05:11.806949"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 449], ["libro_id", 597], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.809102"], ["updated_at", "2023-06-13 16:05:11.809102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/597/compras/new" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"597"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 597], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 521)
  Rendered compras/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3000)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3394)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms | Allocations: 3955)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.822387"], ["updated_at", "2023-06-13 16:05:11.822387"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.826914"], ["updated_at", "2023-06-13 16:05:11.826914"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 450], ["libro_id", 598], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.829688"], ["updated_at", "2023-06-13 16:05:11.829688"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 450], ["libro_id", 598], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.831289"], ["updated_at", "2023-06-13 16:05:11.831289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/450/compras/164" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"450", "id"=>"164"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 450], ["id", 164], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 164]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/450/compras
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 721)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.841283"], ["updated_at", "2023-06-13 16:05:11.841283"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.845599"], ["updated_at", "2023-06-13 16:05:11.845599"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 451], ["libro_id", 599], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.847598"], ["updated_at", "2023-06-13 16:05:11.847598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/451/compras/165" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"451", "id"=>"165"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 599], ["LIMIT", 1]]
  [1m[36mCompra Update (0.2ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 16:05:11.853467"], ["id", 165]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/451/compras
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1341)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.857684"], ["updated_at", "2023-06-13 16:05:11.857684"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.862425"], ["updated_at", "2023-06-13 16:05:11.862425"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 452], ["libro_id", 600], ["estado", "E"], ["created_at", "2023-06-13 16:05:11.865090"], ["updated_at", "2023-06-13 16:05:11.865090"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/452/compras/166" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"452", "id"=>"166"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1114)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 600], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 452], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3031)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3416)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.6ms | Allocations: 3873)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.878230"], ["updated_at", "2023-06-13 16:05:11.878230"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.883462"], ["updated_at", "2023-06-13 16:05:11.883462"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/602
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 835)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.889550"], ["updated_at", "2023-06-13 16:05:11.889550"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/603/edit" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"603"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 603], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 854)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/edit.html.erb within layouts/application (Duration: 16.4ms | Allocations: 12912)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 13296)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.1ms | Allocations: 13712)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.914488"], ["updated_at", "2023-06-13 16:05:11.914488"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.916312"], ["updated_at", "2023-06-13 16:05:11.916312"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/605" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"605"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 605], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 3078)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 3462)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.3ms | Allocations: 3876)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.929472"], ["updated_at", "2023-06-13 16:05:11.929472"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3256)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 3314)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3758)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.941998"], ["updated_at", "2023-06-13 16:05:11.941998"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 907)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 15.2ms | Allocations: 13091)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 13489)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.0ms | Allocations: 13880)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.964610"], ["updated_at", "2023-06-13 16:05:11.964610"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/608" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"608"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 608], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 608]]
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 608]]
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 608]]
  [1m[36mLibro Destroy (0.9ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 608]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 9ms (ActiveRecord: 2.4ms | Allocations: 1948)
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:11.982042"], ["updated_at", "2023-06-13 16:05:11.982042"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/609" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"609"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 609], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 16:05:11.988298"], ["id", 609]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/609
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 995)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 609], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:11.997256"], ["updated_at", "2023-06-13 16:05:11.997256"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 12:05:11 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3600)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 4022)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 4810)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:12.016351"], ["updated_at", "2023-06-13 16:05:12.016351"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:12.025325"], ["updated_at", "2023-06-13 16:05:12.025325"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:12.029614"], ["updated_at", "2023-06-13 16:05:12.029614"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 455], ["libro_id", 610], ["created_at", "2023-06-13 16:05:12.031996"], ["updated_at", "2023-06-13 16:05:12.031996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/610/mensajes" for 127.0.0.1 at 2023-06-13 12:05:12 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"610"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 610], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 455], ["libro_id", 610], ["created_at", "2023-06-13 16:05:12.040329"], ["updated_at", "2023-06-13 16:05:12.040329"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/610/mensajes
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 1145)
  [1m[36mMensaje Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:12.048257"], ["updated_at", "2023-06-13 16:05:12.048257"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:12.054101"], ["updated_at", "2023-06-13 16:05:12.054101"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.1ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 456], ["libro_id", 611], ["created_at", "2023-06-13 16:05:12.057785"], ["updated_at", "2023-06-13 16:05:12.057785"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/611/mensajes/142/edit" for 127.0.0.1 at 2023-06-13 12:05:12 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"611", "id"=>"142"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 611], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 611], ["id", 142], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 464)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3601)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4022)
Completed 200 OK in 16ms (Views: 12.1ms | ActiveRecord: 0.8ms | Allocations: 5266)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:12.083153"], ["updated_at", "2023-06-13 16:05:12.083153"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:12.089119"], ["updated_at", "2023-06-13 16:05:12.089119"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 457], ["libro_id", 612], ["created_at", "2023-06-13 16:05:12.091460"], ["updated_at", "2023-06-13 16:05:12.091460"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/612/mensajes/143" for 127.0.0.1 at 2023-06-13 12:05:12 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"612", "id"=>"143"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 612], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 612], ["id", 143], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 457], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3464)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.7ms | Allocations: 4274)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:12.105832"], ["updated_at", "2023-06-13 16:05:12.105832"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:12.109785"], ["updated_at", "2023-06-13 16:05:12.109785"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 458], ["libro_id", 613], ["created_at", "2023-06-13 16:05:12.111745"], ["updated_at", "2023-06-13 16:05:12.111745"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/613/mensajes" for 127.0.0.1 at 2023-06-13 12:05:12 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"613"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 613], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1111)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 613]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3062)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3446)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.6ms | Allocations: 3890)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:12.125017"], ["updated_at", "2023-06-13 16:05:12.125017"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:12.129333"], ["updated_at", "2023-06-13 16:05:12.129333"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 459], ["libro_id", 614], ["created_at", "2023-06-13 16:05:12.131577"], ["updated_at", "2023-06-13 16:05:12.131577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/614/mensajes/new" for 127.0.0.1 at 2023-06-13 12:05:12 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"614"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 614], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2803)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 3187)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.1ms | Allocations: 3780)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:12.144079"], ["updated_at", "2023-06-13 16:05:12.144079"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:12.148425"], ["updated_at", "2023-06-13 16:05:12.148425"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 460], ["libro_id", 615], ["created_at", "2023-06-13 16:05:12.150571"], ["updated_at", "2023-06-13 16:05:12.150571"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/615/mensajes/146" for 127.0.0.1 at 2023-06-13 12:05:12 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"615", "id"=>"146"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 615], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 615], ["id", 146], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 146]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/615/mensajes
Completed 303 See Other in 3ms (ActiveRecord: 0.7ms | Allocations: 814)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:05:12.160354"], ["updated_at", "2023-06-13 16:05:12.160354"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:05:12.164009"], ["updated_at", "2023-06-13 16:05:12.164009"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 461], ["libro_id", 616], ["created_at", "2023-06-13 16:05:12.165943"], ["updated_at", "2023-06-13 16:05:12.165943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/616/mensajes/147" for 127.0.0.1 at 2023-06-13 12:05:12 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"616", "id"=>"147"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 461], ["id", 147], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 616], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.2ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 16:05:12.172654"], ["id", 147]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/616/mensajes
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 1374)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:45.375425"], ["updated_at", "2023-06-13 16:06:45.375425"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:45.554651"], ["updated_at", "2023-06-13 16:06:45.554651"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:45.577973"], ["updated_at", "2023-06-13 16:06:45.577973"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 462], ["libro_id", 618], ["created_at", "2023-06-13 16:06:45.598458"], ["updated_at", "2023-06-13 16:06:45.598458"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/618/mensajes/148" for 127.0.0.1 at 2023-06-13 12:06:45 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"618", "id"=>"148"}
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 462], ["id", 148], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 618], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 16:06:45.681684"], ["id", 148]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/618/mensajes
Completed 302 Found in 13ms (ActiveRecord: 1.2ms | Allocations: 4154)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:45.690219"], ["updated_at", "2023-06-13 16:06:45.690219"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:45.694757"], ["updated_at", "2023-06-13 16:06:45.694757"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 463], ["libro_id", 619], ["created_at", "2023-06-13 16:06:45.696878"], ["updated_at", "2023-06-13 16:06:45.696878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/619/mensajes/149/edit" for 127.0.0.1 at 2023-06-13 12:06:45 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"619", "id"=>"149"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 619], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 619], ["id", 149], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.8ms | Allocations: 2280)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 664)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 152.7ms | Allocations: 36654)
  Rendered layout layouts/application.html.erb (Duration: 155.5ms | Allocations: 38777)
Completed 200 OK in 169ms (Views: 161.3ms | ActiveRecord: 0.6ms | Allocations: 42325)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:45.878443"], ["updated_at", "2023-06-13 16:06:45.878443"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:45.886000"], ["updated_at", "2023-06-13 16:06:45.886000"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 464], ["libro_id", 620], ["created_at", "2023-06-13 16:06:45.890474"], ["updated_at", "2023-06-13 16:06:45.890474"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/620/mensajes/150" for 127.0.0.1 at 2023-06-13 12:06:45 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"620", "id"=>"150"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 620], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 620], ["id", 150], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.5ms | Allocations: 1122)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 12.1ms | Allocations: 3230)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 3615)
Completed 200 OK in 18ms (Views: 12.8ms | ActiveRecord: 1.2ms | Allocations: 4430)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:45.918487"], ["updated_at", "2023-06-13 16:06:45.918487"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:45.922238"], ["updated_at", "2023-06-13 16:06:45.922238"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 465], ["libro_id", 621], ["created_at", "2023-06-13 16:06:45.924554"], ["updated_at", "2023-06-13 16:06:45.924554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/621/mensajes" for 127.0.0.1 at 2023-06-13 12:06:45 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"621"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 621], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1111)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 621]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3255)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 3639)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.5ms | Allocations: 4083)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:45.941686"], ["updated_at", "2023-06-13 16:06:45.941686"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:45.946009"], ["updated_at", "2023-06-13 16:06:45.946009"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 466], ["libro_id", 622], ["created_at", "2023-06-13 16:06:45.948343"], ["updated_at", "2023-06-13 16:06:45.948343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/622/mensajes/new" for 127.0.0.1 at 2023-06-13 12:06:45 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"622"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 622], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2861)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3245)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.3ms | Allocations: 3838)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:45.963623"], ["updated_at", "2023-06-13 16:06:45.963623"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:45.970542"], ["updated_at", "2023-06-13 16:06:45.970542"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 467], ["libro_id", 623], ["created_at", "2023-06-13 16:06:45.973619"], ["updated_at", "2023-06-13 16:06:45.973619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/623/mensajes/153" for 127.0.0.1 at 2023-06-13 12:06:45 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"623", "id"=>"153"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 623], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 623], ["id", 153], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 153]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/623/mensajes
Completed 303 See Other in 4ms (ActiveRecord: 0.8ms | Allocations: 849)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:45.986074"], ["updated_at", "2023-06-13 16:06:45.986074"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:45.990748"], ["updated_at", "2023-06-13 16:06:45.990748"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 468], ["libro_id", 624], ["created_at", "2023-06-13 16:06:45.993138"], ["updated_at", "2023-06-13 16:06:45.993138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/624/mensajes" for 127.0.0.1 at 2023-06-13 12:06:45 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"624"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 624], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 468], ["libro_id", 624], ["created_at", "2023-06-13 16:06:46.003172"], ["updated_at", "2023-06-13 16:06:46.003172"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/624/mensajes
Completed 302 Found in 8ms (ActiveRecord: 1.1ms | Allocations: 1100)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.014706"], ["updated_at", "2023-06-13 16:06:46.014706"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.020707"], ["updated_at", "2023-06-13 16:06:46.020707"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.025729"], ["updated_at", "2023-06-13 16:06:46.025729"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 470], ["libro_id", 625], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.038942"], ["updated_at", "2023-06-13 16:06:46.038942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/470/compras/167" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"470", "id"=>"167"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 625], ["LIMIT", 1]]
  [1m[36mCompra Update (0.4ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 16:06:46.054470"], ["id", 167]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/470/compras
Completed 302 Found in 11ms (ActiveRecord: 1.7ms | Allocations: 2016)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.061183"], ["updated_at", "2023-06-13 16:06:46.061183"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.066360"], ["updated_at", "2023-06-13 16:06:46.066360"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 471], ["libro_id", 626], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.069042"], ["updated_at", "2023-06-13 16:06:46.069042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/626/compras/new" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"626"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 626], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1199)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 522)
  Rendered compras/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 3611)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4032)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.2ms | Allocations: 4997)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.088717"], ["updated_at", "2023-06-13 16:06:46.088717"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.094756"], ["updated_at", "2023-06-13 16:06:46.094756"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 472], ["libro_id", 627], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.097841"], ["updated_at", "2023-06-13 16:06:46.097841"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 472], ["libro_id", 627], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.100130"], ["updated_at", "2023-06-13 16:06:46.100130"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/472/compras/170" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"472", "id"=>"170"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 472], ["id", 170], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 170]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/472/compras
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 722)
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.115141"], ["updated_at", "2023-06-13 16:06:46.115141"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.120018"], ["updated_at", "2023-06-13 16:06:46.120018"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 473], ["libro_id", 628], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.122670"], ["updated_at", "2023-06-13 16:06:46.122670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/473/compras/171" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"473", "id"=>"171"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1114)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 473], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3033)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3418)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.7ms | Allocations: 3885)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.138337"], ["updated_at", "2023-06-13 16:06:46.138337"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.143020"], ["updated_at", "2023-06-13 16:06:46.143020"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 474], ["libro_id", 629], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.145587"], ["updated_at", "2023-06-13 16:06:46.145587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/474/compras/172/edit" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"474", "id"=>"172"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 474], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 521)
  Rendered compras/edit.html.erb within layouts/application (Duration: 10.3ms | Allocations: 3643)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 4037)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.6ms | Allocations: 4476)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.165431"], ["updated_at", "2023-06-13 16:06:46.165431"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.170266"], ["updated_at", "2023-06-13 16:06:46.170266"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 475], ["libro_id", 630], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.172793"], ["updated_at", "2023-06-13 16:06:46.172793"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/475/compras" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"475"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1121)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 475]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3401)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3786)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 4157)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ComprasControllerTest: test_should_create_compra_with_unprocessable_entity_status
---------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.189121"], ["updated_at", "2023-06-13 16:06:46.189121"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.194053"], ["updated_at", "2023-06-13 16:06:46.194053"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 476], ["libro_id", 631], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.196951"], ["updated_at", "2023-06-13 16:06:46.196951"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/631/compras" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"invalid_param"=>"invalid"}, "libro_id"=>"631"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 631], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 476], ["libro_id", 631], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.206097"], ["updated_at", "2023-06-13 16:06:46.206097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/476/compras
Completed 302 Found in 7ms (ActiveRecord: 1.2ms | Allocations: 737)
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.213155"], ["updated_at", "2023-06-13 16:06:46.213155"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.218635"], ["updated_at", "2023-06-13 16:06:46.218635"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 477], ["libro_id", 632], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.221807"], ["updated_at", "2023-06-13 16:06:46.221807"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/632/compras" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"632"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 632], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 477], ["libro_id", 632], ["estado", "E"], ["created_at", "2023-06-13 16:06:46.228166"], ["updated_at", "2023-06-13 16:06:46.228166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/477/compras
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 716)
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.1ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 12.6ms | Allocations: 4191)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 4616)
Completed 200 OK in 17ms (Views: 15.7ms | ActiveRecord: 0.0ms | Allocations: 5425)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2553)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2937)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 3247)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.287316"], ["updated_at", "2023-06-13 16:06:46.287316"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3600)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 4022)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 4809)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.316527"], ["updated_at", "2023-06-13 16:06:46.316527"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/633" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"633"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 633], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.4ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 16:06:46.326705"], ["id", 633]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/633
Completed 302 Found in 7ms (ActiveRecord: 1.2ms | Allocations: 1322)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 633], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.335611"], ["updated_at", "2023-06-13 16:06:46.335611"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/634/edit" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"634"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 634], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 963)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 522)
  Rendered libros/edit.html.erb within layouts/application (Duration: 31.7ms | Allocations: 13834)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 14256)
Completed 200 OK in 37ms (Views: 35.3ms | ActiveRecord: 0.2ms | Allocations: 15108)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.383451"], ["updated_at", "2023-06-13 16:06:46.383451"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.387688"], ["updated_at", "2023-06-13 16:06:46.387688"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/636" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"636"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 897)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3184)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 3569)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.3ms | Allocations: 4060)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.411157"], ["updated_at", "2023-06-13 16:06:46.411157"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3284)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 3342)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 3787)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.431362"], ["updated_at", "2023-06-13 16:06:46.431362"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 907)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 21.1ms | Allocations: 13092)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 13490)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 13881)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.464952"], ["updated_at", "2023-06-13 16:06:46.464952"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/639" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"639"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 639], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.6ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 639]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 639]]
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 639]]
  [1m[36mLibro Destroy (0.9ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 639]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 11ms (ActiveRecord: 2.6ms | Allocations: 1939)
  [1m[36mLibro Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.488078"], ["updated_at", "2023-06-13 16:06:46.488078"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.495661"], ["updated_at", "2023-06-13 16:06:46.495661"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/641
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 787)
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.503526"], ["updated_at", "2023-06-13 16:06:46.503526"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.507452"], ["updated_at", "2023-06-13 16:06:46.507452"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 642], ["user_id", 479], ["created_at", "2023-06-13 16:06:46.509798"], ["updated_at", "2023-06-13 16:06:46.509798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/642/resenas/162" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"642", "id"=>"162"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 479], ["id", 162], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 642], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 16:06:46.518816"], ["id", 162]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/642/resenas
Completed 302 Found in 6ms (ActiveRecord: 0.8ms | Allocations: 1828)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.524405"], ["updated_at", "2023-06-13 16:06:46.524405"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.528618"], ["updated_at", "2023-06-13 16:06:46.528618"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 643], ["user_id", 480], ["created_at", "2023-06-13 16:06:46.530848"], ["updated_at", "2023-06-13 16:06:46.530848"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/643/resenas/new" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"643"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 643], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered resenas/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3797)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 4218)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.2ms | Allocations: 5254)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.547786"], ["updated_at", "2023-06-13 16:06:46.547786"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.552571"], ["updated_at", "2023-06-13 16:06:46.552571"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 644], ["user_id", 481], ["created_at", "2023-06-13 16:06:46.555633"], ["updated_at", "2023-06-13 16:06:46.555633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1122)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2768)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 3152)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms | Allocations: 3531)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.568392"], ["updated_at", "2023-06-13 16:06:46.568392"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.572409"], ["updated_at", "2023-06-13 16:06:46.572409"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 645], ["user_id", 482], ["created_at", "2023-06-13 16:06:46.574728"], ["updated_at", "2023-06-13 16:06:46.574728"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/645/resenas/165" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"645", "id"=>"165"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 645], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 645], ["id", 165], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 482], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3080)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3464)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 0.6ms | Allocations: 4237)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.589896"], ["updated_at", "2023-06-13 16:06:46.589896"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.594082"], ["updated_at", "2023-06-13 16:06:46.594082"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 646], ["user_id", 483], ["created_at", "2023-06-13 16:06:46.596479"], ["updated_at", "2023-06-13 16:06:46.596479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/646/resenas/166/edit" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"646", "id"=>"166"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 646], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 646], ["id", 166], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3118)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3502)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.5ms | Allocations: 4243)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.609857"], ["updated_at", "2023-06-13 16:06:46.609857"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.614175"], ["updated_at", "2023-06-13 16:06:46.614175"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 647], ["user_id", 484], ["created_at", "2023-06-13 16:06:46.616448"], ["updated_at", "2023-06-13 16:06:46.616448"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/647/resenas" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"647"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 647], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 647]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2825)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3209)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.4ms | Allocations: 3653)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.628677"], ["updated_at", "2023-06-13 16:06:46.628677"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.633016"], ["updated_at", "2023-06-13 16:06:46.633016"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 648], ["user_id", 485], ["created_at", "2023-06-13 16:06:46.635216"], ["updated_at", "2023-06-13 16:06:46.635216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/648/resenas/168" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"648", "id"=>"168"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 648], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 648], ["id", 168], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.2ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 168]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/648/resenas
Completed 303 See Other in 3ms (ActiveRecord: 0.7ms | Allocations: 804)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:06:46.644878"], ["updated_at", "2023-06-13 16:06:46.644878"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:06:46.649026"], ["updated_at", "2023-06-13 16:06:46.649026"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 649], ["user_id", 486], ["created_at", "2023-06-13 16:06:46.651358"], ["updated_at", "2023-06-13 16:06:46.651358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/649/resenas" for 127.0.0.1 at 2023-06-13 12:06:46 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"649"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 649], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 649], ["user_id", 486], ["created_at", "2023-06-13 16:06:46.656938"], ["updated_at", "2023-06-13 16:06:46.656938"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/649/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 858)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.440929"], ["updated_at", "2023-06-13 16:09:40.440929"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 15.4ms | Allocations: 2323)
  Rendered componentes/_footer.html.erb (Duration: 11.6ms | Allocations: 571)
  Rendered users/show.html.erb within layouts/application (Duration: 128.3ms | Allocations: 34444)
  Rendered layout layouts/application.html.erb (Duration: 142.8ms | Allocations: 36576)
Completed 200 OK in 156ms (Views: 147.7ms | ActiveRecord: 0.0ms | Allocations: 41027)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.723615"], ["updated_at", "2023-06-13 16:09:40.723615"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.728619"], ["updated_at", "2023-06-13 16:09:40.728619"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 650], ["user_id", 488], ["created_at", "2023-06-13 16:09:40.756199"], ["updated_at", "2023-06-13 16:09:40.756199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/650/resenas/171" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"650", "id"=>"171"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 650], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 650], ["id", 171], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1208)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered resenas/show.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4058)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 4480)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 0.9ms | Allocations: 6382)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.779773"], ["updated_at", "2023-06-13 16:09:40.779773"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.784051"], ["updated_at", "2023-06-13 16:09:40.784051"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 651], ["user_id", 489], ["created_at", "2023-06-13 16:09:40.786486"], ["updated_at", "2023-06-13 16:09:40.786486"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/651/resenas/new" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"651"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 651], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1113)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 521)
  Rendered resenas/new.html.erb within layouts/application (Duration: 14.1ms | Allocations: 5826)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 6220)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.2ms | Allocations: 6885)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.808237"], ["updated_at", "2023-06-13 16:09:40.808237"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.812222"], ["updated_at", "2023-06-13 16:09:40.812222"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 652], ["user_id", 490], ["created_at", "2023-06-13 16:09:40.814333"], ["updated_at", "2023-06-13 16:09:40.814333"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/652/resenas/173" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"652", "id"=>"173"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 490], ["id", 173], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 652], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 16:09:40.826322"], ["id", 173]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/652/resenas
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1969)
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.831534"], ["updated_at", "2023-06-13 16:09:40.831534"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.835388"], ["updated_at", "2023-06-13 16:09:40.835388"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 653], ["user_id", 491], ["created_at", "2023-06-13 16:09:40.837910"], ["updated_at", "2023-06-13 16:09:40.837910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/653/resenas" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"653"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 653], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 653], ["user_id", 491], ["created_at", "2023-06-13 16:09:40.844178"], ["updated_at", "2023-06-13 16:09:40.844178"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/653/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1124)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.848931"], ["updated_at", "2023-06-13 16:09:40.848931"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.852625"], ["updated_at", "2023-06-13 16:09:40.852625"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 654], ["user_id", 492], ["created_at", "2023-06-13 16:09:40.854619"], ["updated_at", "2023-06-13 16:09:40.854619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/654/resenas/176" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"654", "id"=>"176"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 654], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 654], ["id", 176], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.2ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 176]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/654/resenas
Completed 303 See Other in 3ms (ActiveRecord: 0.8ms | Allocations: 855)
  [1m[36mResena Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.863791"], ["updated_at", "2023-06-13 16:09:40.863791"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.867695"], ["updated_at", "2023-06-13 16:09:40.867695"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 655], ["user_id", 493], ["created_at", "2023-06-13 16:09:40.869780"], ["updated_at", "2023-06-13 16:09:40.869780"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/655/resenas" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"655"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 655], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1137)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 655]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3146)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3540)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.4ms | Allocations: 4045)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.883127"], ["updated_at", "2023-06-13 16:09:40.883127"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.887520"], ["updated_at", "2023-06-13 16:09:40.887520"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 656], ["user_id", 494], ["created_at", "2023-06-13 16:09:40.889750"], ["updated_at", "2023-06-13 16:09:40.889750"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/656/resenas/178/edit" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"656", "id"=>"178"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 656], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 656], ["id", 178], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 466)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3191)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3575)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.3ms | Allocations: 4316)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.903075"], ["updated_at", "2023-06-13 16:09:40.903075"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.906846"], ["updated_at", "2023-06-13 16:09:40.906846"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 657], ["user_id", 495], ["created_at", "2023-06-13 16:09:40.908918"], ["updated_at", "2023-06-13 16:09:40.908918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 12:09:40 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 15.4ms | Allocations: 1218)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 30.6ms | Allocations: 3465)
  Rendered layout layouts/application.html.erb (Duration: 36.2ms | Allocations: 3886)
Completed 200 OK in 38ms (Views: 37.3ms | ActiveRecord: 0.2ms | Allocations: 4736)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:40.968558"], ["updated_at", "2023-06-13 16:09:40.968558"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:40.979193"], ["updated_at", "2023-06-13 16:09:40.979193"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 496], ["libro_id", 658], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.021736"], ["updated_at", "2023-06-13 16:09:41.021736"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/496/compras/178" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"496", "id"=>"178"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1208)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 658], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 496], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered compras/show.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4091)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 4513)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.7ms | Allocations: 5705)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.043901"], ["updated_at", "2023-06-13 16:09:41.043901"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.048473"], ["updated_at", "2023-06-13 16:09:41.048473"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 497], ["libro_id", 659], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.051018"], ["updated_at", "2023-06-13 16:09:41.051018"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/497/compras/179" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"497", "id"=>"179"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 497], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 659], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 16:09:41.057840"], ["id", 179]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/497/compras
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 1225)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.062922"], ["updated_at", "2023-06-13 16:09:41.062922"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.067105"], ["updated_at", "2023-06-13 16:09:41.067105"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 498], ["libro_id", 660], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.069307"], ["updated_at", "2023-06-13 16:09:41.069307"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/660/compras" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"660"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 660], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 498], ["libro_id", 660], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.075158"], ["updated_at", "2023-06-13 16:09:41.075158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/498/compras
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 723)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.080416"], ["updated_at", "2023-06-13 16:09:41.080416"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.084504"], ["updated_at", "2023-06-13 16:09:41.084504"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 499], ["libro_id", 661], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.086640"], ["updated_at", "2023-06-13 16:09:41.086640"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 499], ["libro_id", 661], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.088402"], ["updated_at", "2023-06-13 16:09:41.088402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/499/compras/183" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"499", "id"=>"183"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 499], ["id", 183], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 183]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/499/compras
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 674)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.098097"], ["updated_at", "2023-06-13 16:09:41.098097"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.102149"], ["updated_at", "2023-06-13 16:09:41.102149"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 500], ["libro_id", 662], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.104464"], ["updated_at", "2023-06-13 16:09:41.104464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/662/compras/new" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"662"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 662], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1107)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered compras/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3043)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3437)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.2ms | Allocations: 4019)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.117476"], ["updated_at", "2023-06-13 16:09:41.117476"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.121247"], ["updated_at", "2023-06-13 16:09:41.121247"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 501], ["libro_id", 663], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.123253"], ["updated_at", "2023-06-13 16:09:41.123253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/501/compras" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"501"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1118)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 501]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3402)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3787)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms | Allocations: 4158)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.136131"], ["updated_at", "2023-06-13 16:09:41.136131"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.140068"], ["updated_at", "2023-06-13 16:09:41.140068"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 502], ["libro_id", 664], ["estado", "E"], ["created_at", "2023-06-13 16:09:41.142254"], ["updated_at", "2023-06-13 16:09:41.142254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/502/compras/186/edit" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"502", "id"=>"186"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 502], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 521)
  Rendered compras/edit.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3645)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 4039)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.4ms | Allocations: 4486)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.5ms | Allocations: 1047)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 9.6ms | Allocations: 4201)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 4626)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms | Allocations: 5435)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2554)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 2938)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 3248)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.185866"], ["updated_at", "2023-06-13 16:09:41.185866"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.190387"], ["updated_at", "2023-06-13 16:09:41.190387"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 503], ["libro_id", 665], ["created_at", "2023-06-13 16:09:41.205561"], ["updated_at", "2023-06-13 16:09:41.205561"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/665/mensajes/156" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"665", "id"=>"156"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 665], ["LIMIT", 1]]
  [1m[36mMensaje Load (1.0ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 665], ["id", 156], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.7ms | Allocations: 1208)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 503], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 464)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3834)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 4256)
Completed 200 OK in 24ms (Views: 16.9ms | ActiveRecord: 1.9ms | Allocations: 5743)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.247637"], ["updated_at", "2023-06-13 16:09:41.247637"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.253491"], ["updated_at", "2023-06-13 16:09:41.253491"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 504], ["libro_id", 666], ["created_at", "2023-06-13 16:09:41.255556"], ["updated_at", "2023-06-13 16:09:41.255556"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/666/mensajes/new" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"666"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 666], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1113)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2953)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3337)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.2ms | Allocations: 3975)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.268734"], ["updated_at", "2023-06-13 16:09:41.268734"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.272770"], ["updated_at", "2023-06-13 16:09:41.272770"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 505], ["libro_id", 667], ["created_at", "2023-06-13 16:09:41.274946"], ["updated_at", "2023-06-13 16:09:41.274946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/667/mensajes/158" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"667", "id"=>"158"}
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 505], ["id", 158], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 667], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.3ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 16:09:41.281089"], ["id", 158]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/667/mensajes
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 1419)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.286692"], ["updated_at", "2023-06-13 16:09:41.286692"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.290401"], ["updated_at", "2023-06-13 16:09:41.290401"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 506], ["libro_id", 668], ["created_at", "2023-06-13 16:09:41.292468"], ["updated_at", "2023-06-13 16:09:41.292468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/668/mensajes" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"668"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 668], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 506], ["libro_id", 668], ["created_at", "2023-06-13 16:09:41.298052"], ["updated_at", "2023-06-13 16:09:41.298052"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/668/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 827)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
MensajesControllerTest: test_should_create_mensaje_with_unprocessable_entity_status
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.302933"], ["updated_at", "2023-06-13 16:09:41.302933"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.307105"], ["updated_at", "2023-06-13 16:09:41.307105"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 507], ["libro_id", 669], ["created_at", "2023-06-13 16:09:41.309348"], ["updated_at", "2023-06-13 16:09:41.309348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/669/mensajes" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"invalid_param"=>"invalid"}, "libro_id"=>"669"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 669], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: MensajesController, action: create, request: #<ActionDispatch::Request:0x00000001075f7af0>, params: {"mensaje"=>{"invalid_param"=>"invalid"}, "controller"=>"mensajes", "action"=>"create", "libro_id"=>"669"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 3064)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 3448)
Completed 422 Unprocessable Entity in 6ms (Views: 4.3ms | ActiveRecord: 0.1ms | Allocations: 4247)
  [1m[36mCACHE Mensaje Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.322630"], ["updated_at", "2023-06-13 16:09:41.322630"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.326799"], ["updated_at", "2023-06-13 16:09:41.326799"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 508], ["libro_id", 670], ["created_at", "2023-06-13 16:09:41.329343"], ["updated_at", "2023-06-13 16:09:41.329343"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/670/mensajes" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"670"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 670], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 670]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3230)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3614)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms | Allocations: 4058)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.342773"], ["updated_at", "2023-06-13 16:09:41.342773"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.346417"], ["updated_at", "2023-06-13 16:09:41.346417"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 509], ["libro_id", 671], ["created_at", "2023-06-13 16:09:41.348506"], ["updated_at", "2023-06-13 16:09:41.348506"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/671/mensajes/163/edit" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"671", "id"=>"163"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 671], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 671], ["id", 163], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 463)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2874)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3258)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.4ms | Allocations: 3996)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.361146"], ["updated_at", "2023-06-13 16:09:41.361146"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.364756"], ["updated_at", "2023-06-13 16:09:41.364756"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 510], ["libro_id", 672], ["created_at", "2023-06-13 16:09:41.366683"], ["updated_at", "2023-06-13 16:09:41.366683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/672/mensajes/164" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"672", "id"=>"164"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 672], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 672], ["id", 164], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 164]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/672/mensajes
Completed 303 See Other in 3ms (ActiveRecord: 0.6ms | Allocations: 785)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.378582"], ["updated_at", "2023-06-13 16:09:41.378582"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.380418"], ["updated_at", "2023-06-13 16:09:41.380418"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/674" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"674"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 674], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 854)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3065)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3449)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 3865)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.394669"], ["updated_at", "2023-06-13 16:09:41.394669"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/675" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"675"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.4ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 16:09:41.399919"], ["id", 675]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/675
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1040)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.406120"], ["updated_at", "2023-06-13 16:09:41.406120"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.410578"], ["updated_at", "2023-06-13 16:09:41.410578"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/677
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 777)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.416185"], ["updated_at", "2023-06-13 16:09:41.416185"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/678" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"678"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 678], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 678]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 678]]
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 678]]
  [1m[36mLibro Destroy (0.4ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 678]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 5ms (ActiveRecord: 1.1ms | Allocations: 1435)
  [1m[36mLibro Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.427321"], ["updated_at", "2023-06-13 16:09:41.427321"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 16.4ms | Allocations: 13051)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 13448)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 13779)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.451413"], ["updated_at", "2023-06-13 16:09:41.451413"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3310)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 3369)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3914)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.464026"], ["updated_at", "2023-06-13 16:09:41.464026"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/681/edit" for 127.0.0.1 at 2023-06-13 12:09:41 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"681"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 681], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 907)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered libros/edit.html.erb within layouts/application (Duration: 16.3ms | Allocations: 12873)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 13267)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.1ms | Allocations: 13774)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:09:41.488975"], ["updated_at", "2023-06-13 16:09:41.488975"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:09:41.496650"], ["updated_at", "2023-06-13 16:09:41.496650"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:13.676292"], ["updated_at", "2023-06-13 16:11:13.676292"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:13.850021"], ["updated_at", "2023-06-13 16:11:13.850021"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.1ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:13.852681"], ["updated_at", "2023-06-13 16:11:13.852681"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/684" for 127.0.0.1 at 2023-06-13 12:11:13 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"684"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 684], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 8.4ms | Allocations: 1954)
  Rendered componentes/_footer.html.erb (Duration: 2.3ms | Allocations: 571)
  Rendered libros/show.html.erb within layouts/application (Duration: 134.0ms | Allocations: 34388)
  Rendered layout layouts/application.html.erb (Duration: 165.8ms | Allocations: 36523)
Completed 200 OK in 182ms (Views: 170.5ms | ActiveRecord: 0.5ms | Allocations: 41642)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.110910"], ["updated_at", "2023-06-13 16:11:14.110910"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/685" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"685"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 685], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 16:11:14.121458"], ["id", 685]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/685
Completed 302 Found in 4ms (ActiveRecord: 0.9ms | Allocations: 1490)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 685], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.128033"], ["updated_at", "2023-06-13 16:11:14.128033"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/686/edit" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"686"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 686], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 901)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 521)
  Rendered libros/edit.html.erb within layouts/application (Duration: 27.4ms | Allocations: 15632)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 16027)
Completed 200 OK in 30ms (Views: 28.6ms | ActiveRecord: 0.2ms | Allocations: 16522)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.164246"], ["updated_at", "2023-06-13 16:11:14.164246"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/687" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"687"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 687], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 687]]
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 687]]
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 687]]
  [1m[36mLibro Destroy (0.6ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 687]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 35ms (ActiveRecord: 4.9ms | Allocations: 11151)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.205576"], ["updated_at", "2023-06-13 16:11:14.205576"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 900)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 522)
  Rendered libros/new.html.erb within layouts/application (Duration: 17.0ms | Allocations: 13073)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 13471)
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.0ms | Allocations: 13863)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.229526"], ["updated_at", "2023-06-13 16:11:14.229526"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3328)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 3387)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 3933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.242063"], ["updated_at", "2023-06-13 16:11:14.242063"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.248170"], ["updated_at", "2023-06-13 16:11:14.248170"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/691
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 991)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.254872"], ["updated_at", "2023-06-13 16:11:14.254872"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.258969"], ["updated_at", "2023-06-13 16:11:14.258969"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 513], ["libro_id", 692], ["created_at", "2023-06-13 16:11:14.269352"], ["updated_at", "2023-06-13 16:11:14.269352"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/692/mensajes/165" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"692", "id"=>"165"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 692], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 692], ["id", 165], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 165]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/692/mensajes
Completed 303 See Other in 13ms (ActiveRecord: 0.8ms | Allocations: 1167)
  [1m[36mMensaje Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.311416"], ["updated_at", "2023-06-13 16:11:14.311416"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.324106"], ["updated_at", "2023-06-13 16:11:14.324106"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 514], ["libro_id", 693], ["created_at", "2023-06-13 16:11:14.331969"], ["updated_at", "2023-06-13 16:11:14.331969"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/693/mensajes/166" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"693", "id"=>"166"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 514], ["id", 166], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 693], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 16:11:14.370231"], ["id", 166]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/693/mensajes
Completed 302 Found in 21ms (ActiveRecord: 1.1ms | Allocations: 1509)
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
MensajesControllerTest: test_should_create_mensaje_with_unprocessable_entity_status
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.379667"], ["updated_at", "2023-06-13 16:11:14.379667"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.384273"], ["updated_at", "2023-06-13 16:11:14.384273"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 515], ["libro_id", 694], ["created_at", "2023-06-13 16:11:14.386821"], ["updated_at", "2023-06-13 16:11:14.386821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/694/mensajes" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"invalid_param"=>"invalid"}, "libro_id"=>"694"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 694], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: MensajesController, action: create, request: #<ActionDispatch::Request:0x000000010dfbf8e8>, params: {"mensaje"=>{"invalid_param"=>"invalid"}, "controller"=>"mensajes", "action"=>"create", "libro_id"=>"694"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.5ms | Allocations: 1399)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 522)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 14.8ms | Allocations: 4749)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 5170)
Completed 422 Unprocessable Entity in 22ms (Views: 19.3ms | ActiveRecord: 0.2ms | Allocations: 6452)
  [1m[36mCACHE Mensaje Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.417319"], ["updated_at", "2023-06-13 16:11:14.417319"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.421923"], ["updated_at", "2023-06-13 16:11:14.421923"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 516], ["libro_id", 695], ["created_at", "2023-06-13 16:11:14.424065"], ["updated_at", "2023-06-13 16:11:14.424065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/695/mensajes/168" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"695", "id"=>"168"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 695], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 695], ["id", 168], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1121)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 516], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3237)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3622)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms | Allocations: 4461)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.439248"], ["updated_at", "2023-06-13 16:11:14.439248"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.443226"], ["updated_at", "2023-06-13 16:11:14.443226"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 517], ["libro_id", 696], ["created_at", "2023-06-13 16:11:14.445725"], ["updated_at", "2023-06-13 16:11:14.445725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/696/mensajes/new" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"696"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 696], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1114)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 2538)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 2922)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.2ms | Allocations: 3461)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.456407"], ["updated_at", "2023-06-13 16:11:14.456407"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.460455"], ["updated_at", "2023-06-13 16:11:14.460455"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 518], ["libro_id", 697], ["created_at", "2023-06-13 16:11:14.462588"], ["updated_at", "2023-06-13 16:11:14.462588"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/697/mensajes" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"697"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 697], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1111)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 697]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 518], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3070)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3454)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.7ms | Allocations: 3898)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.475023"], ["updated_at", "2023-06-13 16:11:14.475023"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.478998"], ["updated_at", "2023-06-13 16:11:14.478998"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 519], ["libro_id", 698], ["created_at", "2023-06-13 16:11:14.480999"], ["updated_at", "2023-06-13 16:11:14.480999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/698/mensajes/171/edit" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"698", "id"=>"171"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 698], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 698], ["id", 171], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2878)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 3262)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.3ms | Allocations: 4000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.494207"], ["updated_at", "2023-06-13 16:11:14.494207"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.498225"], ["updated_at", "2023-06-13 16:11:14.498225"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 520], ["libro_id", 699], ["created_at", "2023-06-13 16:11:14.500134"], ["updated_at", "2023-06-13 16:11:14.500134"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/699/mensajes" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"699"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 699], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 520], ["libro_id", 699], ["created_at", "2023-06-13 16:11:14.505311"], ["updated_at", "2023-06-13 16:11:14.505311"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/699/mensajes
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 840)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 967)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4120)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 4545)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 5353)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2553)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 2937)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 3246)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.544930"], ["updated_at", "2023-06-13 16:11:14.544930"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.549961"], ["updated_at", "2023-06-13 16:11:14.549961"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.555184"], ["updated_at", "2023-06-13 16:11:14.555184"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.5ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 701], ["user_id", 521], ["created_at", "2023-06-13 16:11:14.557922"], ["updated_at", "2023-06-13 16:11:14.557922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/701/resenas/180" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"701", "id"=>"180"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 701], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 701], ["id", 180], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.2ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 180]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/701/resenas
Completed 303 See Other in 4ms (ActiveRecord: 0.9ms | Allocations: 1153)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.571568"], ["updated_at", "2023-06-13 16:11:14.571568"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.576125"], ["updated_at", "2023-06-13 16:11:14.576125"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 702], ["user_id", 522], ["created_at", "2023-06-13 16:11:14.578424"], ["updated_at", "2023-06-13 16:11:14.578424"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/702/resenas" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"702"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 702], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 702], ["user_id", 522], ["created_at", "2023-06-13 16:11:14.583374"], ["updated_at", "2023-06-13 16:11:14.583374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/702/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 866)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ResenasControllerTest: test_should_create_resena_with_unprocessable_entity_status
---------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.588032"], ["updated_at", "2023-06-13 16:11:14.588032"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.591945"], ["updated_at", "2023-06-13 16:11:14.591945"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 703], ["user_id", 523], ["created_at", "2023-06-13 16:11:14.594162"], ["updated_at", "2023-06-13 16:11:14.594162"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/703/resenas" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"invalid_param"=>"invalid"}, "libro_id"=>"703"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 703], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: ResenasController, action: create, request: #<ActionDispatch::Request:0x000000010de2c058>, params: {"resena"=>{"invalid_param"=>"invalid"}, "controller"=>"resenas", "action"=>"create", "libro_id"=>"703"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.9ms | Allocations: 1199)
  Rendered componentes/_footer.html.erb (Duration: 0.7ms | Allocations: 464)
  Rendered resenas/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 4781)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 5202)
Completed 422 Unprocessable Entity in 16ms (Views: 14.3ms | ActiveRecord: 0.2ms | Allocations: 6478)
  [1m[36mCACHE Resena Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.618454"], ["updated_at", "2023-06-13 16:11:14.618454"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.626065"], ["updated_at", "2023-06-13 16:11:14.626065"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.1ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 704], ["user_id", 524], ["created_at", "2023-06-13 16:11:14.630028"], ["updated_at", "2023-06-13 16:11:14.630028"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/704/resenas/184" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"704", "id"=>"184"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 704], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 704], ["id", 184], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.8ms | Allocations: 1102)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 3089)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 3473)
Completed 200 OK in 14ms (Views: 8.7ms | ActiveRecord: 1.5ms | Allocations: 4280)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.653875"], ["updated_at", "2023-06-13 16:11:14.653875"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.658293"], ["updated_at", "2023-06-13 16:11:14.658293"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 705], ["user_id", 525], ["created_at", "2023-06-13 16:11:14.660665"], ["updated_at", "2023-06-13 16:11:14.660665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/705/resenas" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"705"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 705], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 705]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2827)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 3211)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.3ms | Allocations: 3655)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.673040"], ["updated_at", "2023-06-13 16:11:14.673040"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.677519"], ["updated_at", "2023-06-13 16:11:14.677519"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 706], ["user_id", 526], ["created_at", "2023-06-13 16:11:14.679724"], ["updated_at", "2023-06-13 16:11:14.679724"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/706/resenas/186/edit" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"706", "id"=>"186"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 706], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 706], ["id", 186], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3118)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 3502)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.5ms | Allocations: 4243)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.693114"], ["updated_at", "2023-06-13 16:11:14.693114"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.697447"], ["updated_at", "2023-06-13 16:11:14.697447"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 707], ["user_id", 527], ["created_at", "2023-06-13 16:11:14.699525"], ["updated_at", "2023-06-13 16:11:14.699525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/707/resenas/new" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"707"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 707], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2732)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 3116)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.2ms | Allocations: 3656)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.709719"], ["updated_at", "2023-06-13 16:11:14.709719"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.713397"], ["updated_at", "2023-06-13 16:11:14.713397"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 708], ["user_id", 528], ["created_at", "2023-06-13 16:11:14.715560"], ["updated_at", "2023-06-13 16:11:14.715560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.0ms | Allocations: 1122)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2761)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 3145)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.1ms | Allocations: 3488)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.727099"], ["updated_at", "2023-06-13 16:11:14.727099"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.731079"], ["updated_at", "2023-06-13 16:11:14.731079"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 709], ["user_id", 529], ["created_at", "2023-06-13 16:11:14.732956"], ["updated_at", "2023-06-13 16:11:14.732956"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/709/resenas/189" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"709", "id"=>"189"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 529], ["id", 189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 709], ["LIMIT", 1]]
  [1m[36mResena Update (0.2ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 16:11:14.738783"], ["id", 189]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/709/resenas
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 1417)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.744735"], ["updated_at", "2023-06-13 16:11:14.744735"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.748663"], ["updated_at", "2023-06-13 16:11:14.748663"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 530], ["libro_id", 710], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.756158"], ["updated_at", "2023-06-13 16:11:14.756158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/530/compras/187" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"530", "id"=>"187"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1203)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 710], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 530], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered compras/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 4077)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 4499)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.6ms | Allocations: 5685)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.776264"], ["updated_at", "2023-06-13 16:11:14.776264"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.781501"], ["updated_at", "2023-06-13 16:11:14.781501"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 531], ["libro_id", 711], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.784038"], ["updated_at", "2023-06-13 16:11:14.784038"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/531/compras/188" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"531", "id"=>"188"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 531], ["LIMIT", 1]]
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 711], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 16:11:14.791874"], ["id", 188]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/531/compras
Completed 302 Found in 6ms (ActiveRecord: 1.1ms | Allocations: 1225)
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.797747"], ["updated_at", "2023-06-13 16:11:14.797747"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.801854"], ["updated_at", "2023-06-13 16:11:14.801854"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 532], ["libro_id", 712], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.803943"], ["updated_at", "2023-06-13 16:11:14.803943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/532/compras/189/edit" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"532", "id"=>"189"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 532], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/edit.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3372)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3756)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.4ms | Allocations: 4196)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.816654"], ["updated_at", "2023-06-13 16:11:14.816654"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.820294"], ["updated_at", "2023-06-13 16:11:14.820294"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 533], ["libro_id", 713], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.822223"], ["updated_at", "2023-06-13 16:11:14.822223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 533], ["libro_id", 713], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.823700"], ["updated_at", "2023-06-13 16:11:14.823700"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/533/compras/191" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"533", "id"=>"191"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 533], ["id", 191], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 191]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/533/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 654)
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.833937"], ["updated_at", "2023-06-13 16:11:14.833937"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.838485"], ["updated_at", "2023-06-13 16:11:14.838485"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 534], ["libro_id", 714], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.840915"], ["updated_at", "2023-06-13 16:11:14.840915"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/714/compras/new" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"714"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 714], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 521)
  Rendered compras/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2975)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3369)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 3922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.856905"], ["updated_at", "2023-06-13 16:11:14.856905"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.861746"], ["updated_at", "2023-06-13 16:11:14.861746"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 535], ["libro_id", 715], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.864045"], ["updated_at", "2023-06-13 16:11:14.864045"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/535/compras" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"535"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1118)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 535]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3395)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3780)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.2ms | Allocations: 4151)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:11:14.876933"], ["updated_at", "2023-06-13 16:11:14.876933"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.881146"], ["updated_at", "2023-06-13 16:11:14.881146"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 536], ["libro_id", 716], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.883208"], ["updated_at", "2023-06-13 16:11:14.883208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/716/compras" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"716"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 716], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 536], ["libro_id", 716], ["estado", "E"], ["created_at", "2023-06-13 16:11:14.887857"], ["updated_at", "2023-06-13 16:11:14.887857"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/536/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 737)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:11:14.895659"], ["updated_at", "2023-06-13 16:11:14.895659"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 12:11:14 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1203)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered users/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3601)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 4023)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 4810)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:50.452689"], ["updated_at", "2023-06-13 16:13:50.452689"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 12:13:50 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.7ms | Allocations: 2323)
  Rendered componentes/_footer.html.erb (Duration: 1.8ms | Allocations: 571)
  Rendered users/show.html.erb within layouts/application (Duration: 74.6ms | Allocations: 34612)
  Rendered layout layouts/application.html.erb (Duration: 78.5ms | Allocations: 36744)
Completed 200 OK in 92ms (Views: 83.1ms | ActiveRecord: 0.0ms | Allocations: 41195)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:50.781519"], ["updated_at", "2023-06-13 16:13:50.781519"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:50.786338"], ["updated_at", "2023-06-13 16:13:50.786338"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 717], ["user_id", 539], ["created_at", "2023-06-13 16:13:50.806163"], ["updated_at", "2023-06-13 16:13:50.806163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 12:13:50 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1221)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3579)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 4000)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.3ms | Allocations: 4920)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:50.825120"], ["updated_at", "2023-06-13 16:13:50.825120"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:50.829207"], ["updated_at", "2023-06-13 16:13:50.829207"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 718], ["user_id", 540], ["created_at", "2023-06-13 16:13:50.831883"], ["updated_at", "2023-06-13 16:13:50.831883"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/718/resenas/191/edit" for 127.0.0.1 at 2023-06-13 12:13:50 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"718", "id"=>"191"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 718], ["LIMIT", 1]]
  [1m[36mResena Load (0.3ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 718], ["id", 191], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1216)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 523)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 17.6ms | Allocations: 6473)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 6894)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 0.5ms | Allocations: 8626)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ResenasControllerTest: test_should_create_resena_with_unprocessable_entity_status
---------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:50.863073"], ["updated_at", "2023-06-13 16:13:50.863073"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:50.867710"], ["updated_at", "2023-06-13 16:13:50.867710"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 719], ["user_id", 541], ["created_at", "2023-06-13 16:13:50.870223"], ["updated_at", "2023-06-13 16:13:50.870223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/719/resenas" for 127.0.0.1 at 2023-06-13 12:13:50 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"invalid_param"=>"invalid"}, "libro_id"=>"719"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 719], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: ResenasController, action: create, request: #<ActionDispatch::Request:0x00000001087264e8>, params: {"resena"=>{"invalid_param"=>"invalid"}, "controller"=>"resenas", "action"=>"create", "libro_id"=>"719"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1138)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4289)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 4683)
Completed 422 Unprocessable Entity in 9ms (Views: 7.0ms | ActiveRecord: 0.2ms | Allocations: 5826)
  [1m[36mCACHE Resena Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:50.892512"], ["updated_at", "2023-06-13 16:13:50.892512"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:50.896550"], ["updated_at", "2023-06-13 16:13:50.896550"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 720], ["user_id", 542], ["created_at", "2023-06-13 16:13:50.899183"], ["updated_at", "2023-06-13 16:13:50.899183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/720/resenas/193" for 127.0.0.1 at 2023-06-13 12:13:50 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"720", "id"=>"193"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 720], ["LIMIT", 1]]
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 720], ["id", 193], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 542], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3251)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3635)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.4ms | Allocations: 4394)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:50.913802"], ["updated_at", "2023-06-13 16:13:50.913802"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:50.917956"], ["updated_at", "2023-06-13 16:13:50.917956"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 721], ["user_id", 543], ["created_at", "2023-06-13 16:13:50.920474"], ["updated_at", "2023-06-13 16:13:50.920474"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/721/resenas" for 127.0.0.1 at 2023-06-13 12:13:50 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"721"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 721], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1116)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 721]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3024)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3408)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.7ms | Allocations: 3852)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:50.935605"], ["updated_at", "2023-06-13 16:13:50.935605"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:50.940032"], ["updated_at", "2023-06-13 16:13:50.940032"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 722], ["user_id", 544], ["created_at", "2023-06-13 16:13:50.948234"], ["updated_at", "2023-06-13 16:13:50.948234"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/722/resenas/195" for 127.0.0.1 at 2023-06-13 12:13:50 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"722", "id"=>"195"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 544], ["id", 195], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 722], ["LIMIT", 1]]
  [1m[36mResena Update (0.4ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 16:13:50.973260"], ["id", 195]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/722/resenas
Completed 302 Found in 20ms (ActiveRecord: 1.0ms | Allocations: 1642)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:50.997937"], ["updated_at", "2023-06-13 16:13:50.997937"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.012741"], ["updated_at", "2023-06-13 16:13:51.012741"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 723], ["user_id", 545], ["created_at", "2023-06-13 16:13:51.020905"], ["updated_at", "2023-06-13 16:13:51.020905"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/723/resenas/new" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"723"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 723], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2732)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 3116)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 3656)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.050519"], ["updated_at", "2023-06-13 16:13:51.050519"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.054974"], ["updated_at", "2023-06-13 16:13:51.054974"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 724], ["user_id", 546], ["created_at", "2023-06-13 16:13:51.057455"], ["updated_at", "2023-06-13 16:13:51.057455"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/724/resenas/197" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"724", "id"=>"197"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 724], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 724], ["id", 197], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.2ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 197]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/724/resenas
Completed 303 See Other in 5ms (ActiveRecord: 0.7ms | Allocations: 837)
  [1m[36mResena Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.068780"], ["updated_at", "2023-06-13 16:13:51.068780"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.072794"], ["updated_at", "2023-06-13 16:13:51.072794"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 725], ["user_id", 547], ["created_at", "2023-06-13 16:13:51.074718"], ["updated_at", "2023-06-13 16:13:51.074718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/725/resenas" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"725"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 725], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 725], ["user_id", 547], ["created_at", "2023-06-13 16:13:51.079775"], ["updated_at", "2023-06-13 16:13:51.079775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/725/resenas
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 854)
  [1m[36mResena Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.086831"], ["updated_at", "2023-06-13 16:13:51.086831"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.092265"], ["updated_at", "2023-06-13 16:13:51.092265"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3280)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3338)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3878)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.106191"], ["updated_at", "2023-06-13 16:13:51.106191"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 913)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 525)
  Rendered libros/new.html.erb within layouts/application (Duration: 17.2ms | Allocations: 13578)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 13976)
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.0ms | Allocations: 14369)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.131034"], ["updated_at", "2023-06-13 16:13:51.131034"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/728" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"728"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 728], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 728]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 728]]
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 728]]
  [1m[36mLibro Destroy (0.5ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 728]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 7ms (ActiveRecord: 2.0ms | Allocations: 2086)
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.144923"], ["updated_at", "2023-06-13 16:13:51.144923"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/729" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"729"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 729], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 16:13:51.149967"], ["id", 729]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/729
Completed 302 Found in 4ms (ActiveRecord: 0.7ms | Allocations: 1034)
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 729], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.155186"], ["updated_at", "2023-06-13 16:13:51.155186"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.156897"], ["updated_at", "2023-06-13 16:13:51.156897"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/731" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"731"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 731], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 890)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3167)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 3552)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.2ms | Allocations: 4012)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------
LibrosControllerTest: test_should_update_libro_with_unprocessable_entity_status
-------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.170573"], ["updated_at", "2023-06-13 16:13:51.170573"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/732" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"invalid_param"=>"invalid"}, "id"=>"732"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 732], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: LibrosController, action: update, request: #<ActionDispatch::Request:0x00000001086f63d8>, params: {"libro"=>{"invalid_param"=>"invalid"}, "controller"=>"libros", "action"=>"update", "id"=>"732"} }[0m
Redirected to http://www.example.com/libros/732
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 582)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.178197"], ["updated_at", "2023-06-13 16:13:51.178197"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/733/edit" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"733"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 733], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 463)
  Rendered libros/edit.html.erb within layouts/application (Duration: 21.9ms | Allocations: 12684)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 13068)
Completed 200 OK in 25ms (Views: 23.3ms | ActiveRecord: 0.2ms | Allocations: 13482)
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.215718"], ["updated_at", "2023-06-13 16:13:51.215718"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.224439"], ["updated_at", "2023-06-13 16:13:51.224439"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/735
Completed 302 Found in 6ms (ActiveRecord: 1.3ms | Allocations: 777)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.234017"], ["updated_at", "2023-06-13 16:13:51.234017"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.238500"], ["updated_at", "2023-06-13 16:13:51.238500"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 549], ["libro_id", 736], ["created_at", "2023-06-13 16:13:51.241942"], ["updated_at", "2023-06-13 16:13:51.241942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/736/mensajes/174/edit" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"736", "id"=>"174"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 736], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 736], ["id", 174], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1218)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 464)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3615)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 4036)
Completed 200 OK in 13ms (Views: 9.4ms | ActiveRecord: 0.4ms | Allocations: 5491)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.265139"], ["updated_at", "2023-06-13 16:13:51.265139"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.269715"], ["updated_at", "2023-06-13 16:13:51.269715"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 550], ["libro_id", 737], ["created_at", "2023-06-13 16:13:51.272251"], ["updated_at", "2023-06-13 16:13:51.272251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/737/mensajes" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"737"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 737], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1111)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 737]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 550], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 463)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 3246)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 3630)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 1.3ms | Allocations: 4128)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
MensajesControllerTest: test_should_create_mensaje_with_unprocessable_entity_status
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.297906"], ["updated_at", "2023-06-13 16:13:51.297906"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.307403"], ["updated_at", "2023-06-13 16:13:51.307403"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 551], ["libro_id", 738], ["created_at", "2023-06-13 16:13:51.311718"], ["updated_at", "2023-06-13 16:13:51.311718"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/738/mensajes" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"invalid_param"=>"invalid"}, "libro_id"=>"738"}
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 738], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: MensajesController, action: create, request: #<ActionDispatch::Request:0x0000000108c7d310>, params: {"mensaje"=>{"invalid_param"=>"invalid"}, "controller"=>"mensajes", "action"=>"create", "libro_id"=>"738"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3304)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3688)
Completed 422 Unprocessable Entity in 9ms (Views: 6.0ms | ActiveRecord: 0.3ms | Allocations: 4533)
  [1m[36mCACHE Mensaje Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.331602"], ["updated_at", "2023-06-13 16:13:51.331602"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.335388"], ["updated_at", "2023-06-13 16:13:51.335388"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 552], ["libro_id", 739], ["created_at", "2023-06-13 16:13:51.337526"], ["updated_at", "2023-06-13 16:13:51.337526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/739/mensajes/177" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"739", "id"=>"177"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 739], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 739], ["id", 177], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 552], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2897)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 3281)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.6ms | Allocations: 4035)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.353163"], ["updated_at", "2023-06-13 16:13:51.353163"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.358796"], ["updated_at", "2023-06-13 16:13:51.358796"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 553], ["libro_id", 740], ["created_at", "2023-06-13 16:13:51.361740"], ["updated_at", "2023-06-13 16:13:51.361740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/740/mensajes/new" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"740"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 740], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 2527)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 2911)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.2ms | Allocations: 3450)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.373145"], ["updated_at", "2023-06-13 16:13:51.373145"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.377336"], ["updated_at", "2023-06-13 16:13:51.377336"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 554], ["libro_id", 741], ["created_at", "2023-06-13 16:13:51.379670"], ["updated_at", "2023-06-13 16:13:51.379670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/741/mensajes/179" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"741", "id"=>"179"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 554], ["id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 741], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.2ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 16:13:51.385785"], ["id", 179]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/741/mensajes
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 1411)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.390432"], ["updated_at", "2023-06-13 16:13:51.390432"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.394825"], ["updated_at", "2023-06-13 16:13:51.394825"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 555], ["libro_id", 742], ["created_at", "2023-06-13 16:13:51.397434"], ["updated_at", "2023-06-13 16:13:51.397434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/742/mensajes/180" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"742", "id"=>"180"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 742], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 742], ["id", 180], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 180]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/742/mensajes
Completed 303 See Other in 3ms (ActiveRecord: 0.7ms | Allocations: 785)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.407473"], ["updated_at", "2023-06-13 16:13:51.407473"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.411803"], ["updated_at", "2023-06-13 16:13:51.411803"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 556], ["libro_id", 743], ["created_at", "2023-06-13 16:13:51.413897"], ["updated_at", "2023-06-13 16:13:51.413897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/743/mensajes" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"743"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 743], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 556], ["libro_id", 743], ["created_at", "2023-06-13 16:13:51.418983"], ["updated_at", "2023-06-13 16:13:51.418983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/743/mensajes
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 825)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.424040"], ["updated_at", "2023-06-13 16:13:51.424040"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.427951"], ["updated_at", "2023-06-13 16:13:51.427951"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 557], ["libro_id", 744], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.430263"], ["updated_at", "2023-06-13 16:13:51.430263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 557], ["libro_id", 744], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.432219"], ["updated_at", "2023-06-13 16:13:51.432219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/557/compras/197" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"557", "id"=>"197"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 557], ["id", 197], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.2ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 197]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/557/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 960)
  [1m[36mCompra Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.445034"], ["updated_at", "2023-06-13 16:13:51.445034"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.449146"], ["updated_at", "2023-06-13 16:13:51.449146"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 558], ["libro_id", 745], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.451281"], ["updated_at", "2023-06-13 16:13:51.451281"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/558/compras" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"558"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 1194)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 558]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered compras/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 4060)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 4482)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 5223)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.467660"], ["updated_at", "2023-06-13 16:13:51.467660"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.472128"], ["updated_at", "2023-06-13 16:13:51.472128"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 559], ["libro_id", 746], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.474748"], ["updated_at", "2023-06-13 16:13:51.474748"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/746/compras/new" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"746"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 746], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 521)
  Rendered compras/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3041)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3435)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms | Allocations: 4034)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.489148"], ["updated_at", "2023-06-13 16:13:51.489148"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.493211"], ["updated_at", "2023-06-13 16:13:51.493211"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 560], ["libro_id", 747], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.495946"], ["updated_at", "2023-06-13 16:13:51.495946"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/560/compras/200" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"560", "id"=>"200"}
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1119)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 747], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 560], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3379)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 3764)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms | Allocations: 4374)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.510939"], ["updated_at", "2023-06-13 16:13:51.510939"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.514799"], ["updated_at", "2023-06-13 16:13:51.514799"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 561], ["libro_id", 748], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.516795"], ["updated_at", "2023-06-13 16:13:51.516795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/561/compras/201" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"561", "id"=>"201"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 561], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 748], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 16:13:51.522206"], ["id", 201]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/561/compras
Completed 302 Found in 5ms (ActiveRecord: 1.0ms | Allocations: 1177)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.527948"], ["updated_at", "2023-06-13 16:13:51.527948"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.532178"], ["updated_at", "2023-06-13 16:13:51.532178"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 562], ["libro_id", 749], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.534256"], ["updated_at", "2023-06-13 16:13:51.534256"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/562/compras/202/edit" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"562", "id"=>"202"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 562], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/edit.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3320)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3704)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms | Allocations: 4116)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.546503"], ["updated_at", "2023-06-13 16:13:51.546503"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:13:51.550865"], ["updated_at", "2023-06-13 16:13:51.550865"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 563], ["libro_id", 750], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.553291"], ["updated_at", "2023-06-13 16:13:51.553291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/750/compras" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"750"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 750], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 563], ["libro_id", 750], ["estado", "E"], ["created_at", "2023-06-13 16:13:51.558346"], ["updated_at", "2023-06-13 16:13:51.558346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/563/compras
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 722)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:13:51.563385"], ["updated_at", "2023-06-13 16:13:51.563385"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.4ms | Allocations: 967)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered home/inicio.html.erb within layouts/application (Duration: 10.1ms | Allocations: 4115)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 4540)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 5348)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 12:13:51 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 463)
  Rendered home/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2553)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 2937)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 3246)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:28.626128"], ["updated_at", "2023-06-13 16:15:28.626128"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 12:15:28 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.9ms | Allocations: 2323)
  Rendered componentes/_footer.html.erb (Duration: 1.6ms | Allocations: 571)
  Rendered users/show.html.erb within layouts/application (Duration: 122.3ms | Allocations: 34215)
  Rendered layout layouts/application.html.erb (Duration: 125.6ms | Allocations: 36347)
Completed 200 OK in 139ms (Views: 130.3ms | ActiveRecord: 0.0ms | Allocations: 40798)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:28.953330"], ["updated_at", "2023-06-13 16:15:28.953330"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:28.957842"], ["updated_at", "2023-06-13 16:15:28.957842"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 752], ["user_id", 565], ["created_at", "2023-06-13 16:15:28.979010"], ["updated_at", "2023-06-13 16:15:28.979010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/752/resenas" for 127.0.0.1 at 2023-06-13 12:15:28 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"752"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 752], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 752], ["user_id", 565], ["created_at", "2023-06-13 16:15:28.996284"], ["updated_at", "2023-06-13 16:15:28.996284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/752/resenas
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 1642)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.002260"], ["updated_at", "2023-06-13 16:15:29.002260"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.006115"], ["updated_at", "2023-06-13 16:15:29.006115"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 753], ["user_id", 566], ["created_at", "2023-06-13 16:15:29.008158"], ["updated_at", "2023-06-13 16:15:29.008158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/753/resenas/202/edit" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"753", "id"=>"202"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 753], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 753], ["id", 202], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1210)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 522)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 20.1ms | Allocations: 6512)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 6933)
Completed 200 OK in 26ms (Views: 22.6ms | ActiveRecord: 0.4ms | Allocations: 8237)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.039434"], ["updated_at", "2023-06-13 16:15:29.039434"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.043830"], ["updated_at", "2023-06-13 16:15:29.043830"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 754], ["user_id", 567], ["created_at", "2023-06-13 16:15:29.046744"], ["updated_at", "2023-06-13 16:15:29.046744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/754/resenas/203" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"754", "id"=>"203"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 754], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 754], ["id", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.2ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 203]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/754/resenas
Completed 303 See Other in 4ms (ActiveRecord: 0.8ms | Allocations: 922)
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.057273"], ["updated_at", "2023-06-13 16:15:29.057273"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.061059"], ["updated_at", "2023-06-13 16:15:29.061059"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.4ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 755], ["user_id", 568], ["created_at", "2023-06-13 16:15:29.063167"], ["updated_at", "2023-06-13 16:15:29.063167"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/755/resenas" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"755"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 755], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1133)
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 755]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered resenas/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3089)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3474)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.4ms | Allocations: 3965)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.076430"], ["updated_at", "2023-06-13 16:15:29.076430"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.081310"], ["updated_at", "2023-06-13 16:15:29.081310"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 756], ["user_id", 569], ["created_at", "2023-06-13 16:15:29.083673"], ["updated_at", "2023-06-13 16:15:29.083673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/756/resenas/new" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"756"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 756], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 3107)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 3491)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.2ms | Allocations: 4085)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.095773"], ["updated_at", "2023-06-13 16:15:29.095773"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.099777"], ["updated_at", "2023-06-13 16:15:29.099777"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 757], ["user_id", 570], ["created_at", "2023-06-13 16:15:29.101721"], ["updated_at", "2023-06-13 16:15:29.101721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 1216)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3456)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 3877)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 4727)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ResenasControllerTest: test_should_create_resena_with_unprocessable_entity_status
---------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.119060"], ["updated_at", "2023-06-13 16:15:29.119060"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.123487"], ["updated_at", "2023-06-13 16:15:29.123487"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.2ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 758], ["user_id", 571], ["created_at", "2023-06-13 16:15:29.125811"], ["updated_at", "2023-06-13 16:15:29.125811"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/758/resenas" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"invalid_param"=>"invalid"}, "libro_id"=>"758"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 758], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: ResenasController, action: create, request: #<ActionDispatch::Request:0x0000000110e91ab8>, params: {"resena"=>{"invalid_param"=>"invalid"}, "controller"=>"resenas", "action"=>"create", "libro_id"=>"758"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3819)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 4203)
Completed 422 Unprocessable Entity in 7ms (Views: 5.1ms | ActiveRecord: 0.2ms | Allocations: 5053)
  [1m[36mCACHE Resena Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.139394"], ["updated_at", "2023-06-13 16:15:29.139394"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.143073"], ["updated_at", "2023-06-13 16:15:29.143073"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 759], ["user_id", 572], ["created_at", "2023-06-13 16:15:29.145175"], ["updated_at", "2023-06-13 16:15:29.145175"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/759/resenas/208" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"759", "id"=>"208"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 759], ["LIMIT", 1]]
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 759], ["id", 208], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1102)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 572], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered resenas/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3240)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 3624)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.5ms | Allocations: 4396)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.158865"], ["updated_at", "2023-06-13 16:15:29.158865"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.163166"], ["updated_at", "2023-06-13 16:15:29.163166"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 760], ["user_id", 573], ["created_at", "2023-06-13 16:15:29.165888"], ["updated_at", "2023-06-13 16:15:29.165888"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/760/resenas/209" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"760", "id"=>"209"}
  [1m[36mResena Load (0.2ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 573], ["id", 209], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 760], ["LIMIT", 1]]
  [1m[36mResena Update (0.3ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 16:15:29.172408"], ["id", 209]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/760/resenas
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1565)
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.177823"], ["updated_at", "2023-06-13 16:15:29.177823"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.182224"], ["updated_at", "2023-06-13 16:15:29.182224"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.5ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 574], ["libro_id", 761], ["created_at", "2023-06-13 16:15:29.184682"], ["updated_at", "2023-06-13 16:15:29.184682"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/761/mensajes" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"761"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 761], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1216)
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 761]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 574], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 464)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 4174)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 4596)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.7ms | Allocations: 5601)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.204834"], ["updated_at", "2023-06-13 16:15:29.204834"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.209847"], ["updated_at", "2023-06-13 16:15:29.209847"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 575], ["libro_id", 762], ["created_at", "2023-06-13 16:15:29.211971"], ["updated_at", "2023-06-13 16:15:29.211971"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/762/mensajes/new" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"762"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 762], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 1111)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2954)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3338)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 0.2ms | Allocations: 3976)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.223992"], ["updated_at", "2023-06-13 16:15:29.223992"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.228752"], ["updated_at", "2023-06-13 16:15:29.228752"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 576], ["libro_id", 763], ["created_at", "2023-06-13 16:15:29.230829"], ["updated_at", "2023-06-13 16:15:29.230829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/763/mensajes/185" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"763", "id"=>"185"}
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 576], ["id", 185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 763], ["LIMIT", 1]]
  [1m[36mMensaje Update (0.4ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 16:15:29.237842"], ["id", 185]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/763/mensajes
Completed 302 Found in 6ms (ActiveRecord: 1.0ms | Allocations: 1466)
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.242996"], ["updated_at", "2023-06-13 16:15:29.242996"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.247341"], ["updated_at", "2023-06-13 16:15:29.247341"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 577], ["libro_id", 764], ["created_at", "2023-06-13 16:15:29.249894"], ["updated_at", "2023-06-13 16:15:29.249894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/764/mensajes/186/edit" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"764", "id"=>"186"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 764], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 764], ["id", 186], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 28.2ms | Allocations: 1112)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 468)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 31.4ms | Allocations: 2880)
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 3264)
Completed 200 OK in 35ms (Views: 32.4ms | ActiveRecord: 0.3ms | Allocations: 4006)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.291949"], ["updated_at", "2023-06-13 16:15:29.291949"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.296120"], ["updated_at", "2023-06-13 16:15:29.296120"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 578], ["libro_id", 765], ["created_at", "2023-06-13 16:15:29.299177"], ["updated_at", "2023-06-13 16:15:29.299177"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/765/mensajes" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"765"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 765], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 578], ["libro_id", 765], ["created_at", "2023-06-13 16:15:29.304895"], ["updated_at", "2023-06-13 16:15:29.304895"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/765/mensajes
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 827)
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.310109"], ["updated_at", "2023-06-13 16:15:29.310109"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.314071"], ["updated_at", "2023-06-13 16:15:29.314071"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 579], ["libro_id", 766], ["created_at", "2023-06-13 16:15:29.316710"], ["updated_at", "2023-06-13 16:15:29.316710"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/766/mensajes/189" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"766", "id"=>"189"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 766], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.2ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 766], ["id", 189], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1102)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 579], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2903)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 3287)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.7ms | Allocations: 4038)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.332654"], ["updated_at", "2023-06-13 16:15:29.332654"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.338272"], ["updated_at", "2023-06-13 16:15:29.338272"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 580], ["libro_id", 767], ["created_at", "2023-06-13 16:15:29.340579"], ["updated_at", "2023-06-13 16:15:29.340579"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/767/mensajes/190" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"767", "id"=>"190"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 767], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.3ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 767], ["id", 190], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.2ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 190]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/767/mensajes
Completed 303 See Other in 5ms (ActiveRecord: 1.0ms | Allocations: 786)
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
MensajesControllerTest: test_should_create_mensaje_with_unprocessable_entity_status
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.354262"], ["updated_at", "2023-06-13 16:15:29.354262"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.358727"], ["updated_at", "2023-06-13 16:15:29.358727"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.3ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 581], ["libro_id", 768], ["created_at", "2023-06-13 16:15:29.360878"], ["updated_at", "2023-06-13 16:15:29.360878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/768/mensajes" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"invalid_param"=>"invalid"}, "libro_id"=>"768"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 768], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: MensajesController, action: create, request: #<ActionDispatch::Request:0x000000010fdaa4e8>, params: {"mensaje"=>{"invalid_param"=>"invalid"}, "controller"=>"mensajes", "action"=>"create", "libro_id"=>"768"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 463)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 3025)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 3409)
Completed 422 Unprocessable Entity in 7ms (Views: 4.7ms | ActiveRecord: 0.2ms | Allocations: 4192)
  [1m[36mCACHE Mensaje Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.379933"], ["updated_at", "2023-06-13 16:15:29.379933"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.383631"], ["updated_at", "2023-06-13 16:15:29.383631"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by LibrosController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered libros/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3276)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3334)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 3874)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.401355"], ["updated_at", "2023-06-13 16:15:29.401355"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.2ms | Allocations: 913)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 521)
  Rendered libros/new.html.erb within layouts/application (Duration: 28.5ms | Allocations: 13574)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 13972)
Completed 200 OK in 31ms (Views: 30.0ms | ActiveRecord: 0.0ms | Allocations: 14365)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.441519"], ["updated_at", "2023-06-13 16:15:29.441519"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/771" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"771"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 771], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.3ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 16:15:29.445978"], ["id", 771]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/771
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1129)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 771], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.451968"], ["updated_at", "2023-06-13 16:15:29.451968"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.456476"], ["updated_at", "2023-06-13 16:15:29.456476"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/773
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 777)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.462280"], ["updated_at", "2023-06-13 16:15:29.462280"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.463996"], ["updated_at", "2023-06-13 16:15:29.463996"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/775" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"775"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 775], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 890)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered libros/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3161)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 3546)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.2ms | Allocations: 4005)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.476869"], ["updated_at", "2023-06-13 16:15:29.476869"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/776/edit" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"776"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 776], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.5ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered libros/edit.html.erb within layouts/application (Duration: 15.4ms | Allocations: 12685)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 13069)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.2ms | Allocations: 13483)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.500030"], ["updated_at", "2023-06-13 16:15:29.500030"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/777" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"777"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 777], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.1ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 777]]
  [1m[36mMensaje Load (0.1ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 777]]
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 777]]
  [1m[36mLibro Destroy (0.7ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 777]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 11ms (ActiveRecord: 2.9ms | Allocations: 3283)
  [1m[36mLibro Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.520372"], ["updated_at", "2023-06-13 16:15:29.520372"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.523879"], ["updated_at", "2023-06-13 16:15:29.523879"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.527564"], ["updated_at", "2023-06-13 16:15:29.527564"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.5ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 583], ["libro_id", 779], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.535112"], ["updated_at", "2023-06-13 16:15:29.535112"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/583/compras" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"583"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 1202)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 583]]
  Rendered componentes/_footer.html.erb (Duration: 0.3ms | Allocations: 465)
  Rendered compras/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4087)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 4509)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.2ms | Allocations: 5310)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.552238"], ["updated_at", "2023-06-13 16:15:29.552238"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.557530"], ["updated_at", "2023-06-13 16:15:29.557530"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 584], ["libro_id", 780], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.560221"], ["updated_at", "2023-06-13 16:15:29.560221"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/780/compras/new" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"780"}
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 780], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1102)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 521)
  Rendered compras/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 3043)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 3437)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.2ms | Allocations: 4038)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.572773"], ["updated_at", "2023-06-13 16:15:29.572773"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.577553"], ["updated_at", "2023-06-13 16:15:29.577553"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 585], ["libro_id", 781], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.579868"], ["updated_at", "2023-06-13 16:15:29.579868"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/585/compras/207" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"585", "id"=>"207"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 585], ["LIMIT", 1]]
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 781], ["LIMIT", 1]]
  [1m[36mCompra Update (0.3ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 16:15:29.587152"], ["id", 207]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/585/compras
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 1723)
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.592090"], ["updated_at", "2023-06-13 16:15:29.592090"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.595758"], ["updated_at", "2023-06-13 16:15:29.595758"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 586], ["libro_id", 782], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.597886"], ["updated_at", "2023-06-13 16:15:29.597886"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/782/compras" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"782"}
  [1m[36mLibro Load (0.1ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 782], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 586], ["libro_id", 782], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.602525"], ["updated_at", "2023-06-13 16:15:29.602525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/586/compras
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 723)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.607226"], ["updated_at", "2023-06-13 16:15:29.607226"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.611456"], ["updated_at", "2023-06-13 16:15:29.611456"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.4ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 587], ["libro_id", 783], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.613997"], ["updated_at", "2023-06-13 16:15:29.613997"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/587/compras/210" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"587", "id"=>"210"}
  [1m[36mCompra Load (0.3ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 1113)
  [1m[36mLibro Load (0.2ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 783], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 587], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered compras/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3030)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3415)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.6ms | Allocations: 3872)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.627335"], ["updated_at", "2023-06-13 16:15:29.627335"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.631027"], ["updated_at", "2023-06-13 16:15:29.631027"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 588], ["libro_id", 784], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.632901"], ["updated_at", "2023-06-13 16:15:29.632901"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/588/compras/211/edit" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"588", "id"=>"211"}
  [1m[36mCompra Load (0.1ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 0.9ms | Allocations: 1102)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 588], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 0.4ms | Allocations: 463)
  Rendered compras/edit.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3321)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3705)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.4ms | Allocations: 4117)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 16:15:29.644646"], ["updated_at", "2023-06-13 16:15:29.644646"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 16:15:29.648305"], ["updated_at", "2023-06-13 16:15:29.648305"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 589], ["libro_id", 785], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.650120"], ["updated_at", "2023-06-13 16:15:29.650120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 589], ["libro_id", 785], ["estado", "E"], ["created_at", "2023-06-13 16:15:29.651688"], ["updated_at", "2023-06-13 16:15:29.651688"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/589/compras/213" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"589", "id"=>"213"}
  [1m[36mCompra Load (0.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 589], ["id", 213], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.1ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 213]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/589/compras
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 654)
  [1m[36mCompra Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.3ms | Allocations: 968)
  Rendered componentes/_footer.html.erb (Duration: 0.6ms | Allocations: 464)
  Rendered home/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3159)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 3584)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 4354)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 12:15:29 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.1ms | Allocations: 833)
  Rendered componentes/_footer.html.erb (Duration: 0.5ms | Allocations: 463)
  Rendered home/inicio.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3510)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3894)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 4261)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (31.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "real_test"[0m
  [1m[35m (195.3ms)[0m  [1m[35mCREATE DATABASE "real_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "compras" CASCADE[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "compras" ("id" bigserial primary key, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "estado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE INDEX "index_compras_on_libro_id" ON "compras" ("libro_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_compras_on_user_id" ON "compras" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "libros" CASCADE[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "libros" ("id" bigserial primary key, "titulo" text, "fecha" integer, "categoria" text, "autor" text, "precio" character varying, "stock" character varying, "descripcion" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "picture" character varying)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "mensajes" CASCADE[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "mensajes" ("id" bigserial primary key, "texto" text, "user_id" bigint NOT NULL, "libro_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_libro_id" ON "mensajes" ("libro_id")[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_mensajes_on_user_id" ON "mensajes" ("user_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "resenas" CASCADE[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "resenas" ("id" bigserial primary key, "titulo" text, "cuerpo" text, "libro_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_libro_id" ON "resenas" ("libro_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_resenas_on_user_id" ON "resenas" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "nombre" character varying, "telefono" character varying, "descripcion" character varying, "tipo_de_usuario" character varying, "picture" character varying)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_5195e8f524"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "compras" ADD CONSTRAINT "fk_rails_4d21d6e76d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_d4e4d0ab37"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "mensajes" ADD CONSTRAINT "fk_rails_756a1f5700"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_27a4e68ad4"
FOREIGN KEY ("libro_id")
  REFERENCES "libros" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "resenas" ADD CONSTRAINT "fk_rails_921f5a495d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230528030927)[0m
  [1m[35m (1.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230416162514),
(20230417001621),
(20230417002537),
(20230417212118),
(20230418020514),
(20230418024303),
(20230420193941),
(20230422212919),
(20230423201745),
(20230423203622),
(20230527232058),
(20230527233243);

[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-06-13 22:30:21.588776"], ["updated_at", "2023-06-13 22:30:21.588776"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "e1e86c7887e4cee3b2fa22664c9853241cfea799"], ["created_at", "2023-06-13 22:30:21.598957"], ["updated_at", "2023-06-13 22:30:21.598957"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (2.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:22.114476"], ["updated_at", "2023-06-13 22:30:22.114476"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:22.177641"], ["updated_at", "2023-06-13 22:30:22.177641"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["libro_id", 1], ["estado", "E"], ["created_at", "2023-06-13 22:30:22.240134"], ["updated_at", "2023-06-13 22:30:22.240134"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/1/compras/new" for 127.0.0.1 at 2023-06-13 18:30:22 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"1"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.8ms | Allocations: 2031)
  Rendered componentes/_footer.html.erb (Duration: 2.6ms | Allocations: 699)
  Rendered compras/new.html.erb within layouts/application (Duration: 916.6ms | Allocations: 150202)
  Rendered layout layouts/application.html.erb (Duration: 921.1ms | Allocations: 152321)
Completed 200 OK in 955ms (Views: 930.0ms | ActiveRecord: 0.9ms | Allocations: 157606)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.382496"], ["updated_at", "2023-06-13 22:30:23.382496"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.396093"], ["updated_at", "2023-06-13 22:30:23.396093"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.3ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["libro_id", 2], ["estado", "E"], ["created_at", "2023-06-13 22:30:23.406745"], ["updated_at", "2023-06-13 22:30:23.406745"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/2/compras/2" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"2", "id"=>"2"}
  [1m[36mCompra Load (1.2ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.1ms | Allocations: 1206)
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 498)
  Rendered compras/show.html.erb within layouts/application (Duration: 20.0ms | Allocations: 3830)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 4225)
Completed 200 OK in 31ms (Views: 21.5ms | ActiveRecord: 3.0ms | Allocations: 4904)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.456707"], ["updated_at", "2023-06-13 22:30:23.456707"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.468445"], ["updated_at", "2023-06-13 22:30:23.468445"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["libro_id", 3], ["estado", "E"], ["created_at", "2023-06-13 22:30:23.477600"], ["updated_at", "2023-06-13 22:30:23.477600"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/3/compras/3/edit" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"3", "id"=>"3"}
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.6ms | Allocations: 1172)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.1ms | Allocations: 556)
  Rendered compras/edit.html.erb within layouts/application (Duration: 26.1ms | Allocations: 5374)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 5768)
Completed 200 OK in 33ms (Views: 29.0ms | ActiveRecord: 1.2ms | Allocations: 6207)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.528536"], ["updated_at", "2023-06-13 22:30:23.528536"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.541771"], ["updated_at", "2023-06-13 22:30:23.541771"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.0ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["libro_id", 4], ["estado", "E"], ["created_at", "2023-06-13 22:30:23.547445"], ["updated_at", "2023-06-13 22:30:23.547445"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["libro_id", 4], ["estado", "E"], ["created_at", "2023-06-13 22:30:23.555471"], ["updated_at", "2023-06-13 22:30:23.555471"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/4/compras/5" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"4", "id"=>"5"}
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 4], ["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (0.7ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/4/compras
Completed 302 Found in 11ms (ActiveRecord: 2.3ms | Allocations: 1071)
  [1m[36mCompra Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.598955"], ["updated_at", "2023-06-13 22:30:23.598955"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.614367"], ["updated_at", "2023-06-13 22:30:23.614367"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 5], ["libro_id", 5], ["estado", "E"], ["created_at", "2023-06-13 22:30:23.622863"], ["updated_at", "2023-06-13 22:30:23.622863"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/5/compras" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"5"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 5], ["libro_id", 5], ["estado", "E"], ["created_at", "2023-06-13 22:30:23.642981"], ["updated_at", "2023-06-13 22:30:23.642981"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/5/compras
Completed 302 Found in 9ms (ActiveRecord: 1.9ms | Allocations: 1010)
  [1m[36mCompra Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.659364"], ["updated_at", "2023-06-13 22:30:23.659364"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.671148"], ["updated_at", "2023-06-13 22:30:23.671148"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 6], ["libro_id", 6], ["estado", "E"], ["created_at", "2023-06-13 22:30:23.677095"], ["updated_at", "2023-06-13 22:30:23.677095"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/6/compras" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"6"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.0ms | Allocations: 1192)
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 6]]
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 498)
  Rendered compras/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 3602)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 3996)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.5ms | Allocations: 4369)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.713449"], ["updated_at", "2023-06-13 22:30:23.713449"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.724886"], ["updated_at", "2023-06-13 22:30:23.724886"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.7ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 7], ["libro_id", 7], ["estado", "E"], ["created_at", "2023-06-13 22:30:23.731064"], ["updated_at", "2023-06-13 22:30:23.731064"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/7/compras/9" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"7", "id"=>"9"}
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCompra Update (1.2ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 22:30:23.749583"], ["id", 9]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/7/compras
Completed 302 Found in 15ms (ActiveRecord: 4.1ms | Allocations: 1304)
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
MensajesControllerTest: test_should_create_mensaje_with_unprocessable_entity_status
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.766903"], ["updated_at", "2023-06-13 22:30:23.766903"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.781036"], ["updated_at", "2023-06-13 22:30:23.781036"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (2.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 8], ["libro_id", 8], ["created_at", "2023-06-13 22:30:23.814828"], ["updated_at", "2023-06-13 22:30:23.814828"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/8/mensajes" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"invalid_param"=>"invalid"}, "libro_id"=>"8"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: MensajesController, action: create, request: #<ActionDispatch::Request:0x00007fd7a59761f0>, params: {"mensaje"=>{"invalid_param"=>"invalid"}, "controller"=>"mensajes", "action"=>"create", "libro_id"=>"8"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.0ms | Allocations: 1273)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 499)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3952)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 4373)
Completed 422 Unprocessable Entity in 25ms (Views: 18.2ms | ActiveRecord: 0.7ms | Allocations: 5884)
  [1m[36mCACHE Mensaje Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.4ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.867219"], ["updated_at", "2023-06-13 22:30:23.867219"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.881453"], ["updated_at", "2023-06-13 22:30:23.881453"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 9], ["libro_id", 9], ["created_at", "2023-06-13 22:30:23.888844"], ["updated_at", "2023-06-13 22:30:23.888844"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/9/mensajes/2" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"9", "id"=>"2"}
  [1m[36mLibro Load (1.0ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 9], ["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.6ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/9/mensajes
Completed 303 See Other in 14ms (ActiveRecord: 2.8ms | Allocations: 941)
  [1m[36mMensaje Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.924867"], ["updated_at", "2023-06-13 22:30:23.924867"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.934200"], ["updated_at", "2023-06-13 22:30:23.934200"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 10], ["libro_id", 10], ["created_at", "2023-06-13 22:30:23.942092"], ["updated_at", "2023-06-13 22:30:23.942092"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/10/mensajes" for 127.0.0.1 at 2023-06-13 18:30:23 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"10"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1183)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 10]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.1ms | Allocations: 498)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 3560)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 3944)
Completed 200 OK in 24ms (Views: 17.1ms | ActiveRecord: 2.0ms | Allocations: 4407)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:23.980469"], ["updated_at", "2023-06-13 22:30:23.980469"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:23.992380"], ["updated_at", "2023-06-13 22:30:23.992380"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.8ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 11], ["libro_id", 11], ["created_at", "2023-06-13 22:30:23.998085"], ["updated_at", "2023-06-13 22:30:23.998085"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/11/mensajes/4" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"11", "id"=>"4"}
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 11], ["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mMensaje Update (1.1ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 22:30:24.019435"], ["id", 4]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/11/mensajes
Completed 302 Found in 16ms (ActiveRecord: 3.1ms | Allocations: 1393)
  [1m[36mMensaje Load (0.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.032830"], ["updated_at", "2023-06-13 22:30:24.032830"], ["picture", nil]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.045113"], ["updated_at", "2023-06-13 22:30:24.045113"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.1ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 12], ["libro_id", 12], ["created_at", "2023-06-13 22:30:24.051888"], ["updated_at", "2023-06-13 22:30:24.051888"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/12/mensajes/new" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"12"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.9ms | Allocations: 1181)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 498)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 10.6ms | Allocations: 2667)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 3051)
Completed 200 OK in 17ms (Views: 12.6ms | ActiveRecord: 0.4ms | Allocations: 3590)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.084221"], ["updated_at", "2023-06-13 22:30:24.084221"], ["picture", nil]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.096589"], ["updated_at", "2023-06-13 22:30:24.096589"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 13], ["libro_id", 13], ["created_at", "2023-06-13 22:30:24.103184"], ["updated_at", "2023-06-13 22:30:24.103184"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/13/mensajes" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"13"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 13], ["libro_id", 13], ["created_at", "2023-06-13 22:30:24.118853"], ["updated_at", "2023-06-13 22:30:24.118853"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/13/mensajes
Completed 302 Found in 11ms (ActiveRecord: 2.3ms | Allocations: 864)
  [1m[36mMensaje Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.134178"], ["updated_at", "2023-06-13 22:30:24.134178"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.148365"], ["updated_at", "2023-06-13 22:30:24.148365"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 14], ["libro_id", 14], ["created_at", "2023-06-13 22:30:24.156763"], ["updated_at", "2023-06-13 22:30:24.156763"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/14/mensajes/8/edit" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"14", "id"=>"8"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.7ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 14], ["id", 8], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1181)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 498)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3013)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3397)
Completed 200 OK in 17ms (Views: 8.6ms | ActiveRecord: 1.4ms | Allocations: 4135)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.192315"], ["updated_at", "2023-06-13 22:30:24.192315"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.201496"], ["updated_at", "2023-06-13 22:30:24.201496"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.9ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 15], ["libro_id", 15], ["created_at", "2023-06-13 22:30:24.208236"], ["updated_at", "2023-06-13 22:30:24.208236"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/15/mensajes/9" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"15", "id"=>"9"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 15], ["id", 9], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.1ms | Allocations: 1172)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 498)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 14.9ms | Allocations: 3046)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 3430)
Completed 200 OK in 27ms (Views: 17.2ms | ActiveRecord: 2.1ms | Allocations: 4182)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.288866"], ["updated_at", "2023-06-13 22:30:24.288866"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.7ms | Allocations: 1082)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 499)
  Rendered home/inicio.html.erb within layouts/application (Duration: 12.2ms | Allocations: 3601)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 4026)
Completed 200 OK in 17ms (Views: 16.5ms | ActiveRecord: 0.0ms | Allocations: 4834)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 868)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 498)
  Rendered home/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 2526)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 2910)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.0ms | Allocations: 3220)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.354084"], ["updated_at", "2023-06-13 22:30:24.354084"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.376440"], ["updated_at", "2023-06-13 22:30:24.376440"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.4ms | Allocations: 1273)
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 499)
  Rendered users/show.html.erb within layouts/application (Duration: 11.8ms | Allocations: 3476)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 3898)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 0.0ms | Allocations: 4685)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.417654"], ["updated_at", "2023-06-13 22:30:24.417654"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.429273"], ["updated_at", "2023-06-13 22:30:24.429273"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 17], ["user_id", 18], ["created_at", "2023-06-13 22:30:24.436860"], ["updated_at", "2023-06-13 22:30:24.436860"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/17/resenas/1/edit" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"17", "id"=>"1"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mResena Load (0.8ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 17], ["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.8ms | Allocations: 1286)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 557)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 14.9ms | Allocations: 4002)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 4423)
Completed 200 OK in 29ms (Views: 18.6ms | ActiveRecord: 1.6ms | Allocations: 5907)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ResenasControllerTest: test_should_create_resena_with_unprocessable_entity_status
---------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.484418"], ["updated_at", "2023-06-13 22:30:24.484418"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.497277"], ["updated_at", "2023-06-13 22:30:24.497277"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 18], ["user_id", 19], ["created_at", "2023-06-13 22:30:24.506716"], ["updated_at", "2023-06-13 22:30:24.506716"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/18/resenas" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"invalid_param"=>"invalid"}, "libro_id"=>"18"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: ResenasController, action: create, request: #<ActionDispatch::Request:0x00007fd7a55b71b8>, params: {"resena"=>{"invalid_param"=>"invalid"}, "controller"=>"resenas", "action"=>"create", "libro_id"=>"18"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.9ms | Allocations: 1192)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 498)
  Rendered resenas/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 4278)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 4663)
Completed 422 Unprocessable Entity in 23ms (Views: 15.7ms | ActiveRecord: 0.6ms | Allocations: 5599)
  [1m[36mCACHE Resena Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.545951"], ["updated_at", "2023-06-13 22:30:24.545951"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.557772"], ["updated_at", "2023-06-13 22:30:24.557772"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 19], ["user_id", 20], ["created_at", "2023-06-13 22:30:24.563536"], ["updated_at", "2023-06-13 22:30:24.563536"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.9ms | Allocations: 1286)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 499)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 11.0ms | Allocations: 3323)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 3744)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.5ms | Allocations: 4594)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.597727"], ["updated_at", "2023-06-13 22:30:24.597727"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.609143"], ["updated_at", "2023-06-13 22:30:24.609143"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 20], ["user_id", 21], ["created_at", "2023-06-13 22:30:24.615198"], ["updated_at", "2023-06-13 22:30:24.615198"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/20/resenas/4" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"20", "id"=>"4"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mResena Load (0.6ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 20], ["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.4ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/20/resenas
Completed 303 See Other in 9ms (ActiveRecord: 2.1ms | Allocations: 855)
  [1m[36mResena Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.645507"], ["updated_at", "2023-06-13 22:30:24.645507"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.657487"], ["updated_at", "2023-06-13 22:30:24.657487"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 21], ["user_id", 22], ["created_at", "2023-06-13 22:30:24.664035"], ["updated_at", "2023-06-13 22:30:24.664035"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/21/resenas/5" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"21", "id"=>"5"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mResena Load (0.6ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 21], ["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 1172)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 498)
  Rendered resenas/show.html.erb within layouts/application (Duration: 14.1ms | Allocations: 3228)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 3612)
Completed 200 OK in 23ms (Views: 15.5ms | ActiveRecord: 1.7ms | Allocations: 4395)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.703063"], ["updated_at", "2023-06-13 22:30:24.703063"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.714160"], ["updated_at", "2023-06-13 22:30:24.714160"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 22], ["user_id", 23], ["created_at", "2023-06-13 22:30:24.720858"], ["updated_at", "2023-06-13 22:30:24.720858"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/22/resenas" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"22"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 22], ["user_id", 23], ["created_at", "2023-06-13 22:30:24.735212"], ["updated_at", "2023-06-13 22:30:24.735212"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/22/resenas
Completed 302 Found in 13ms (ActiveRecord: 2.2ms | Allocations: 896)
  [1m[36mResena Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.753348"], ["updated_at", "2023-06-13 22:30:24.753348"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.764813"], ["updated_at", "2023-06-13 22:30:24.764813"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 23], ["user_id", 24], ["created_at", "2023-06-13 22:30:24.772722"], ["updated_at", "2023-06-13 22:30:24.772722"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/23/resenas/new" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"23"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.9ms | Allocations: 1181)
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 498)
  Rendered resenas/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3316)
Completed 200 OK in 12ms (Views: 7.9ms | ActiveRecord: 0.7ms | Allocations: 3856)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.800298"], ["updated_at", "2023-06-13 22:30:24.800298"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.814667"], ["updated_at", "2023-06-13 22:30:24.814667"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 24], ["user_id", 25], ["created_at", "2023-06-13 22:30:24.823460"], ["updated_at", "2023-06-13 22:30:24.823460"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/24/resenas" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"24"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.4ms | Allocations: 1181)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 24]]
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 498)
  Rendered resenas/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 3133)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 3517)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 0.9ms | Allocations: 3961)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.852523"], ["updated_at", "2023-06-13 22:30:24.852523"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:30:24.865182"], ["updated_at", "2023-06-13 22:30:24.865182"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 25], ["user_id", 26], ["created_at", "2023-06-13 22:30:24.873823"], ["updated_at", "2023-06-13 22:30:24.873823"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/25/resenas/10" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"25", "id"=>"10"}
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 26], ["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mResena Update (1.0ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 22:30:24.918675"], ["id", 10]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/25/resenas
Completed 302 Found in 13ms (ActiveRecord: 2.6ms | Allocations: 1417)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.933294"], ["updated_at", "2023-06-13 22:30:24.933294"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 18:30:24 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 891)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 556)
  Rendered libros/new.html.erb within layouts/application (Duration: 36.3ms | Allocations: 13190)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 13587)
Completed 200 OK in 39ms (Views: 38.1ms | ActiveRecord: 0.0ms | Allocations: 13919)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
LibrosControllerTest: test_should_show_libro
--------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.990545"], ["updated_at", "2023-06-13 22:30:24.990545"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:24.996833"], ["updated_at", "2023-06-13 22:30:24.996833"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/28" for 127.0.0.1 at 2023-06-13 18:30:25 -0400
Processing by LibrosController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1 LIMIT $2[0m  [["categoria", "Suspenso"], ["LIMIT", 6]]
  Rendering layout layouts/application.html.erb
  Rendering libros/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 779)
  Rendered libros/show.html.erb within layouts/application (Duration: 16.5ms | Allocations: 6772)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 6831)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.8ms | Allocations: 7797)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:25.035972"], ["updated_at", "2023-06-13 22:30:25.035972"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/29/edit" for 127.0.0.1 at 2023-06-13 18:30:25 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"29"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.2ms | Allocations: 942)
  Rendered componentes/_footer.html.erb (Duration: 1.7ms | Allocations: 498)
  Rendered libros/edit.html.erb within layouts/application (Duration: 42.4ms | Allocations: 12978)
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | Allocations: 13372)
Completed 200 OK in 48ms (Views: 45.3ms | ActiveRecord: 0.5ms | Allocations: 13879)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:25.100171"], ["updated_at", "2023-06-13 22:30:25.100171"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/30" for 127.0.0.1 at 2023-06-13 18:30:25 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"30"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.7ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 30]]
  [1m[36mMensaje Load (0.7ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 30]]
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 30]]
  [1m[36mLibro Destroy (1.1ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 30]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 17ms (ActiveRecord: 4.3ms | Allocations: 1543)
  [1m[36mLibro Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:25.139421"], ["updated_at", "2023-06-13 22:30:25.139421"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 18:30:25 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:25.152900"], ["updated_at", "2023-06-13 22:30:25.152900"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/32
Completed 302 Found in 7ms (ActiveRecord: 1.4ms | Allocations: 864)
  [1m[36mLibro Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:25.168716"], ["updated_at", "2023-06-13 22:30:25.168716"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 18:30:25 -0400
Processing by LibrosController#index as HTML
  [1m[36mCompra Count (0.7ms)[0m  [1m[34mSELECT COUNT("compras"."id") AS "count_id", "compras"."libro_id" AS "compras_libro_id" FROM "compras" GROUP BY "compras"."libro_id" ORDER BY count_id desc LIMIT $1[0m  [["LIMIT", 3]]
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.7ms | Allocations: 759)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 0.8ms | Allocations: 498)
  Rendered libros/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3128)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 3512)
Completed 200 OK in 16ms (Views: 11.3ms | ActiveRecord: 1.2ms | Allocations: 4280)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:30:25.200408"], ["updated_at", "2023-06-13 22:30:25.200408"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/34" for 127.0.0.1 at 2023-06-13 18:30:25 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"34"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (1.2ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 22:30:25.219592"], ["id", 34]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/34
Completed 302 Found in 12ms (ActiveRecord: 2.6ms | Allocations: 1004)
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
CompraTest: test_no_se_deber√≠a_guardar_compra_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------
ResenaTest: test_no_se_deber√≠a_guardar_resena_sin_sus_atributos
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
MensajesControllerTest: test_should_create_mensaje_with_unprocessable_entity_status
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.5ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:05.095658"], ["updated_at", "2023-06-13 22:35:05.095658"], ["picture", nil]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:05.156122"], ["updated_at", "2023-06-13 22:35:05.156122"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (2.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 27], ["libro_id", 35], ["created_at", "2023-06-13 22:35:05.216610"], ["updated_at", "2023-06-13 22:35:05.216610"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/35/mensajes" for 127.0.0.1 at 2023-06-13 18:35:05 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"invalid_param"=>"invalid"}, "libro_id"=>"35"}
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: MensajesController, action: create, request: #<ActionDispatch::Request:0x00007f1affa19728>, params: {"mensaje"=>{"invalid_param"=>"invalid"}, "controller"=>"mensajes", "action"=>"create", "libro_id"=>"35"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 7.7ms | Allocations: 2386)
  Rendered componentes/_footer.html.erb (Duration: 3.0ms | Allocations: 699)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 184.9ms | Allocations: 41869)
  Rendered layout layouts/application.html.erb (Duration: 191.5ms | Allocations: 43997)
Completed 422 Unprocessable Entity in 218ms (Views: 203.0ms | ActiveRecord: 1.7ms | Allocations: 49623)
  [1m[36mCACHE Mensaje Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_create_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:05.605444"], ["updated_at", "2023-06-13 22:35:05.605444"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:05.620935"], ["updated_at", "2023-06-13 22:35:05.620935"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.4ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 28], ["libro_id", 36], ["created_at", "2023-06-13 22:35:05.629087"], ["updated_at", "2023-06-13 22:35:05.629087"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started POST "/libros/36/mensajes" for 127.0.0.1 at 2023-06-13 18:35:05 -0400
Processing by MensajesController#create as HTML
  Parameters: {"mensaje"=>{"texto"=>"aa"}, "libro_id"=>"36"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.1ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 28], ["libro_id", 36], ["created_at", "2023-06-13 22:35:05.657912"], ["updated_at", "2023-06-13 22:35:05.657912"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/36/mensajes
Completed 302 Found in 14ms (ActiveRecord: 2.8ms | Allocations: 975)
  [1m[36mMensaje Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
MensajesControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:05.675489"], ["updated_at", "2023-06-13 22:35:05.675489"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:05.688246"], ["updated_at", "2023-06-13 22:35:05.688246"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 29], ["libro_id", 37], ["created_at", "2023-06-13 22:35:05.694868"], ["updated_at", "2023-06-13 22:35:05.694868"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/37/mensajes" for 127.0.0.1 at 2023-06-13 18:35:05 -0400
Processing by MensajesController#index as HTML
  Parameters: {"libro_id"=>"37"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.0ms | Allocations: 1219)
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 37]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.2ms | Allocations: 498)
  Rendered mensajes/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 3984)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 4379)
Completed 200 OK in 27ms (Views: 21.5ms | ActiveRecord: 2.5ms | Allocations: 5002)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
MensajesControllerTest: test_should_destroy_mensaje
---------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:05.744922"], ["updated_at", "2023-06-13 22:35:05.744922"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:05.755551"], ["updated_at", "2023-06-13 22:35:05.755551"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.0ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 30], ["libro_id", 38], ["created_at", "2023-06-13 22:35:05.761471"], ["updated_at", "2023-06-13 22:35:05.761471"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mMensaje Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
Started DELETE "/libros/38/mensajes/14" for 127.0.0.1 at 2023-06-13 18:35:05 -0400
Processing by MensajesController#destroy as HTML
  Parameters: {"libro_id"=>"38", "id"=>"14"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 38], ["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Destroy (0.8ms)[0m  [1m[31mDELETE FROM "mensajes" WHERE "mensajes"."id" = $1[0m  [["id", 14]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/38/mensajes
Completed 303 See Other in 12ms (ActiveRecord: 2.8ms | Allocations: 962)
  [1m[36mMensaje Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "mensajes"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
MensajesControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.3ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:05.833928"], ["updated_at", "2023-06-13 22:35:05.833928"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:05.846747"], ["updated_at", "2023-06-13 22:35:05.846747"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 31], ["libro_id", 39], ["created_at", "2023-06-13 22:35:05.853054"], ["updated_at", "2023-06-13 22:35:05.853054"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/39/mensajes/15/edit" for 127.0.0.1 at 2023-06-13 18:35:05 -0400
Processing by MensajesController#edit as HTML
  Parameters: {"libro_id"=>"39", "id"=>"15"}
  [1m[36mLibro Load (0.8ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mMensaje Load (1.4ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 39], ["id", 15], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 1186)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 498)
  Rendered mensajes/edit.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3095)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 3479)
Completed 200 OK in 21ms (Views: 10.4ms | ActiveRecord: 2.2ms | Allocations: 4219)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
MensajesControllerTest: test_should_update_mensaje
--------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:05.890987"], ["updated_at", "2023-06-13 22:35:05.890987"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:05.904690"], ["updated_at", "2023-06-13 22:35:05.904690"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.6ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 32], ["libro_id", 40], ["created_at", "2023-06-13 22:35:05.910281"], ["updated_at", "2023-06-13 22:35:05.910281"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/40/mensajes/16" for 127.0.0.1 at 2023-06-13 18:35:05 -0400
Processing by MensajesController#update as HTML
  Parameters: {"mensaje"=>{"texto"=>"Updated Texto"}, "libro_id"=>"40", "id"=>"16"}
  [1m[36mMensaje Load (0.5ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."user_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["user_id", 32], ["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mMensaje Update (1.8ms)[0m  [1m[33mUPDATE "mensajes" SET "texto" = $1, "updated_at" = $2 WHERE "mensajes"."id" = $3[0m  [["texto", "Updated Texto"], ["updated_at", "2023-06-13 22:35:05.928868"], ["id", 16]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/40/mensajes
Completed 302 Found in 18ms (ActiveRecord: 3.8ms | Allocations: 1549)
  [1m[36mMensaje Load (0.8ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
MensajesControllerTest: test_should_show_mensaje
------------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:05.950971"], ["updated_at", "2023-06-13 22:35:05.950971"], ["picture", nil]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:05.964848"], ["updated_at", "2023-06-13 22:35:05.964848"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (0.7ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 33], ["libro_id", 41], ["created_at", "2023-06-13 22:35:05.972658"], ["updated_at", "2023-06-13 22:35:05.972658"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/41/mensajes/17" for 127.0.0.1 at 2023-06-13 18:35:05 -0400
Processing by MensajesController#show as HTML
  Parameters: {"libro_id"=>"41", "id"=>"17"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mMensaje Load (0.7ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1 AND "mensajes"."id" = $2 LIMIT $3[0m  [["libro_id", 41], ["id", 17], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.0ms | Allocations: 1172)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 498)
  Rendered mensajes/show.html.erb within layouts/application (Duration: 12.2ms | Allocations: 3055)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 3439)
Completed 200 OK in 25ms (Views: 16.8ms | ActiveRecord: 2.1ms | Allocations: 4191)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
MensajesControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.013325"], ["updated_at", "2023-06-13 22:35:06.013325"], ["picture", nil]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.027230"], ["updated_at", "2023-06-13 22:35:06.027230"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMensaje Create (1.2ms)[0m  [1m[32mINSERT INTO "mensajes" ("texto", "user_id", "libro_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["texto", "aa"], ["user_id", 34], ["libro_id", 42], ["created_at", "2023-06-13 22:35:06.033870"], ["updated_at", "2023-06-13 22:35:06.033870"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/42/mensajes/new" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by MensajesController#new as HTML
  Parameters: {"libro_id"=>"42"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering mensajes/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 1181)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 498)
  Rendered mensajes/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2667)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 3051)
Completed 200 OK in 15ms (Views: 9.9ms | ActiveRecord: 0.5ms | Allocations: 3590)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------
ResenasControllerTest: test_should_create_resena_with_unprocessable_entity_status
---------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.068377"], ["updated_at", "2023-06-13 22:35:06.068377"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.082592"], ["updated_at", "2023-06-13 22:35:06.082592"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.3ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 43], ["user_id", 35], ["created_at", "2023-06-13 22:35:06.090403"], ["updated_at", "2023-06-13 22:35:06.090403"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/43/resenas" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"invalid_param"=>"invalid"}, "libro_id"=>"43"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
[31mUnpermitted parameter: :invalid_param. Context: { controller: ResenasController, action: create, request: #<ActionDispatch::Request:0x00007f1aff8f3b78>, params: {"resena"=>{"invalid_param"=>"invalid"}, "controller"=>"resenas", "action"=>"create", "libro_id"=>"43"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 1273)
  Rendered componentes/_footer.html.erb (Duration: 1.0ms | Allocations: 558)
  Rendered resenas/new.html.erb within layouts/application (Duration: 17.7ms | Allocations: 5252)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 5673)
Completed 422 Unprocessable Entity in 29ms (Views: 22.9ms | ActiveRecord: 0.7ms | Allocations: 7161)
  [1m[36mCACHE Resena Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_create_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.146581"], ["updated_at", "2023-06-13 22:35:06.146581"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.158455"], ["updated_at", "2023-06-13 22:35:06.158455"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 44], ["user_id", 36], ["created_at", "2023-06-13 22:35:06.166665"], ["updated_at", "2023-06-13 22:35:06.166665"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started POST "/libros/44/resenas" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ResenasController#create as HTML
  Parameters: {"resena"=>{"titulo"=>"aa", "cuerpo"=>"bb"}, "libro_id"=>"44"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 44], ["user_id", 36], ["created_at", "2023-06-13 22:35:06.182248"], ["updated_at", "2023-06-13 22:35:06.182248"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/44/resenas
Completed 302 Found in 9ms (ActiveRecord: 2.2ms | Allocations: 944)
  [1m[36mResena Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ResenasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.197263"], ["updated_at", "2023-06-13 22:35:06.197263"], ["picture", nil]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.214596"], ["updated_at", "2023-06-13 22:35:06.214596"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.8ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 45], ["user_id", 37], ["created_at", "2023-06-13 22:35:06.221345"], ["updated_at", "2023-06-13 22:35:06.221345"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/45/resenas/14/edit" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ResenasController#edit as HTML
  Parameters: {"libro_id"=>"45", "id"=>"14"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mResena Load (1.7ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 45], ["id", 14], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 1200)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 498)
  Rendered resenas/edit.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3334)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 3719)
Completed 200 OK in 20ms (Views: 11.5ms | ActiveRecord: 2.3ms | Allocations: 4604)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ResenasControllerTest: test_should_show_resena
----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.258156"], ["updated_at", "2023-06-13 22:35:06.258156"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.271481"], ["updated_at", "2023-06-13 22:35:06.271481"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 46], ["user_id", 38], ["created_at", "2023-06-13 22:35:06.276536"], ["updated_at", "2023-06-13 22:35:06.276536"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/46/resenas/15" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ResenasController#show as HTML
  Parameters: {"libro_id"=>"46", "id"=>"15"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 46], ["id", 15], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 1172)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 498)
  Rendered resenas/show.html.erb within layouts/application (Duration: 13.9ms | Allocations: 3227)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 3611)
Completed 200 OK in 21ms (Views: 15.5ms | ActiveRecord: 1.7ms | Allocations: 4365)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ResenasControllerTest: test_should_destroy_resena
-------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.311561"], ["updated_at", "2023-06-13 22:35:06.311561"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.323355"], ["updated_at", "2023-06-13 22:35:06.323355"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.7ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 47], ["user_id", 39], ["created_at", "2023-06-13 22:35:06.331554"], ["updated_at", "2023-06-13 22:35:06.331554"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mResena Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
Started DELETE "/libros/47/resenas/16" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ResenasController#destroy as HTML
  Parameters: {"libro_id"=>"47", "id"=>"16"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["libro_id", 47], ["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Destroy (0.9ms)[0m  [1m[31mDELETE FROM "resenas" WHERE "resenas"."id" = $1[0m  [["id", 16]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/47/resenas
Completed 303 See Other in 9ms (ActiveRecord: 2.9ms | Allocations: 811)
  [1m[36mResena Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "resenas"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_get_categoria
------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.2ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.360438"], ["updated_at", "2023-06-13 22:35:06.360438"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.380568"], ["updated_at", "2023-06-13 22:35:06.380568"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.9ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 48], ["user_id", 40], ["created_at", "2023-06-13 22:35:06.393140"], ["updated_at", "2023-06-13 22:35:06.393140"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categoria/Suspenso" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by LibrosController#categoria as HTML
  Parameters: {"categoria"=>"Suspenso"}
  Rendering layout layouts/application.html.erb
  Rendering libros/categoria.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.3ms | Allocations: 1291)
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."categoria" = $1[0m  [["categoria", "Suspenso"]]
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 499)
  Rendered libros/categoria.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3635)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 4056)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.5ms | Allocations: 4906)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ResenasControllerTest: test_should_update_resena
------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.9ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.428725"], ["updated_at", "2023-06-13 22:35:06.428725"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.440136"], ["updated_at", "2023-06-13 22:35:06.440136"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (0.6ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 49], ["user_id", 41], ["created_at", "2023-06-13 22:35:06.447703"], ["updated_at", "2023-06-13 22:35:06.447703"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/49/resenas/18" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ResenasController#update as HTML
  Parameters: {"resena"=>{"titulo"=>"Updated Titulo", "cuerpo"=>"Updated Cuerpo"}, "libro_id"=>"49", "id"=>"18"}
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."user_id" = $1 AND "resenas"."id" = $2 LIMIT $3[0m  [["user_id", 41], ["id", 18], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mResena Update (1.0ms)[0m  [1m[33mUPDATE "resenas" SET "titulo" = $1, "cuerpo" = $2, "updated_at" = $3 WHERE "resenas"."id" = $4[0m  [["titulo", "Updated Titulo"], ["cuerpo", "Updated Cuerpo"], ["updated_at", "2023-06-13 22:35:06.464955"], ["id", 18]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/49/resenas
Completed 302 Found in 16ms (ActiveRecord: 2.9ms | Allocations: 1464)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ResenasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.482732"], ["updated_at", "2023-06-13 22:35:06.482732"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.493606"], ["updated_at", "2023-06-13 22:35:06.493606"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.0ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 50], ["user_id", 42], ["created_at", "2023-06-13 22:35:06.501116"], ["updated_at", "2023-06-13 22:35:06.501116"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/50/resenas/new" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ResenasController#new as HTML
  Parameters: {"libro_id"=>"50"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.7ms | Allocations: 1181)
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 498)
  Rendered resenas/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2932)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 3316)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.4ms | Allocations: 3878)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ResenasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.529387"], ["updated_at", "2023-06-13 22:35:06.529387"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.541013"], ["updated_at", "2023-06-13 22:35:06.541013"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Create (1.1ms)[0m  [1m[32mINSERT INTO "resenas" ("titulo", "cuerpo", "libro_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["titulo", "aa"], ["cuerpo", "bb"], ["libro_id", 51], ["user_id", 43], ["created_at", "2023-06-13 22:35:06.546068"], ["updated_at", "2023-06-13 22:35:06.546068"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/51/resenas" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ResenasController#index as HTML
  Parameters: {"libro_id"=>"51"}
  [1m[36mLibro Load (0.4ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering resenas/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 4.2ms | Allocations: 1181)
  [1m[36mResena Load (0.4ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 51]]
  Rendered componentes/_footer.html.erb (Duration: 1.1ms | Allocations: 498)
  Rendered resenas/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 3136)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 3520)
Completed 200 OK in 21ms (Views: 18.0ms | ActiveRecord: 0.9ms | Allocations: 3978)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
MensajeTest: test_no_se_deber√≠a_guardar_mensaje_sin_sus_atributos
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_no_se_deber√≠a_guardar_libro_sin_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
LibroTest: test_s√≠_se_deber√≠a_guardar_libro_con_sus_atributos
-------------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.594304"], ["updated_at", "2023-06-13 22:35:06.594304"], ["picture", nil]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------
ComprasControllerTest: test_should_destroy_compra
-------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.611160"], ["updated_at", "2023-06-13 22:35:06.611160"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.621380"], ["updated_at", "2023-06-13 22:35:06.621380"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (2.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 44], ["libro_id", 53], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.628611"], ["updated_at", "2023-06-13 22:35:06.628611"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 44], ["libro_id", 53], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.637981"], ["updated_at", "2023-06-13 22:35:06.637981"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started DELETE "/user/44/compras/11" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ComprasController#destroy as HTML
  Parameters: {"user_id"=>"44", "id"=>"11"}
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1 AND "compras"."id" = $2 LIMIT $3[0m  [["user_id", 44], ["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Destroy (1.0ms)[0m  [1m[31mDELETE FROM "compras" WHERE "compras"."id" = $1[0m  [["id", 11]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/44/compras
Completed 302 Found in 13ms (ActiveRecord: 2.9ms | Allocations: 985)
  [1m[36mCompra Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_create_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.678440"], ["updated_at", "2023-06-13 22:35:06.678440"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.690955"], ["updated_at", "2023-06-13 22:35:06.690955"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 45], ["libro_id", 54], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.699913"], ["updated_at", "2023-06-13 22:35:06.699913"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompra Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
Started POST "/libros/54/compras" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ComprasController#create as HTML
  Parameters: {"compra"=>{"estado"=>"E"}, "libro_id"=>"54"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.8ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 45], ["libro_id", 54], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.718128"], ["updated_at", "2023-06-13 22:35:06.718128"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/45/compras
Completed 302 Found in 10ms (ActiveRecord: 2.0ms | Allocations: 769)
  [1m[36mCompra Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "compras"[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
ComprasControllerTest: test_should_get_new
------------------------------------------
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.734634"], ["updated_at", "2023-06-13 22:35:06.734634"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.745735"], ["updated_at", "2023-06-13 22:35:06.745735"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 46], ["libro_id", 55], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.751617"], ["updated_at", "2023-06-13 22:35:06.751617"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/55/compras/new" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ComprasController#new as HTML
  Parameters: {"libro_id"=>"55"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.2ms | Allocations: 1269)
  Rendered componentes/_footer.html.erb (Duration: 1.2ms | Allocations: 557)
  Rendered compras/new.html.erb within layouts/application (Duration: 14.4ms | Allocations: 3748)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 4169)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 0.5ms | Allocations: 5136)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
ComprasControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.790407"], ["updated_at", "2023-06-13 22:35:06.790407"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.802727"], ["updated_at", "2023-06-13 22:35:06.802727"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 47], ["libro_id", 56], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.810650"], ["updated_at", "2023-06-13 22:35:06.810650"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/47/compras/15/edit" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ComprasController#edit as HTML
  Parameters: {"user_id"=>"47", "id"=>"15"}
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 1.6ms | Allocations: 1189)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.1ms | Allocations: 556)
  Rendered compras/edit.html.erb within layouts/application (Duration: 16.2ms | Allocations: 4012)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 4407)
Completed 200 OK in 22ms (Views: 17.6ms | ActiveRecord: 0.9ms | Allocations: 5047)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
ComprasControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.847462"], ["updated_at", "2023-06-13 22:35:06.847462"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.857912"], ["updated_at", "2023-06-13 22:35:06.857912"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (1.2ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 48], ["libro_id", 57], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.864470"], ["updated_at", "2023-06-13 22:35:06.864470"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/48/compras" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ComprasController#index as HTML
  Parameters: {"user_id"=>"48"}
  Rendering layout layouts/application.html.erb
  Rendering compras/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.2ms | Allocations: 1191)
  [1m[36mCompra Load (0.9ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."user_id" = $1[0m  [["user_id", 48]]
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 498)
  Rendered compras/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3543)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 3928)
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 0.9ms | Allocations: 4299)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
ComprasControllerTest: test_should_update_compra
------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.0ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.895638"], ["updated_at", "2023-06-13 22:35:06.895638"], ["picture", nil]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.909473"], ["updated_at", "2023-06-13 22:35:06.909473"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.6ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 49], ["libro_id", 58], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.915916"], ["updated_at", "2023-06-13 22:35:06.915916"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/user/49/compras/17" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ComprasController#update as HTML
  Parameters: {"compra"=>{"estado"=>"Updated Estado"}, "user_id"=>"49", "id"=>"17"}
  [1m[36mCompra Load (0.7ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mCompra Update (1.8ms)[0m  [1m[33mUPDATE "compras" SET "estado" = $1, "updated_at" = $2 WHERE "compras"."id" = $3[0m  [["estado", "Updated Estado"], ["updated_at", "2023-06-13 22:35:06.935014"], ["id", 17]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/user/49/compras
Completed 302 Found in 16ms (ActiveRecord: 4.2ms | Allocations: 1366)
  [1m[36mCompra Load (0.5ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
ComprasControllerTest: test_should_show_compra
----------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.6ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "B"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:06.950797"], ["updated_at", "2023-06-13 22:35:06.950797"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:06.959458"], ["updated_at", "2023-06-13 22:35:06.959458"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompra Create (0.9ms)[0m  [1m[32mINSERT INTO "compras" ("user_id", "libro_id", "estado", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 50], ["libro_id", 59], ["estado", "E"], ["created_at", "2023-06-13 22:35:06.967144"], ["updated_at", "2023-06-13 22:35:06.967144"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/user/50/compras/18" for 127.0.0.1 at 2023-06-13 18:35:06 -0400
Processing by ComprasController#show as HTML
  Parameters: {"user_id"=>"50", "id"=>"18"}
  [1m[36mCompra Load (0.6ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering compras/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.8ms | Allocations: 1172)
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  Rendered componentes/_footer.html.erb (Duration: 2.6ms | Allocations: 498)
  Rendered compras/show.html.erb within layouts/application (Duration: 20.6ms | Allocations: 3132)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 3516)
Completed 200 OK in 30ms (Views: 22.8ms | ActiveRecord: 3.0ms | Allocations: 3928)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_index
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 6.1ms | Allocations: 1082)
  Rendered componentes/_footer.html.erb (Duration: 1.6ms | Allocations: 499)
  Rendered home/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 3380)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 3805)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.0ms | Allocations: 4576)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
HomeControllerTest: test_should_get_inicio
------------------------------------------
Started GET "/inicio" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by HomeController#inicio as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/inicio.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 12.2ms | Allocations: 868)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 498)
  Rendered home/inicio.html.erb within layouts/application (Duration: 32.4ms | Allocations: 3726)
  Rendered layout layouts/application.html.erb (Duration: 34.0ms | Allocations: 4110)
Completed 200 OK in 46ms (Views: 45.1ms | ActiveRecord: 0.0ms | Allocations: 4477)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:07.149177"], ["updated_at", "2023-06-13 22:35:07.149177"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/profile" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by UsersController#show as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 5.7ms | Allocations: 1273)
  Rendered componentes/_footer.html.erb (Duration: 2.3ms | Allocations: 499)
  Rendered users/show.html.erb within layouts/application (Duration: 23.2ms | Allocations: 3778)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | Allocations: 4200)
Completed 200 OK in 39ms (Views: 35.6ms | ActiveRecord: 0.0ms | Allocations: 4987)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_no_se_deber√≠a_guardar_user_sin_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
UserTest: test_s√≠_se_deber√≠a_guardar_user_con_sus_atributos
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aaaa@uc.cl"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "nombre", "telefono", "descripcion", "tipo_de_usuario", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["email", "aaaa@uc.cl"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-06-13 22:35:07.239533"], ["updated_at", "2023-06-13 22:35:07.239533"], ["nombre", "aaaa"], ["telefono", "123456789"], ["descripcion", "aaaa"], ["tipo_de_usuario", "C"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
LibrosControllerTest: test_should_destroy_libro
-----------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:07.249173"], ["updated_at", "2023-06-13 22:35:07.249173"], ["picture", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started DELETE "/libros/60" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by LibrosController#destroy as HTML
  Parameters: {"id"=>"60"}
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mResena Load (0.5ms)[0m  [1m[34mSELECT "resenas".* FROM "resenas" WHERE "resenas"."libro_id" = $1[0m  [["libro_id", 60]]
  [1m[36mMensaje Load (0.6ms)[0m  [1m[34mSELECT "mensajes".* FROM "mensajes" WHERE "mensajes"."libro_id" = $1[0m  [["libro_id", 60]]
  [1m[36mCompra Load (0.4ms)[0m  [1m[34mSELECT "compras".* FROM "compras" WHERE "compras"."libro_id" = $1[0m  [["libro_id", 60]]
  [1m[36mLibro Destroy (1.6ms)[0m  [1m[31mDELETE FROM "libros" WHERE "libros"."id" = $1[0m  [["id", 60]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros
Completed 303 See Other in 21ms (ActiveRecord: 4.5ms | Allocations: 1543)
  [1m[36mLibro Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_create_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:07.292398"], ["updated_at", "2023-06-13 22:35:07.292398"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mLibro Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
Started POST "/libros" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by LibrosController#create as HTML
  Parameters: {"libro"=>{"titulo"=>"B", "fecha"=>"2000", "categoria"=>"Suspenso", "autor"=>"B", "precio"=>"1000", "stock"=>"1", "descripcion"=>"B"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:07.308916"], ["updated_at", "2023-06-13 22:35:07.308916"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/62
Completed 302 Found in 10ms (ActiveRecord: 1.7ms | Allocations: 865)
  [1m[36mLibro Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "libros"[0m
  [1m[36mLibro Load (0.5ms)[0m  [1m[34mSELECT "libros".* FROM "libros" ORDER BY "libros"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
LibrosControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.8ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:07.331159"], ["updated_at", "2023-06-13 22:35:07.331159"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/new" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by LibrosController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering libros/new.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.6ms | Allocations: 918)
  Rendered componentes/_footer.html.erb (Duration: 0.9ms | Allocations: 556)
  Rendered libros/new.html.erb within layouts/application (Duration: 32.1ms | Allocations: 13260)
  Rendered layout layouts/application.html.erb (Duration: 33.2ms | Allocations: 13657)
Completed 200 OK in 35ms (Views: 34.0ms | ActiveRecord: 0.0ms | Allocations: 14017)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
LibrosControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:07.386982"], ["updated_at", "2023-06-13 22:35:07.386982"], ["picture", nil]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros/64/edit" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by LibrosController#edit as HTML
  Parameters: {"id"=>"64"}
  [1m[36mLibro Load (0.6ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering libros/edit.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 2.1ms | Allocations: 932)
  Rendered componentes/_footer.html.erb (Duration: 1.3ms | Allocations: 498)
  Rendered libros/edit.html.erb within layouts/application (Duration: 35.4ms | Allocations: 12892)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 13277)
Completed 200 OK in 41ms (Views: 38.1ms | ActiveRecord: 0.6ms | Allocations: 13768)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
LibrosControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (0.7ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:07.446749"], ["updated_at", "2023-06-13 22:35:07.446749"], ["picture", nil]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/libros" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by LibrosController#index as HTML
  [1m[36mCompra Count (0.7ms)[0m  [1m[34mSELECT COUNT("compras"."id") AS "count_id", "compras"."libro_id" AS "compras_libro_id" FROM "compras" GROUP BY "compras"."libro_id" ORDER BY count_id desc LIMIT $1[0m  [["LIMIT", 3]]
  Rendering layout layouts/application.html.erb
  Rendering libros/index.html.erb within layouts/application
  Rendered componentes/_header.html.erb (Duration: 3.6ms | Allocations: 759)
  [1m[36mLibro Load (1.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros"[0m
  Rendered componentes/_footer.html.erb (Duration: 1.5ms | Allocations: 498)
  Rendered libros/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 3342)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 3726)
Completed 200 OK in 23ms (Views: 17.9ms | ActiveRecord: 2.0ms | Allocations: 4535)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
LibrosControllerTest: test_should_update_libro
----------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Create (1.1ms)[0m  [1m[32mINSERT INTO "libros" ("titulo", "fecha", "categoria", "autor", "precio", "stock", "descripcion", "created_at", "updated_at", "picture") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["titulo", "B"], ["fecha", 2000], ["categoria", "Suspenso"], ["autor", "B"], ["precio", "1000"], ["stock", "1"], ["descripcion", "B"], ["created_at", "2023-06-13 22:35:07.487219"], ["updated_at", "2023-06-13 22:35:07.487219"], ["picture", nil]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/libros/66" for 127.0.0.1 at 2023-06-13 18:35:07 -0400
Processing by LibrosController#update as HTML
  Parameters: {"libro"=>{"titulo"=>"C", "fecha"=>"2001", "categoria"=>"Romance", "autor"=>"C", "precio"=>"1001", "stock"=>"2", "descripcion"=>"C"}, "id"=>"66"}
  [1m[36mLibro Load (0.7ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLibro Update (0.5ms)[0m  [1m[33mUPDATE "libros" SET "titulo" = $1, "fecha" = $2, "categoria" = $3, "autor" = $4, "precio" = $5, "stock" = $6, "descripcion" = $7, "updated_at" = $8 WHERE "libros"."id" = $9[0m  [["titulo", "C"], ["fecha", 2001], ["categoria", "Romance"], ["autor", "C"], ["precio", "1001"], ["stock", "2"], ["descripcion", "C"], ["updated_at", "2023-06-13 22:35:07.500702"], ["id", 66]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/libros/66
Completed 302 Found in 12ms (ActiveRecord: 2.6ms | Allocations: 1042)
  [1m[36mLibro Load (0.3ms)[0m  [1m[34mSELECT "libros".* FROM "libros" WHERE "libros"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
